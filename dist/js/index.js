var app=angular.module("myApp",["ngRoute"]);app.run(["$rootScope","$location","$http","$timeout",function(e,t,a,n){e.isActive=function(e){if(e)return"init-on"},e.isActive1=function(e){if(e)return"init-on-on"},void 0!=e.UserName&&null!=e.UserName||(e.UserName="User"),e.table2AllChecks=0,e.cscs=!1,e.cece=!1,e.aqAll=!0,e.getAllFalse=function(){e.activeTwo=!1,e.activeThree=!1,e.activeFour=!1,e.activeFive=!1,e.activeSix=!1,e.activeSeven=!1,e.activeEight=!1,e.activeNine=!1,e.activeTen=!1,e.activeEleven=!1,e.activeTwelve=!1,e.activeThirdteen=!1,e.activeFourteen=!1,e.activeFifteen=!1,e.activeSixteen=!1,e.activeSeventeen=!1,e.activeEightteen=!1,e.activeNineteen=!1,e.activeTwenty=!1,e.activeTwentyone=!1,e.activeTwentytwo=!1,e.activeTwentythree=!1,e.activeTwentyfour=!1,e.activeTwentyfive=!1,e.activeTwentySix=!1,e.activeTwentySeven=!1,e.activeTwentyEight=!1,e.activeTwentyNine=!1,e.activeThirty=!1,e.activeThirtyOne=!1,e.activeThirtyTwo=!1,e.activeThirtySree=!1,e.activeThirtyFive=!1,e.activeThirtySix=!1,e.activeThirtySeven=!1,e.activeThirtyEight=!1,e.activeThirtyNine=!1,e.activemmp=!1,e.navPartOne=!1,e.navPartThree=!1,e.navPartFour=!1,e.navPartSix=!1,e.navPartSeven=!1,e.navPartEight=!1},e.link="/wgcs",e.firstLogin=!1,e.huyt=0,a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,2,3])+"&pageNo=1&pageSize=100").success(function(t){200==t.code?e.huyt=t.data.content[0].id:($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),e.initOver=!1,e.comWechatNum=!1,e.rightTaskEatch=1;setInterval(function(){if(1==e.initOver){var t=[],n=[],i=[],o=[];a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(a){if(200==a.code){for(var s=0;s<a.data.length;s++)t=a.data,1==a.data[s].status?n.push(a.data[s]):0==a.data[s].status?i.push(a.data[s]):2==a.data[s].status&&o.push(a.data[s]);1==e.rightTaskEatch?e.taskList=t:2==e.rightTaskEatch?e.taskList=n:3==e.rightTaskEatch?e.taskList=i:4==e.rightTaskEatch&&(e.taskList=o)}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,2,3])+"&pageNo=1&pageSize=100").success(function(t){for(var a=[],n=0;n<t.data.content.length;n++)a.push(t.data.content[n]);0==e.firstLogin?e.firstLogin=!0:e.huyt=a[0].id}),a.get(e.link+"/task/getTaskToast?id="+e.huyt).success(function(t){if(200==t.code)if(0==t.data.length);else for(var a=0;a<t.data.length;a++)-1==t.data[a].status?($(".page1-alert-danger1").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;"+t.data[a].scriptChName+"任务执行失败"),setTimeout(function(){$(".page1-alert-danger1").hide(300)},2e3)):3==t.data[a].status?($(".page1-alert-waring1").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;"+t.data[a].scriptChName+"任务执行异常"),setTimeout(function(){$(".page1-alert-waring1").hide(300)},2e3)):("升级微信客户端"==t.data[a].scriptChName?e.comWechatNum=!0:e.comWechatNum=!1,"获取微信好友列表"==t.data[a].scriptChName&&(e.reloads=!0),"获取微信群聊列表"==t.data[a].scriptChName&&(e.reloads1=!0),$(".page1-alert-success1").show(300).find(".page1-alert-success-con").html("&nbsp;&nbsp;"+t.data[a].scriptChName+"任务执行完成"),setTimeout(function(){$(".page1-alert-success1").hide(300)},2e3))})}},2e3);e.getStatus=function(e){var t;return 0==e?t="等待执行":1==e?t="正在执行":2==e?t="执行完成":-1==e?t="执行失败":3==e&&(t="任务异常"),t},e.changeColor=function(e){var t;return-1==e?t="page-red":2==e?t="page-green":0==e?t="":1==e?t="page-blue":3==e&&(t="page-yellow"),t},e.getLineHigh=function(e){$(e.target).css("overflow-y","auto")},e.getLineDown=function(e){$(e.target).css("overflow","hidden")},e.changeSize=function(){e.isScreenPage||a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){if(200==t.code)return e.rightTaskEatch=1,e.taskList=t.data,e.taskSize="task-big",e.aqAll=!1,e.taskButtonHide=!0,e.taskHideButton=!0,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.taskList;$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)})},e.getHide=function(){e.toshow=!1,e.aqAll=!0,e.toshowtwo=!1,e.taskSize="task-small",n(function(){e.taskButtonHide=!1,e.taskHideButton=!1,e.newBell=!1},800)},e.newBell=!1,e.isEven=function(e){var t;return e%2==0&&(t="deep-color-li"),t},e.del=!0,e.deltask=function(t){var n="";a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(i){200==i.code?(e.taskList=i.data,e.del=!0,e.delone=!1,e.deltwo=!1,e.delsree=!1,n=e.taskList[t].id):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)),void 0!=n&&a.get(e.link+"/task/delTask?id="+n).success(function(t){200==t.code&&a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code&&(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1)})}).error(function(e){})})},e.getTaskAll=function(){e.rightTaskEatch=1,e.del=!0,e.delone=!1,e.deltwo=!1,e.delsree=!1,a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},e.deltaskone=function(t){var n="";a.get(e.link+"/task/getGroupTaskInit?status=1").success(function(i){200==i.code?(e.taskList=i.data,n=e.taskList[t].id):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)),void 0!=n&&a.get(e.link+"/task/delTask?id="+n).success(function(t){200==t.code&&a.get(e.link+"/task/getGroupTaskInit?status=1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!1,e.taskDoing=!0,e.taskWait=!1,e.taskDown=!1):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})}).error(function(e){})})},e.getTaskDoing=function(){e.rightTaskEatch=2,e.del=!1,e.delone=!0,e.deltwo=!1,e.delsree=!1,a.get(e.link+"/task/getGroupTaskInit?status=1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!1,e.taskDoing=!0,e.taskWait=!1,e.taskDown=!1):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},e.deltasktwo=function(t){var n="";a.get(e.link+"/task/getGroupTaskInit?status=0").success(function(i){200==i.code?(e.taskList=i.data,n=e.taskList[t].id):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)),void 0!=n&&a.get(e.link+"/task/delTask?id="+n).success(function(t){200==t.code&&a.get(e.link+"/task/getGroupTaskInit?status=0").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!1,e.taskDoing=!1,e.taskWait=!0,e.taskDown=!1,e.waittaskList=e.taskList):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})}).error(function(e){})})},e.getTaskWait=function(){e.rightTaskEatch=3,e.del=!1,e.delone=!1,e.deltwo=!0,e.delsree=!1,a.get(e.link+"/task/getGroupTaskInit?status=0").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!1,e.taskDoing=!1,e.taskWait=!0,e.taskDown=!1,e.waittaskList=e.taskList):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},e.deltasksree=function(t){a.get(e.link+"/task/getGroupTaskInit?status=2").success(function(n){if(200==n.code){e.taskList=n.data;var i=e.taskList[t].id}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);void 0!=i&&a.get(e.link+"/task/delTask?id="+i).success(function(t){200==t.code&&a.get(e.link+"/task/getGroupTaskInit?status=2").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!1,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})}).error(function(e){})})},e.getTaskDown=function(){e.rightTaskEatch=4,e.del=!1,e.delone=!1,e.deltwo=!1,e.delsree=!0,a.get(e.link+"/task/getGroupTaskInit?status=2").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!1,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},a.get(e.link+"/group/getGroupData").success(function(t){e.groupNames=t.data,e.groupNumbers=t.data.length,e.pageZhe=!0,e.AssGroupNames=[],e.allEquipIds=[],e.equipCounts=0;for(var a=0;a<t.data.length;a++)e.AssGroupNames.push(t.data[a].group.name),e.allEquipIds.push(t.data[a].group.id),e.equipCounts+=t.data[a].count;for(var n=0;n<t.data.length;n++)if(0!=t.data[n].count){e.pageZhe=!1;break}}),e.idNow=0,e.getMoreEquip=function(t){var n=[t];e.idNow!=t&&(e.idNow=t,a.get(e.link+"/device/getDeviceByGroup?groupIds="+JSON.stringify(n)).success(function(t){e.deviceEquip=t.data}))},e.moveToId="",a.get(e.link+"/group/getGroupDataByStatus").success(function(t){if(200==t.code){e.onlineGroupNames=t.data,e.moArray=[];for(var a=0;a<t.data[0].deviceVos.length;a++)e.moArray.push(t.data[0].deviceVos[a].device)}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),e.Status=function(e){return 1==e?"在线":"离线"},e.jipStatus=function(e){return 2==e?"成功":3==e?"异常":"失败"},e.StatusTurn=function(e){return 1==e?"启动":"已启动"},e.StatusTurn1=function(e){return 1==e?"精准加人":"通讯录加人"},e.socketArr=[],e.$watch("socketArr",function(e,t){if(t.length>0)for(var a=0;a<t.length;a++)t[a].close()}),e.nameSlice=function(e){return e.length>=8?e.slice(0,8)+"...":e},e.TimeSlice=function(e){return""==e?e:e.length>10?e.slice(0,10):e},e.showSex=function(e){return 0==e?"未知":e.length>10?"女":"男"},e.showWhichName=function(e,t){var a="";return""==t?(a=e,e.length>=8&&(a=e.slice(0,8)+"...")):(a=t,t.length>=8&&(a=e.slice(0,8)+"...")),a},e.showWhichName1=function(e){return e.length>=8?e.slice(0,7)+"...":e}}]),app.controller("loginC",["$rootScope","$scope","$http","$timeout",function(e,t,a,n){a.get(e.link+"/checkSession").success(function(e){200==e.code&&1==e.data&&(window.location.href="http://"+window.location.host+"/wgcs/#/page34")}),$(".side-bar1").hide(),$(".task-box").hide(),$(".view-box").css("height","60%"),e.mainShow=!1;var i=JSON.parse(localStorage.getItem("remember-me"));null==i||void 0==i.name||void 0==i.pas||null==i.name||null==i.pas?($(".remember-me-icon").removeClass("onhaha"),t.indexs=0,t.nameLogin="",t.pasLogin=""):($(".remember-me-icon").addClass("onhaha"),t.nameLogin=i.name,t.pasLogin=i.pas,t.indexs=1),$(".remember-me-icon").click(function(){t.indexs++,t.indexs%2==0?$(".remember-me-icon").removeClass("onhaha"):$(".remember-me-icon").addClass("onhaha")});var o=/^[a-zA-Z0-9_]{4,16}$/;$(".Verification-user").blur(function(){1==o.test(t.nameLogin)?$(".login-tishi").hide():(console.log(11,t.nameLogin),$(".login-tishi").show().html("用户名由4到16位(字母,数字,下划线,减号)组成"))});var s=/^[0-9a-zA-Z]{6,16}$/;$(".Verification-password").blur(function(){1==s.test(t.pasLogin)?$(".login-tishi").hide():(console.log(11,t.nameLogin),$(".login-tishi").show().html("密码由6到16位(字母,数字)组成"))}),t.sendMsg=function(){sessionStorage.getItem("za-session");if(0==s.test(t.pasLogin)||0==o.test(t.nameLogin))$(".login-tishi").show().html("用户名或密码不正确");else{var n=new FormData;n.append("username",t.nameLogin),n.append("password",t.pasLogin),a({method:"POST",url:e.link+"/login",data:n,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(a){if(200==a.code){if(e.UserName=t.nameLogin,$(".remember-me-icon").hasClass("onhaha")){var n=JSON.stringify({name:t.nameLogin,pas:t.pasLogin});localStorage.setItem("remember-me",n)}else localStorage.removeItem("remember-me");localStorage.setItem("sessionId",a.data),window.location.href="http://"+window.location.host+"/wgcs/#/page34"}else $(".login-tishi").show().html(a.msg)})}}}]),app.controller("mainC",["$rootScope","$scope","$timeout","$location","$anchorScroll","$http",function(e,t,a,n,i,o){var s="",r=[];o.get(e.link+"/device/getAllDevice?pageNo=1&pageSize=15").success(function(e){if(200==e.code){s=e.data.content;for(var t=0;t<s.length;t++)1==s[t].status&&r.push(s[t].device)}else $(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3)}),r.length<=0||r.join(","),t.goScreen=function(){localStorage.removeItem("devices"),localStorage.setItem("devices",""+r),window.close("http://"+window.location.host+"/wgcs/screens.html ","_self"),window.open("http://"+window.location.host+"/wgcs/screens.html","true")},t.getTop=function(t,s){switch(o.get(e.link+"/group/getGroupDataByStatus").success(function(t){if(200==t.code){e.onlineGroupNames=t.data,e.moArray=[];for(var a=0;a<t.data[0].deviceVos.length;a++)e.moArray.push(t.data[0].deviceVos[a].device),e.moArraylength=e.moArray.length}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),o.get(e.link+"/checkSession").success(function(e){200==e.code&&0==e.data&&($(".login-tishi").show().html("登录身份过期，请再次登陆"),window.location.href="http://"+window.location.host+"/wgcs/#/login")}),n.hash("page-top"+t),i(),s){case"page1":n.path("/page1");break;case"page2":n.path("/page2");break;case"page3":n.path("/page3");break;case"page4":n.path("/page4");break;case"page6":n.path("/page6");break;case"page7":n.path("/page7");break;case"page8":n.path("/page8");break;case"page9":n.path("/page9");break;case"page10":n.path("/page10");break;case"page11":n.path("/page11");break;case"page12":n.path("/page12");break;case"page13":n.path("/page13");break;case"page14":n.path("/page14");break;case"page15":n.path("/page15");break;case"page16":n.path("/page16");break;case"page17":n.path("/page17");break;case"page18":n.path("/page18"),e.viewSize="view-big",e.taskSize="task-small",a(function(){e.taskButtonHide=!1,e.taskHideButton=!1,e.newBell=!1},500);break;case"page19":n.path("/page19");break;case"page20":n.path("/page20");break;case"page21":n.path("/page21");break;case"page22":n.path("/page22");break;case"page23":n.path("/page23");break;case"page24":n.path("/page24");break;case"page25":n.path("/page25");break;case"page26":n.path("/page26");break;case"page27":n.path("/page27");break;case"page28":n.path("/page28");break;case"page29":n.path("/page29");break;case"page30":n.path("/page30");break;case"page31":n.path("/page31");break;case"page32":n.path("/page32");break;case"page33":n.path("/page33");break;case"page34":n.path("/page34");break;case"page35":n.path("/page35");break;case"page36":n.path("/page36");break;case"page37":n.path("/page37");break;case"page38":n.path("/page38");break;case"page39":n.path("/page39")}}}]),app.controller("page10C",["$rootScope","$scope","$location","$anchorScroll","$http",function(e,t,a,n,i){e.getAllFalse(),e.activeTen=!0,e.navPartThree=!0,e.isScreenPage=!1,t.maxTime=10,t.minTime=1,t.sendAll=function(){for(var o=0,s=[];o<$(".new-wx-equip-input10").length;o++)$(".new-wx-equip-input10").eq(o).prop("checked")&&s.push($(".new-wx-equip-input10").eq(o).parent().next().attr("title"));if(0==s.length)alert("请勾选需要操作的设备!");else if(""==t.timeInterval)alert("请填写时间间隔！");else{var r=new FormData;r.append("devices",JSON.stringify(s)),r.append("maxInterval",t.maxTime),r.append("minInterval",t.minTime),i({method:"POST",url:e.link+"/wechatPlus/receiveRequest",data:r,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top10"),n(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}}}]),app.controller("page11C",["$rootScope","$scope","$location","$anchorScroll","$timeout","$http",function(e,t,a,n,i,o){e.upMsg=0,e.getAllFalse(),e.activeEleven=!0,e.navPartThree=!0,e.isScreenPage=!1,t.ThumbsUpTurn=!1,t.getNav=function(){a.hash("nav-bottom11"),n()},t.outSideBox=!0,t.inSideBox=!1,t.getInsideBox=function(a,n,i){t.MemberId=a,t.newDevices=i,t.MemberNumber=n,o.get(e.link+"/operate/getContact?wechatId="+a+"&pageNo=1&pageSize=2000").success(function(e){200==e.code?(t.outSideBox=!1,t.inSideBox=!0,t.WxList=e.data.content,t.assPage=1):alert(e.msg)})},t.getBack=function(){t.outSideBox=!0,t.inSideBox=!1},t.getNew=function(t){o.get(e.link+"/wechat/getFriendList?wechatId="+t).success(function(t){200==t.code?(alert("添加任务成功！"),o.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})},t.editBoxOne=!1,t.editBoxTwo=!1,t.newName="",t.newTag="",t.getEditBoxOne=function(e){t.editBoxOne=!0,t.editId=e},t.getEditBoxTwo=function(e){t.editBoxTwo=!0,t.editId=e},t.cancelButton=function(){t.editBoxOne=!1,t.editBoxTwo=!1},t.SureButtonOne=function(a){""==t.newName?alert("请填写需要更改的昵称！"):o.get(e.link+"/operate/updateContact?name="+t.newName+"&id="+a).success(function(a){200==a.code?(alert("修改成功！"),t.editBoxOne=!1,t.newName="",o.get(e.link+"/operate/getContact?wechatId="+t.MemberId+"&pageNo="+t.assPage+"&pageSize=16").success(function(e){200==e.code?t.WxList=e.data.content:alert(e.msg)})):alert(a.msg)})},t.SureButtonTwo=function(a){""==t.newTag?alert("请填写需要更改的昵称！"):o.get(e.link+"/operate/updateContact?tag="+t.newTag+"&id="+a).success(function(a){200==a.code?(alert("修改成功！"),t.editBoxTwo=!1,t.newTag="",o.get(e.link+"/operate/getContact?wechatId="+t.MemberId+"&pageNo="+t.assPage+"&pageSize=16").success(function(e){200==e.code?t.WxList=e.data.content:alert(e.msg)})):alert(a.msg)})},t.getNewMore=function(){if(t.checkedMore=new Array,console.log(e.MemberList11),void 0!=e.MemberList11){angular.forEach(e.MemberList11,function(e){t.checkedMore.push(e.wechatVo.id)});var a=angular.toJson(t.checkedMore),n=new FormData;n.append("wechatId",a),o({method:"POST",url:e.link+"/wechat/getSomeFriendList",data:n,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(o.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)}),alert("添加任务栏成功！")):alert(t.msg)})}else alert("请选择需要刷新好友列表设备")},t.sendMsgFri=!1,t.NoMessageSendBox=function(){t.sendMsgFri=!1},t.maxInterval=10,t.minInterval=1,t.getMessageSendBox=function(){t.groupArr=[],t.clubNames=[],t.saySomething="";for(var e=0;e<$(".page11-div-checkbox").length;e++)$(".page11-div-checkbox").eq(e).find("input").prop("checked")&&(t.groupArr.push($(".page11-div-checkbox").eq(e).attr("group_id")),t.clubNames.push($(".page11-div-checkbox").eq(e).attr("club_name")));0==t.groupArr.length?alert("请勾选需要发送的好友名称！"):t.sendMsgFri=!0},t.devicss=[],t.sureMessageSendBox=function(){t.devicss.push(t.newDevices),""==t.saySomething?alert("请填写需要发送的内容!"):(console.log(t.groupArr.length),t.groupArr.length>200&&alert("由于微信策略限制每天最多群发好友上限800人，每次群发上限200人"),t.sendMsgFri=!1,t.sendObj1=new FormData,t.messageSendBox=!1,t.sendObj1.append("devices",JSON.stringify(t.devicss)),t.sendObj1.append("isAll",e.upMsg),t.sendObj1.append("friendsIdList",JSON.stringify(t.groupArr)),t.sendObj1.append("msg",t.saySomething),t.sendObj1.append("maxInterval",t.maxInterval),t.sendObj1.append("minInterval",t.minInterval),o({method:"POST",url:e.link+"/operate/sendMsgByDevice",data:t.sendObj1,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(a){200==a.code?(o.get(e.link+"/operate/getContact?wechatId="+t.MemberId+"&pageNo=1&pageSize=5000").success(function(a){200==a.code&&($("#zheMoren").removeClass("on").find("input").prop("checked",function(){return!1}),t.devicss=[],e.upMsg=0,t.outSideBox=!1,t.inSideBox=!0,t.WxList=a.data.content,alert("任务添加成功！"))}),t.messageSendBox=!1,o.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):(t.devicss=[],alert(a.msg))}))},t.ThumbsUpNums=1,t.ThumbsUp=function(){t.groupArr1=[],t.clubNames1=[];for(var e=0;e<$(".page11-div-checkbox").length;e++)$(".page11-div-checkbox").eq(e).find("input").prop("checked")&&(t.groupArr1.push($(".page11-div-checkbox").eq(e).attr("group_id")),t.clubNames1.push($(".page11-div-checkbox").eq(e).attr("club_name")));0==t.groupArr1.length?alert("请勾选需要发送的好友！"):t.ThumbsUpTurn=!0},t.NoThumbsUpTurn=function(){t.ThumbsUpTurn=!1,t.ThumbsUpNums=1},t.lastFound=function(){void 0==t.ThumbsUpNums&&(alert('点赞数量范围为"1-30"请再次输入'),t.ThumbsUpNums=1)},t.sureThumbsUpTurn=function(){t.devicss.push(t.newDevices),t.sendObj2=new FormData,t.sendObj2.append("devices",JSON.stringify(t.devicss)),t.sendObj2.append("likeCount",t.ThumbsUpNums),t.sendObj2.append("friendsIdList",JSON.stringify(t.groupArr1)),o({method:"POST",url:e.link+"/operate/praiseForFriends",data:t.sendObj2,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(a){200==a.code?(t.devicss=[],t.ThumbsUpTurn=!1,alert("任务添加成功！"),o.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):(t.devicss=[],alert(a.msg))})}}]),app.controller("page12C",["$rootScope","$scope","$location","$anchorScroll","$timeout","$http",function(e,t,a,n,i,o){e.getAllFalse(),e.activeTwelve=!0,e.navPartThree=!0,e.isScreenPage=!1,t.getNav=function(){a.hash("nav-bottom12"),n()},t.outSideBox=!0,t.ceelue=!0,t.inSideBox=!1,t.isAllCheckBack=!1,t.sayHello="您好，很高兴认识您！",t.maxInterval=10,t.minInterval=1,t.sendNum=5,t.allGroup=0,t.topGroup=0,t.mustChoose=[],t.picArr=[],t.getInsideBox=function(a,n){t.MemberNumber=a,t.WxMemberId=n,t.ceelue=!1,t.isAllCheckBack=!0,$(".wx-group-box").css("height","1080px"),$("#addColor").css("display","none"),$("#addColor1").css("display","none"),$(".page12-checkAll-div").removeClass("on").find("input").prop("checked",function(){return!1}),o.get(e.link+"/operate/getClubByWechatNumber?wechatId="+n+"&pageNo=1&pageSize=5000").success(function(e){200==e.code?(t.outSideBox=!1,t.inSideBox=!0,t.WxList=e.data.content,t.assPage=1):alert(e.msg)})},t.getGroupNew=function(t){o.get(e.link+"/wechat/getGroupList?wechatId="+t).success(function(t){200==t.code?(alert("添加任务成功！"),o.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code&&(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0)})):alert(t.msg)})},t.getBack=function(){t.ceelue=!0,t.outSideBox=!0,t.inSideBox=!1,$(".wx-group-box").css("height","1250px"),$("#addColor1").css("display","block"),$("#addColor").css("display","block")};var s="";$(".page12-select-type").change(function(){1==(s=$(this).val())?(t.allGroup=1,t.topGroup=0,$(".writeNums").hide()):2==s?($(".writeNums").hide(),t.allGroup=0,t.topGroup=1):3==s?($(".writeNums").show(),t.allGroup=0,t.topGroup=0):($(".writeNums").hide(),t.allGroup=0,t.topGroup=0)}),t.sendObj=new FormData,t.sendObj.append("file1",""),t.sendObj.append("file2",""),t.sendObj.append("file3",""),t.sendObj.append("file4",""),t.sendObj.append("file5",""),t.sendObj.append("file6",""),t.sendObj.append("file7",""),t.sendObj.append("file8",""),t.sendObj.append("file9",""),t.sendAll=function(){for(var i=0,s=[];i<$(".new-wx-equip-input12").length;i++)$(".new-wx-equip-input12").eq(i).prop("checked")&&(s.push($(".new-wx-equip-input12").eq(i).parent().next().attr("title")),console.log(s));""==t.timeInterval?alert("请填写时间间隔！"):0==s.length?alert("请勾选需要操作的群组！"):(t.sendObj.append("msg",t.sayHello),t.sendObj.append("allGroup ",t.allGroup),t.sendObj.append("topGroup ",t.topGroup),t.sendObj.append("groupNum",t.sendNum),t.sendObj.append("devices",JSON.stringify(s)),t.sendObj.append("maxInterval",t.maxInterval),t.sendObj.append("minInterval",t.minInterval),console.log(t.sendObj),o({method:"POST",url:e.link+"/operate/sendMsgToGroup",data:t.sendObj,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top12"),n(),location.reload(),o.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):(location.reload(),alert(t.msg))}))},t.labelBox=!1,t.getLabelBox=function(e){t.TagName="",t.TagId=e,t.labelBox=!0},t.cancelLabelBox=function(){t.labelBox=!1},t.SureLabelBox=function(a){""==t.TagName?alert("请输入需要更改的标签名"):o.get(e.link+"/operate/addTagToClub?id="+a+"&tag="+t.TagName).success(function(a){200==a.code?(alert("标签成功！"),t.labelBox=!1,o.get(e.link+"/operate/getClubByWechatNumber?wechatId="+t.WxMemberId+"&pageNo="+t.assPage+"&pageSize=17").success(function(e){200==e.code?t.WxList=e.data.content:alert(e.msg)})):alert(a.msg)})},t.messageSendBox=!1,t.getMessageSendBox=function(){t.groupArr=[],t.clubNames=[],t.saySomething="";for(var e=0;e<$(".page12-div-checkbox").length;e++)$(".page12-div-checkbox").eq(e).find("input").prop("checked")&&(t.groupArr.push($(".page12-div-checkbox").eq(e).attr("group_id")),t.clubNames.push($(".page12-div-checkbox").eq(e).attr("club_name")));0==t.groupArr.length?alert("请勾选需要发送的群名称！"):t.messageSendBox=!0},t.cancelMessageSendBox=function(){t.messageSendBox=!1},t.maxTime=5,t.minTime=1,t.sureMessageSendBox=function(){t.sendObj1=new FormData,""==t.saySomething?alert("请填写需要群发的内容!"):(t.sendObj1.append("wechatId",t.WxMemberId),t.sendObj1.append("clubNames",JSON.stringify(t.clubNames)),t.sendObj1.append("msg",t.saySomething),t.sendObj1.append("maxInterval",t.maxTime),t.sendObj1.append("minInterval",t.minTime),o({method:"POST",url:e.link+"/operate/sendClubMsg",data:t.sendObj1,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(a){200==a.code?($(".page12-checkAll-div").removeClass("on").find("input").prop("checked",function(){return!1}),$(".cleanOn").removeClass("on").find("input").prop("checked",function(){return!1}),t.messageSendBox=!1,alert("任务添加成功！"),o.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(a.msg)}))},t.sendMessage=new FormData,t.selected=[1];var r=function(e,a){if("add"==e&&-1==t.selected.indexOf(a)&&t.selected.push(a),"remove"==e&&-1!=t.selected.indexOf(a)){var n=t.selected.indexOf(a);t.selected.splice(n,1)}};t.checkOne=function(a,n,i){var s=a.target.checked?"add":"remove";r(s,n),o.get(e.link+"/operate/getWechatsByGroup?groupIds="+JSON.stringify(t.selected)+"&pageNo=1&pageSize=17").success(function(a){200==a.code?(t.MemberList=a.data.content,t.outSideBox=!0,t.inSideBox=!1,$("#pages12").Page({totalPages:a.data.totalPages,liNums:5,activeClass:"activP",callBack:function(a){o.get(e.link+"/operate/getWechatsByGroup?groupIds="+JSON.stringify(t.selected)+"&pageNo="+a+"&pageSize=17").success(function(e){t.MemberList=e.data.content})}})):alert(a.msg)})},t.isChecked=function(e){return t.selected.indexOf(e)>=0}}]),app.controller("page13C",["$rootScope","$scope","$location","$anchorScroll","$http",function(e,t,a,n,i){e.getAllFalse(),e.activeThirdteen=!0,e.navPartThree=!0,e.isScreenPage=!0,t.getNav=function(){a.hash("nav-bottom13"),n()},t.selected1=[],t.chooseedEquip=0,t.chooseNumber=0,t.unChooseNumber=100;var o=function(e,a,n){if("add"==e&&-1==t.selected1.indexOf(a)&&(t.selected1.push(a),t.chooseedEquip+=n),"remove"==e&&-1!=t.selected1.indexOf(a)){var i=t.selected1.indexOf(a);t.selected1.splice(i,1),t.chooseedEquip-=n}};t.checkOne1=function(a,n,i){var s=a.target.checked?"add":"remove";o(s,n,i),t.chooseNumber=t.chooseedEquip/e.equipCounts*100,t.unChooseNumber=100-t.chooseNumber,$(".all-equip-line-block").css({width:t.chooseNumber+"%",transition:"1s"}),$(".none-equip-line-block").css({width:t.unChooseNumber+"%",transition:"1s"})},t.isChecked1=function(e){return t.selected1.indexOf(e)>=0},t.saySomething="",t.timeInterval=5,t.sendObj=new FormData,t.sendObj.append("file1",""),t.sendObj.append("file2",""),t.sendObj.append("file3",""),t.sendObj.append("file4",""),t.sendObj.append("file5",""),t.sendObj.append("file6",""),t.sendObj.append("file7",""),t.sendObj.append("file8",""),t.sendObj.append("file9",""),t.picArr=[],t.selected=[];var s=function(e,a){if("add"==e&&-1==t.selected.indexOf(a)&&t.selected.push(a),"remove"==e&&-1!=t.selected.indexOf(a)){var n=t.selected.indexOf(a);t.selected.splice(n,1)}};t.checkOne=function(e,t){var a=e.target.checked?"add":"remove";s(a,t)},t.isChecked=function(e){return t.selected.indexOf(e)>=0},t.picNumberBox=!1,t.getPicBox=function(){t.picNumberBox=!0},t.cancelPicBox=function(){t.picNumberBox=!1,t.mustChoose=[],t.unMChoose=[]},t.mustChoose=[],t.unMChoose=[],t.getSureButton=function(){t.mustChoose=t.selected.sort(),t.unChoose=[],t.tmp=t.picArr.concat(t.selected),t.o={};for(var e=0;e<t.tmp.length;e++)t.tmp[e]in t.o?t.o[t.tmp[e]]++:t.o[t.tmp[e]]=1;for(var a in t.o)1==t.o[a]&&t.unChoose.push(parseInt(a));t.unMChoose=t.unChoose.sort(),t.picNumberBox=!1},t.selected2=[];var r=function(e,a){if("add"==e&&-1==t.selected2.indexOf(a)&&t.selected2.push(a),"remove"==e&&-1!=t.selected2.indexOf(a)){var n=t.selected2.indexOf(a);t.selected2.splice(n,1)}};t.checkOne2=function(e,t){var a=e.target.checked?"add":"remove";r(a,t)},t.isChecked2=function(e){return t.selected2.indexOf(e)>=0},t.picNumberBox1=!1,t.getPicBox2=function(){t.picNumberBox1=!0},t.cancelPicBox2=function(){t.picNumberBox1=!1,t.operate=[]},t.operate=[],t.getSureButton2=function(){t.operate=t.selected2.sort(),t.picNumberBox1=!1},t.aTag="",t.aMsg="",t.sendAll=function(){for(var o=$(".FontAndEmjoy13").html(),s=0,r=[];s<$(".new-wx-equip-input13").length;s++)$(".new-wx-equip-input13").eq(s).prop("checked")&&r.push($(".new-wx-equip-input13").eq(s).parent().next().attr("title"));if(""==o)alert("请编辑朋友圈内容");else if(0==r)alert("请勾选需要操作的设备！");else{var l=/<img.*?(?:>|\/>)/g,p=/alt=[\'\"]?([^\'\"]*)[\'\"]?/i,c=o.match(l);if(null==c);else{var d=[];console.log(c);for(s=0;s<c.length;s++){var g=c[s].match(p);g[1]&&d.push(g[1])}for(var u=o.match(/<img.*?(?:>|\/>)/g),s=0;s<u.length;s++)o=o.replace(u[s],d[s])}t.sendObj.append("content",o),t.sendObj.append("devices",JSON.stringify(r)),t.sendObj.append("interval",t.timeInterval),t.sendObj.append("msg",t.aMsg),t.sendObj.append("number",JSON.stringify(t.operate)),t.sendObj.append("tag",t.aTag),t.sendObj.append("mustNumber",JSON.stringify(t.mustChoose)),t.sendObj.append("randomNumber",JSON.stringify(t.unMChoose)),i({method:"POST",url:e.link+"/operate/sendMoments",data:t.sendObj,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top13"),n(),location.reload(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):(alert(t.msg),location.reload())})}}}]),app.controller("page14C",["$rootScope","$scope","$location","$anchorScroll","$http",function(e,t,a,n,i){function o(e){return document.getElementById(e)}function s(){l.clearOverlays();var e=new BMap.LocalSearch(l,{onSearchComplete:function(){var a=e.getResults().getPoi(0).point;l.centerAndZoom(a,18),l.addOverlay(new BMap.Marker(a)),t.mapPointLng=a.lng,t.mapPointLat=a.lat}});e.search(c)}e.getAllFalse(),e.activeFourteen=!0,e.navPartThree=!0,e.isScreenPage=!1,t.getNav=function(){a.hash("nav-bottom14"),n()},t.selected=[1],t.chooseedEquip=0,t.chooseNumber=0,t.unChooseNumber=100;var r=function(e,a,n){if("add"==e&&-1==t.selected.indexOf(a)&&(t.selected.push(a),t.chooseedEquip+=n),"remove"==e&&-1!=t.selected.indexOf(a)){var i=t.selected.indexOf(a);t.selected.splice(i,1),t.chooseedEquip-=n}};t.checkOne=function(a,n,o){var s=a.target.checked?"add":"remove";r(s,n,o),t.chooseNumber=t.chooseedEquip/e.equipCounts*100,t.unChooseNumber=100-t.chooseNumber,$(".all-equip-line-block").css({width:t.chooseNumber+"%",transition:"1s"}),$(".none-equip-line-block").css({width:t.unChooseNumber+"%",transition:"1s"}),i.get(e.link+"/operate/getWechatsByGroup?groupIds="+JSON.stringify(t.selected)+"&pageNo=1&pageSize=5").success(function(a){t.WxList=a.data.content,$("#pages14").Page({totalPages:a.data.totalPages,liNums:5,activeClass:"activP",callBack:function(a){i.get(e.link+"/operate/getWechatsByGroup?groupIds="+JSON.stringify(t.selected)+"&pageNo="+a+"&pageSize=5").success(function(e){t.WxList=e.data.content})}})})},t.isChecked=function(e){return t.selected.indexOf(e)>=0},i.get(e.link+"/operate/getWechatsByGroup?groupIds="+JSON.stringify(t.selected)+"&pageNo=1&pageSize=5").success(function(a){t.WxList=a.data.content,$("#pages14").Page({totalPages:a.data.totalPages,liNums:5,activeClass:"activP",callBack:function(a){i.get(e.link+"/operate/getWechatsByGroup?groupIds="+JSON.stringify(t.selected)+"&pageNo="+a+"&pageSize=5").success(function(e){t.WxList=e.data.content})}})}),t.cleaChuanyue=function(){for(var t=0,a=[];t<$(".new-wx-equip-input14").length;t++)$(".new-wx-equip-input14").eq(t).prop("checked")&&a.push($(".new-wx-equip-input14").eq(t).parent().next().attr("title"));if(0==a.length)alert("请勾选设备！");else{var n=new FormData;n.append("devices",JSON.stringify(a)),i({method:"POST",url:e.link+"/operate/clearLocation",data:n,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code&&(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0)})):alert(t.msg)})}},t.mapRange="2000米",t.mapLocation="",t.sendAll=function(){for(var o=0,s=[];o<$(".new-wx-equip-input14").length;o++)$(".new-wx-equip-input14").eq(o).prop("checked")&&s.push($(".new-wx-equip-input14").eq(o).parent().next().attr("title"));if(0==s.length)alert("请勾选设备！");else if(""==t.mapLocation)alert("请填写需要定位的地址！");else{var r=new FormData;r.append("devices",JSON.stringify(s)),r.append("range",parseInt(t.mapRange)),r.append("longitude",t.mapPointLng),r.append("latitude",t.mapPointLat),i({method:"POST",url:e.link+"/operate/changeLocation",data:r,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top14"),n(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}};var l=new BMap.Map("page14-map");l.centerAndZoom("北京",12),l.enableScrollWheelZoom(!0),l.addEventListener("click",function(e){$.ajax({type:"GET",url:"http://api.map.baidu.com/geocoder/v2/?ak=HbUVYMUg6PwbOnXkztdgSQlQ&callback=renderReverse&location="+e.point.lat+","+e.point.lng+"&output=json&pois=1",dataType:"JSONP",success:function(e){t.mapLocation=e.result.formatted_address,t.$apply()}})});var p=new BMap.Autocomplete({input:"suggestId",location:l});p.addEventListener("onhighlight",function(e){var t="",a=e.fromitem.value,n="";e.fromitem.index>-1&&(n=a.province+a.city+a.district+a.street+a.business),t="FromItem<br />index = "+e.fromitem.index+"<br />value = "+n,n="",e.toitem.index>-1&&(n=(a=e.toitem.value).province+a.city+a.district+a.street+a.business),t+="<br />ToItem<br />index = "+e.toitem.index+"<br />value = "+n,o("searchResultPanel").innerHTML=t});var c;p.addEventListener("onconfirm",function(e){var t=e.item.value;c=t.province+t.city+t.district+t.street+t.business,o("searchResultPanel").innerHTML="onconfirm<br />index = "+e.item.index+"<br />myValue = "+c,s()})}]),app.controller("page15C",["$rootScope","$scope","$location","$anchorScroll","$http","$timeout",function(e,t,a,n,i,o){e.getAllFalse(),e.activeFifteen=!0,e.navPartThree=!0,e.isScreenPage=!1,t.getNav=function(){a.hash("nav-bottom15"),n()},t.selected=[1];var s=function(e,a){if("add"==e&&-1==t.selected.indexOf(a)&&t.selected.push(a),"remove"==e&&-1!=t.selected.indexOf(a)){var n=t.selected.indexOf(a);t.selected.splice(n,1)}};t.checkOne=function(a,n,o){var r=a.target.checked?"add":"remove";s(r,n),i.get(e.link+"/operate/getZombieFan?groupIds="+JSON.stringify(t.selected)).success(function(e){200==e.code?t.zombieList=e.data:alert(e.msg)})},t.isChecked=function(e){return t.selected.indexOf(e)>=0},t.maxTime=10,t.minTime=1,t.upFile="";var r=1;$(".clickSelect").change(function(){1==(r=$(this).val())?($(".page9-say-hello").show(),$(".emjoyOpen-page15").show(),$(".page9-say-hello").html(""),$(".clickAddText").hide(),t.upFile=""):($(".page9-say-hello").hide(),$(".emjoyOpen-page15").hide(),$(".clickAddText").show(),$(".page9-say-hello").html(""))}),t.select=!1,t.clickAddText=function(){t.select=!0},t.sendAll=function(){for(var o=$(".FontAndEmjoy15").html(),s=0,r=[];s<$(".new-wx-equip-input15").length;s++)$(".new-wx-equip-input15").eq(s).prop("checked")&&r.push($(".new-wx-equip-input15").eq(s).parent().next().attr("title"));if(0==r.length)alert("请勾选需要操作的设备！");else if(0==o.length&&"string"==typeof t.upFile)alert("请输入打招呼用语或选择话术文件！");else{var l=/<img.*?(?:>|\/>)/g,p=/alt=[\'\"]?([^\'\"]*)[\'\"]?/i,c=o.match(l);if(null==c);else{var d=[];console.log(c);for(s=0;s<c.length;s++){var g=c[s].match(p);g[1]&&d.push(g[1])}for(var u=o.match(/<img.*?(?:>|\/>)/g),s=0;s<u.length;s++)o=o.replace(u[s],d[s])}var h=new FormData;h.append("msg",o),h.append("devices",JSON.stringify(r)),h.append("file",t.upFile),h.append("maxInterval",t.maxTime),h.append("minInterval",t.minTime),i({method:"POST",url:e.link+"/operate/clearZombieFan",data:h,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top15"),n(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}}}]),app.controller("page16C",["$rootScope","$scope","$location","$anchorScroll","$http",function(e,t,a,n,i){function o(e){var t,a,n=$("#FontAndEmjoy")[0];if($(n).hasClass("flag"))if(window.getSelection){if((t=window.getSelection()).getRangeAt&&t.rangeCount){(a=t.getRangeAt(0)).deleteContents();var i=document.createElement("div");i.innerHTML=e;for(var o,s,r=document.createDocumentFragment();o=i.firstChild;)s=r.appendChild(o);a.insertNode(r),s&&((a=a.cloneRange()).setStartAfter(s),a.collapse(!0),t.removeAllRanges(),t.addRange(a))}}else document.selection&&"Control"!=document.selection.type&&($(n).focus(),ierange=document.selection.createRange(),ierange.pasteHTML(e),$(n).focus());else $(n).html(n.innerHTML+e)}e.getAllFalse(),e.activeSixteen=!0,e.navPartThree=!0,e.isScreenPage=!1,t.getNav=function(){a.hash("nav-bottom13"),n()},t.sendObj=new FormData,t.picArr=[],t.maxTime=10,t.minTime=1,t.pic="",t.sendNum=10,t.isAll=0,$(".page16-choose").change(function(){selectVal=$(this).val(),1==selectVal?($(".writeNu").hide(),t.isAll=1):2==selectVal?(t.isAll=0,$(".writeNu").show()):(selectVal=0,t.isAll=0,$(".writeNu").hide())}),$(".emjoyDiv-page16").mouseover(function(){$(".emjoyList-page16").css("display","block")}),$(".emjoyDiv-page16").mouseout(function(){$(".emjoyList-page16").css("display","none")});var s=0;$(function(){$("#FontAndEmjoy").focus(function(){$(this).removeClass("flag")}),$("#FontAndEmjoy").blur(function(){$(this).addClass("flag")})}),$(".emjoyList-page16").on("click","img",function(){if(1==s){var e=$(this).attr("alt");o("<img src='"+$(this).attr("src")+"'alt='"+e+"'>")}});var r=[],l=-1;$(window).click(function(e){if(l++,window.getSelection){var t=e.srcElement?e.srcElement:e.target;r.push(t.id),-1!=$.inArray("FontAndEmjoy",r)&&("FontAndEmjoy"!=t.id?($("#FontAndEmjoy").addClass("flag"),s=0,"gg"==t.className?(s=1,$("#FontAndEmjoy").removeClass("flag"),"FontAndEmjoy"==r[l-1]&&(s=1,$("#FontAndEmjoy").removeClass("flag"),r[l-1]==t.id&&(s=1,$("#FontAndEmjoy").removeClass("flag")))):(s=0,$("#FontAndEmjoy").addClass("flag"))):(s=1,$("#FontAndEmjoy").removeClass("flag")))}}),t.sendAll=function(){for(var o=$(".FontAndEmjoy").html(),s=0,r=[];s<$(".new-wx-equip-input16").length;s++)$(".new-wx-equip-input16").eq(s).prop("checked")&&r.push($(".new-wx-equip-input16").eq(s).parent().next().attr("title"));if(0==r.length)alert("请勾选需要操作的群组！");else if(""==o)alert("请输入要发送的消息！");else{var l=/<img.*?(?:>|\/>)/g,p=/alt=[\'\"]?([^\'\"]*)[\'\"]?/i,c=o.match(l);if(null==c);else{var d=[];console.log(c);for(s=0;s<c.length;s++){var g=c[s].match(p);g[1]&&d.push(g[1])}for(var u=o.match(/<img.*?(?:>|\/>)/g),s=0;s<u.length;s++)o=o.replace(u[s],d[s])}var h=new FormData;h.append("msg",o),h.append("devices",JSON.stringify(r)),h.append("pic",t.pic),h.append("maxInterval",t.maxTime),h.append("minInterval",t.minTime),i({method:"POST",url:e.link+"/operate/sendMsg",data:h,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top16"),n(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}}}]),app.controller("page17C",["$rootScope","$scope","$http","$timeout",function(e,t,a,n){e.getAllFalse(),e.activeSeventeen=!0,e.navPartOne=!0,e.isScreenPage=!1,t.editBoxOne=!1,t.editBoxTwo=!1,t.editBoxThree=!1,t.addNewGroup=function(){t.editBoxThree=!0,t.newGroupName=""},t.cancelAddNewGroup=function(){t.editBoxThree=!1},t.sureAddNewGroup=function(){for(var n=!1,i=0;i<e.AssGroupNames.length;i++)t.newGroupName==e.AssGroupNames[i]&&(n=!0);n?(alert("对不起，您所输入的群组名已经存在！请重新输入"),t.newGroupName=""):""==t.newGroupName?alert("新的群组名称不能为空！"):a.get(e.link+"/group/createGroup?groupName="+t.newGroupName).success(function(n){200==n.code?(alert("创建成功!"),t.editBoxThree=!1,a.get(e.link+"/group/getGroupData").success(function(a){if(200==a.code){e.groupNames=a.data,t.allGroupNames=a.data,e.AssGroupNames=[],e.allEquipIds=[],e.equipCounts=0;for(var n=0;n<a.data.length;n++)e.AssGroupNames.push(a.data[n].group.name),e.allEquipIds.push(a.data[n].group.id),e.equipCounts+=a.data[n].count}else alert(a.msg)}),a.get(e.link+"/group/getGroupDataByStatus").success(function(t){if(200==t.code){e.onlineGroupNames=t.data,e.moArray=[];for(var n=0;n<t.data[0].deviceVos.length;n++)e.moArray.push(t.data[0].deviceVos[n].device);a.get(e.link+"/device/getDeviceByDevice/?devices="+JSON.stringify(e.moArray)+"&pageNo=1&pageSize=17").success(function(t){200==t.code?$("#pages17").Page({totalPages:t.data.totalPages,liNums:5,activeClass:"activP",callBack:function(t){a.get(e.link+"/device/getDeviceByDevice/?devices="+JSON.stringify(mArr)+"&pageNo="+t+"&pageSize=17").success(function(t){e.fuckList=t.data.content})}}):alert(t.msg)})}else alert(t.msg)})):(alert(n.msg),t.editBoxThree=!1)})},t.deleteable=function(e){return 1==e},t.deleteButton=function(){t.editBoxTwo=!0,t.selected=[];var e=function(e,a){if("add"==e&&-1==t.selected.indexOf(a)&&t.selected.push(a),"remove"==e&&-1!=t.selected.indexOf(a)){var n=t.selected.indexOf(a);t.selected.splice(n,1)}};t.checkOne=function(t,a){var n=t.target.checked?"add":"remove";e(n,a)},t.isChecked=function(e){return t.selected.indexOf(e)>=0}},t.cancelDeleteButton=function(){t.editBoxTwo=!1},t.sureDeleteButton=function(){a.get(e.link+"/group/delGroup?groupIds="+JSON.stringify(t.selected)).success(function(n){200==n.code?(alert("删除成功！"),t.editBoxTwo=!1,a.get(e.link+"/group/getGroupData").success(function(a){if(200==a.code){e.groupNames=a.data,t.allGroupNames=a.data,e.AssGroupNames=[],e.allEquipIds=[],e.equipCounts=0;for(var n=0;n<a.data.length;n++)e.AssGroupNames.push(a.data[n].group.name),e.allEquipIds.push(a.data[n].group.id),e.equipCounts+=a.data[n].count}}),a.get(e.link+"/group/getGroupDataByStatus").success(function(t){if(200==t.code){e.onlineGroupNames=t.data,e.moArray=[];for(var n=0;n<t.data[0].deviceVos.length;n++)e.moArray.push(t.data[0].deviceVos[n].device);a.get(e.link+"/device/getDeviceByDevice/?devices="+JSON.stringify(e.moArray)+"&pageNo=1&pageSize=17").success(function(t){200==t.code&&$("#pages17").Page({totalPages:t.data.totalPages,liNums:5,activeClass:"activP",callBack:function(t){a.get(e.link+"/device/getDeviceByDevice/?devices="+JSON.stringify(mArr)+"&pageNo="+t+"&pageSize=17").success(function(e){})}})})}})):alert("删除失败！请重新再试！")})},t.changeNameButton=function(){t.editBoxOne=!0,t.changeId=0,t.newGroupName=""},t.cancelChangeButton=function(){t.editBoxOne=!1},t.sureChangeButton=function(n){for(var i=!1,o=0;o<e.AssGroupNames.length;o++)t.changeGroupName==e.AssGroupNames[o]&&(i=!0);i?(alert("对不起，您所输入的群组名已经存在！请重新输入"),t.changeGroupName=""):""==t.changeGroupName?alert("请填写新的分组名！"):(n=$("input:radio:checked").val(),a.get(e.link+"/group/updateGroupName?groupId="+n+"&newName="+t.changeGroupName).success(function(n){200==n.code?(alert("修改成功!"),t.editBoxOne=!1,t.changeGroupName="",a.get(e.link+"/group/getGroupData").success(function(a){if(200==a.code){e.groupNames=a.data,t.allGroupNames=a.data,e.AssGroupNames=[],e.allEquipIds=[],e.equipCounts=0;for(var n=0;n<a.data.length;n++)e.AssGroupNames.push(a.data[n].group.name),e.allEquipIds.push(a.data[n].group.id),e.equipCounts+=a.data[n].count}else alert(a.msg)}),a.get(e.link+"/group/getGroupDataByStatus").success(function(t){if(200==t.code){e.onlineGroupNames=t.data,e.moArray=[];for(var n=0;n<t.data[0].deviceVos.length;n++)e.moArray.push(t.data[0].deviceVos[n].device);a.get(e.link+"/device/getDeviceByDevice/?devices="+JSON.stringify(e.moArray)+"&pageNo=1&pageSize=17").success(function(t){200==t.code?$("#pages17").Page({totalPages:t.data.totalPages,liNums:5,activeClass:"activP",callBack:function(t){a.get(e.link+"/device/getDeviceByDevice/?devices="+JSON.stringify(mArr)+"&pageNo="+t+"&pageSize=17").success(function(t){e.fuckList=t.data.content})}}):alert(t.msg)})}else alert(t.msg)})):(alert(n.msg),t.editBoxOne=!1,t.changeGroupName="")}))},t.isDisabled=function(e){if(1==e)return!0},t.dColor=function(e){return 1==e?"binged":"binging"},t.moveBox=!1,t.assMoveTo=!0,t.moveId=1,t.moveToId=function(e){t.moveId=e},t.groupMoveTo=function(){t.moveGroup=[];for(var e=0;e<$(".page17-floor-new-li input").length;e++)$(".page17-floor-new-li input").eq(e).prop("checked")&&t.moveGroup.push($(".page17-floor-new-li input").eq(e).attr("mess_id"));0==t.moveGroup.length?alert("请勾选需要移动的设备!"):(t.moveBox=!0,t.moveId=1)},t.cancelMoveTo=function(){t.moveBox=!1},t.sureMoveTo=function(){a.get(e.link+"/group/moveGroup?groupId="+t.moveId+"&devices="+JSON.stringify(t.moveGroup)).success(function(n){if(200==n.code){t.moveGroup=[];for(var i=0;i<$(".page17-floor-new-li input").length;i++)$(".page17-floor-new-li input").eq(i).prop("checked")&&t.moveGroup.push($(".page17-floor-new-li input").eq(i).attr("mess_id"));alert("移动成功！"),t.moveBox=!1,a.get(e.link+"/group/getGroupData").success(function(a){if(200==a.code){e.groupNames=a.data,t.allGroupNames=a.data,e.AssGroupNames=[],e.allEquipIds=[],e.equipCounts=0;for(var n=0;n<a.data.length;n++)e.AssGroupNames.push(a.data[n].group.name),e.allEquipIds.push(a.data[n].group.id),e.equipCounts+=a.data[n].count}else alert(a.msg)}),a.get(e.link+"/group/getGroupDataByStatus").success(function(t){if(200==t.code){e.onlineGroupNames=t.data,e.moArray=[];for(var a=0;a<t.data[0].deviceVos.length;a++)e.moArray.push(t.data[0].deviceVos[a].device)}else alert(t.msg)}),$(".page17-all-checked").hide()}else alert(n.msg)})},t.moChecked=function(e){return 1==e}}]),app.controller("page18C",["$rootScope","$scope","$http","$timeout",function(e,t,a,n){e.getAllFalse(),e.activeEightteen=!0,e.navPartOne=!0,e.isScreenPage=!0,$(".canvas-ul").empty(),t.openAll=function(t){for(var n=0,i=[];n<$(".canvas-ul li input").length;n++)$(".canvas-ul li input").eq(n).prop("checked")&&i.push($(".canvas-ul li input").eq(n).attr("mess_id"));if(0==i.length)alert("请勾选需要操作的设备!");else{var o=new FormData;o.append("devices",JSON.stringify(i)),o.append("taskId",t),a({method:"POST",url:e.link+"/device/open",data:o,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(e){200==e.code?alert("添加任务栏成功！"):alert(e.msg)})}},t.closeAll=function(t){for(var n=0,i=[];n<$(".canvas-ul li input").length;n++)$(".canvas-ul li input").eq(n).prop("checked")&&i.push($(".canvas-ul li input").eq(n).attr("mess_id"));if(0==i.length)alert("请勾选需要操作的设备!");else{var o=new FormData;o.append("devices",JSON.stringify(i)),o.append("taskId",t),a({method:"POST",url:e.link+"/device/close",data:o,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(e){200==e.code?alert("添加任务栏成功！"):alert(e.msg)})}},t.backHome=function(){for(var t=0,n=[];t<$(".canvas-ul li input").length;t++)$(".canvas-ul li input").eq(t).prop("checked")&&n.push($(".canvas-ul li input").eq(t).attr("mess_id"));0==n.length?alert("请勾选需要操作的设备！"):a.get(e.link+"/device/backHome?devices="+JSON.stringify(n)).success(function(e){200==e.code?alert("添加任务成功！"):alert(e.msg)})}}]),app.controller("page19C",["$rootScope","$scope","$http",function(e,t,a){e.getAllFalse(),e.activeNineteen=!0,e.navPartSix=!0,e.isScreenPage=!0,a.get(e.link+"/task/getGroupTaskInitPage?status=-1&pageNo=1&pageSize=17").success(function(n){t.TaskAllList=n.data.content,$("#pages19").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){a.get(e.link+"/task/getGroupTaskInitPage?status=-1&pageNo="+n+"&pageSize=17").success(function(e){t.TaskAllList=e.data.content})}})}),t.isShow=function(e){if(3==e)return!0},t.taskOut=!1,t.checkWrong=function(n){a.get(e.link+"/task/getErrorTask?taskId="+n).success(function(e){200==e.code?(t.taskOut=!0,t.taskList=e.data):alert(e.msg)})},t.getTaskBack=function(){t.taskOut=!1}}]),app.controller("page20C",["$rootScope","$scope","$http",function(e,t,a){e.getAllFalse(),e.activeTwenty=!0,e.navPartSix=!0,e.isScreenPage=!0,t.ifShow=function(e){if(2==e)return!0},t.assState=function(e){var t;return 0==e?t="正在执行":1==e?t="等待执行":2==e&&(t="执行完成"),t},t.isDisabledOne=function(e){if(1!=e)return!0},t.isDisabledTwo=function(e){if(0!=e)return!0},t.isDisabledThree=function(e){if(3!=e)return!0},t.isBlandOne=function(e){if(1!=e)return"on"},t.isBlandTwo=function(e){if(0!=e)return"on"},t.isBlandThree=function(e){if(3!=e)return"on"},a.get(e.link+"/remote/getTask?pageNo=1&pageSize=2").success(function(n){200==n.code?(t.assList=n.data.content,$("#pages20").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){a.get(e.link+"/remote/getTask?pageNo="+n+"&pageSize=2").success(function(e){t.assList=e.data.content})}})):alert(n.msg)}),t.assChecked=function(e){if(1==JSON.parse(e).clear)return!0},t.assValue=function(e){return JSON.parse(e).msg},t.assInterval=function(e){return JSON.parse(e).interval},t.assRadioOne=function(e){if(1==JSON.parse(e).strategy)return!0},t.assRadioTwo=function(e){if(0==JSON.parse(e).strategy)return!0},t.assCount=function(e){return JSON.parse(e).count}}]),app.controller("page21C",["$rootScope","$scope","$http","$location","$anchorScroll",function(e,t,a,n,i){e.getAllFalse(),e.activeTwentyone=!0,e.navPartFour=!0,e.isScreenPage=!1,t.sendAllButton=!1,t.timeInterval=5,t.sayHello="您好!很高兴认识您!",t.isClear=0,t.clear=function(e){e.target.checked?t.isClear=1:t.isClear=0},t.sendAll=function(){for(var o=0,s=[];o<$(".new-wx-equip-input").length;o++)$(".new-wx-equip-input").eq(o).prop("checked")&&s.push($(".new-wx-equip-input").eq(o).parent().next().attr("title"));if(""==t.timeInterval)alert("请填写时间间隔！");else if(""==t.sayHello)alert("请填写打招呼用语！");else if(0==s.length)alert("请勾选需要操作的设备！");else{var r=new FormData;r.append("devices",JSON.stringify(s)),r.append("interval",t.timeInterval),r.append("msg",t.sayHello),r.append("clear",t.isClear),r.append("strategy",t.addPeople),r.append("count",t.addPeopleCount),r.append("contactList",JSON.stringify(t.assList)),a({method:"POST",url:e.link+"/momoPlus/addFriendContact",data:r,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),n.hash("page-top6"),i(),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}},t.assRadioChoose=!1,t.addPeople=1,t.addPeopleCount=1,t.getAssHide=function(){t.assRadioChoose=!1,t.addPeople=1},t.getAssShow=function(){t.assRadioChoose=!0,t.addPeople=0}}]),app.controller("page22C",["$rootScope","$scope","$location","$anchorScroll","$http",function(e,t,a,n,i){e.getAllFalse(),e.activeTwentytwo=!0,e.navPartFour=!0,e.isScreenPage=!1,t.timeInterval=5,t.sayHello="您好！很高兴认识您！",t.sendAllButton=!1,t.addPeople=1,t.addPeopleCount=1,t.addPeopleOne=function(){t.addPeople=1,t.assRadioChoose=!1},t.addPeopleTwo=function(){t.addPeople=0,t.assRadioChoose=!0},t.sendAll=function(){for(var o=0,s=[];o<$(".new-wx-equip-input7").length;o++)$(".new-wx-equip-input7").eq(o).prop("checked")&&s.push($(".new-wx-equip-input7").eq(o).parent().next().attr("title"));if(""==t.timeInterval)alert("请填写时间间隔！");else if(""==t.sayHello)alert("请填写打招呼用语！");else if(0==s.length)alert("请勾选需要操作的设备！");else{var r=new FormData;r.append("devices",JSON.stringify(s)),r.append("interval",t.timeInterval),r.append("msg",t.sayHello),r.append("strategy",t.addPeople),r.append("count",t.addPeopleCount),r.append("contactList",JSON.stringify(t.assList)),i({method:"POST",url:e.link+"/momoPlus/addFriendDirect",data:r,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top7"),n(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}}}]),app.controller("page23C",["$rootScope","$scope","$location","$anchorScroll","$http",function(e,t,a,n,i){e.getAllFalse(),e.activeTwentythree=!0,e.navPartFour=!0,e.isScreenPage=!1,t.timeInterval=5,t.sayHello="您好！很高兴认识您！",t.addPeopleNumber=10,t.addSex="全部",t.sendAll=function(){for(var o=0,s=[];o<$(".new-wx-equip-input8").length;o++)$(".new-wx-equip-input8").eq(o).prop("checked")&&s.push($(".new-wx-equip-input8").eq(o).parent().next().attr("title"));var r=0;if("全部"==t.addSex?r=0:"男"==t.addSex?r=1:"女"==t.addSex&&(r=2),0==s.length)alert("请勾选需要操作的设备！");else if(""==t.timeInterval)alert("请填写时间间隔！");else if(""==t.sayHello)alert("请输入打招呼用语！");else if(""==t.addPeopleNumber)alert("请输入加人的数量!");else{var l=new FormData;l.append("devices",JSON.stringify(s)),l.append("interval",t.timeInterval),l.append("msg",t.sayHello),l.append("num",t.addPeopleNumber),l.append("sex",r),i({method:"POST",url:e.link+"/momoPlus/sayHello",data:l,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top8"),n(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}}}]),app.controller("page24C",["$rootScope","$scope","$location","$anchorScroll","$http","$timeout",function(e,t,a,n,i,o){e.getAllFalse(),e.activeTwentyfour=!0,e.navPartFour=!0,e.isScreenPage=!1,o(function(){i.get(e.link+"/momo/getMomosByDevice?devices="+JSON.stringify(e.moArray)+"&pageNo=1&pageSize=6").success(function(t){200==t.code?(e.MemberList9=t.data.content,$("#pages9").Page({totalPages:t.data.totalPages,liNums:5,activeClass:"activP",callBack:function(t){i.get(e.link+"/momo/getMomosByDevice?devices="+JSON.stringify(e.moArray)+"&pageNo="+t+"&pageSize=6").success(function(t){e.MemberList9=t.data.content})}})):alert(t.msg)})},500),t.countNumber=5,t.sayHello="您好！很高兴认识您！",t.timeInterval=5,t.sendAll=function(){for(var o=0,s=[];o<$(".new-wx-equip-input9").length;o++)$(".new-wx-equip-input9").eq(o).prop("checked")&&s.push($(".new-wx-equip-input9").eq(o).parent().next().attr("title"));if(0==s.length)alert("请勾选需要操作的微信群组!");else if(""==t.countNumber)alert("请填写添加的数量!");else if(""==t.sayHello)alert("请填写打招呼用语!");else if(""==t.timeInterval)alert("请填写时间间隔!");else{var r=new FormData;r.append("msg",t.sayHello),r.append("count",t.countNumber),r.append("interval",t.timeInterval),r.append("dataList",JSON.stringify(s)),i({method:"POST",url:e.link+"/momoPlus/addFriendInClub",data:r,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top9"),n(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}}}]),app.controller("page25C",["$rootScope","$scope","$location","$anchorScroll","$http",function(e,t,a,n,i){e.getAllFalse(),e.activeTwentyfive=!0,e.navPartFour=!0,e.isScreenPage=!1,t.timeInterval=5,t.sendAll=function(){for(var o=0,s=[];o<$(".new-wx-equip-input10").length;o++)$(".new-wx-equip-input10").eq(o).prop("checked")&&s.push($(".new-wx-equip-input10").eq(o).parent().next().attr("title"));if(0==s.length)alert("请勾选需要操作的设备!");else if(""==t.timeInterval)alert("请填写时间间隔！");else{var r=new FormData;r.append("devices",JSON.stringify(s)),r.append("interval",t.timeInterval),i({method:"POST",url:e.link+"/momoPlus/receiveRequest",data:r,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top10"),n(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}}}]),app.controller("page26C",["$rootScope","$scope","$http","$timeout",function(e,t,a,n){e.getAllFalse(),e.activeTwentySix=!0,e.navPartFour=!0,e.isScreenPage=!1,t.outSideBox=!0,t.insideBox=!1,t.assBack=!1,t.resetSelect=!0,t.getInside=function(n){t.outSideBox=!1,t.insideBox=!0,t.assMoveTo=!1,t.assBack=!0,t.resetSelect=!1,t.assDevice=n,a.get(e.link+"/momo/getMomoByDevice?device="+n).success(function(e){t.assList=e.data})},t.getAssBack=function(){t.outSideBox=!0,t.insideBox=!1,t.resetSelect=!0,t.assBack=!1,t.assMoveTo=!0;for(var n=[],i=0;i<$(".new-wx-equip-input4").length;i++)$(".new-wx-equip-input4").eq(i).prop("checked")&&n.push($(".new-wx-equip-input4").eq(i).parent().next().attr("title"));a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(n)+"&pageNo=1&pageSize=17").success(function(i){200==i.code?(t.checkAllFour=!1,$(".page4-floor-one-list").find("span").eq(0).removeClass("on"),$("#pages4").Page({totalPages:i.data.totalPages,liNums:5,activeClass:"activP",callBack:function(t){a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(n)+"&pageNo="+t+"&pageSize=17").success(function(t){e.equipList4=t.data.content})}})):alert(i.msg)})},n(function(){a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(e.moArray)+"&pageNo=1&pageSize=17").success(function(t){console.log(t),200==t.code?$("#pages4").Page({totalPages:t.data.totalPages,liNums:5,activeClass:"activP",callBack:function(t){a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(e.moArray)+"&pageNo="+t+"&pageSize=17").success(function(t){e.equipList4=t.data.content})}}):alert(t.msg)})},500),t.isRankOne=function(e){return 1==e?"on":""},t.rankDisabled=function(e){return 1==e},t.moveUp=function(n){a.get(e.link+"/momo/up?rank="+n+"&device="+t.assDevice).success(function(n){200==n.code?(alert("移动成功!"),a.get(e.link+"/wechat/getWechatByDevice?device="+t.assDevice).success(function(e){t.assList=e.data})):alert(n.msg)})},t.isRankLast=function(e){return 20==e?"on":""},t.rankDisabledLast=function(e){return 20==e},t.moveDown=function(n){a.get(e.link+"/momo/down?rank="+n+"&device="+t.assDevice).success(function(n){200==n.code?(alert("移动成功!"),a.get(e.link+"/momo/getMomoByDevice?device="+t.assDevice).success(function(e){t.assList=e.data})):alert(n.msg)})},t.assMoveTo=!0,t.checked=[],t.selectAll=function(){t.checkAllFour?(t.checked=[],angular.forEach(e.equipList4,function(e){e.checked=!0,t.checked.push(e.device)})):angular.forEach(e.equipList4,function(e){e.checked=!1,t.checked=[]})},t.selectOne=function(){angular.forEach(e.equipList4,function(e){var a=t.checked.indexOf(e.device);e.checked&&-1===a?t.checked.push(e.device):e.checked||-1==a||t.checked.splice(a,1)}),e.equipList4.length===t.checked.length?t.checkAll=!0:t.checkAll=!1},t.resetNumber="1",t.resetButton=function(){for(var n=0,i=[];n<$(".new-wx-equip-input4").length;n++)$(".new-wx-equip-input4").eq(n).prop("checked")&&i.push($(".new-wx-equip-input4").eq(n).parent().next().attr("title"));0==i.length?alert("请勾选需要切换的设备！"):a.get(e.link+"/momo/switchMomo?devices="+JSON.stringify(i)+"&rank="+parseInt(t.resetNumber)).success(function(t){if(200==t.code){alert("添加任务成功！");for(var n=[],i=0;i<$(".new-wx-equip-input4").length;i++)$(".new-wx-equip-input4").eq(i).prop("checked")&&n.push($(".new-wx-equip-input4").eq(i).parent().next().attr("title"));a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(n)+"&pageNo=1&pageSize=17").success(function(t){200==t.code?(e.equipList4=t.data.content,$("#pages4").Page({totalPages:t.data.totalPages,liNums:5,activeClass:"activP",callBack:function(t){a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(n)+"&pageNo="+t+"&pageSize=17").success(function(t){e.equipList4=t.data.content})}})):alert(t.msg)}),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})}else alert(t.msg)})}}]),app.controller("page27C",["$rootScope","$scope","$http","$location","$anchorScroll",function(e,t,a,n,i){e.getAllFalse(),e.activeTwentySeven=!0,e.navPartThree=!0,e.isScreenPage=!1,t.sendAllButton=!0,t.isClear=0,t.clear=function(e){e.target.checked?t.isClear=1:t.isClear=0},t.sendAll=function(){for(var o=0,s=[];o<$(".new-wx-equip-input").length;o++)$(".new-wx-equip-input").eq(o).prop("checked")&&s.push($(".new-wx-equip-input").eq(o).parent().next().attr("title"));if(0==s.length)alert("请勾选需要操作的设备！");else{var r=new FormData;r.append("devices",JSON.stringify(s)),r.append("clear",t.isClear),r.append("strategy",t.addPeople),r.append("count",t.addPeopleCount),r.append("contactList",JSON.stringify(t.assList)),a({method:"POST",url:e.link+"/wechatPlus/addContacts",data:r,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){console.log(t.code),200==t.code?(alert("任务添加成功!"),n.hash("page-top6"),i(),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}},t.assRadioChoose=!1,t.addPeople=1,t.addPeopleCount=1,t.getAssHide=function(){t.assRadioChoose=!1,t.addPeople=1},t.getAssShow=function(){t.assRadioChoose=!0,t.addPeople=0}}]),app.controller("page28C",["$rootScope","$scope","$http","$location","$anchorScroll",function(e,t,a,n,i){e.getAllFalse(),e.activeTwentyEight=!0,e.navPartThree=!0,e.isScreenPage=!1,t.sendAllButton=!0,t.isClear=0,t.clear=function(e){e.target.checked?t.isClear=1:t.isClear=0},t.maxTime=10,t.minTime=5,t.WriteNums=1,t.notFound=function(){void 0==t.WriteNums&&(alert('点赞数量范围为"1-30"请再次输入'),t.WriteNums=1)},t.sendAll=function(){for(var o=0,s=[];o<$(".new-wx-equip-input").length;o++)$(".new-wx-equip-input").eq(o).prop("checked")&&s.push($(".new-wx-equip-input").eq(o).parent().next().attr("title"));if(0==s.length)alert("请勾选需要操作的设备！");else{var r=new FormData;r.append("devices",JSON.stringify(s)),r.append("likeCount",t.WriteNums),a({method:"POST",url:e.link+"/operate/likeForMoment",data:r,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){console.log(t.code),200==t.code?(alert("任务添加成功!"),n.hash("page-top6"),i(),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}}}]),app.controller("page29C",["$rootScope","$scope","$http","$location","$anchorScroll",function(e,t,a,n,i){e.getAllFalse(),e.activeTwentyNine=!0,e.navPartSeven=!0,e.isScreenPage=!0,t.okOne=!0,t.okOne1=!1,t.okOne2=!1,t.okState=[],t.okOver=[],t.noState=[],t.mmli=e.disAbled,t.turnOk=function(){t.okOne=!0,t.okOne1=!1,t.okOne2=!1},a.get(e.link+"/remote/getTask?pageNo=1&pageSize=1000").success(function(e){if(200==e.code){t.dataAll=e.data.content;for(var a=0;a<t.dataAll.length;a++)0==t.dataAll[a].state&&$(".page29-close").show(),1==t.dataAll[a].status?t.okState.push(t.dataAll[a]):0==t.dataAll[a].status?t.noState.push(t.dataAll[a]):10==t.dataAll[a].status&&t.okOver.push(t.dataAll[a])}else alert(e.msg)}),$(function(){setTimeout(function(){for(var t=$(".clickMe"),a=0;a<t.length;a++)0==t[a].attributes[1].value&&(e.page29Id=t[a].attributes[4].value,$(".clickMe").eq(a).parent().addClass("on"),$(".page29-open").html("任务正在执行").css("background-color","#DCDCDC").prop("disabled","disabled"),$(".clickMe").eq(a).parents().parents().parents().siblings().find(".page11-div-checkbox").css("background-color","#7A7A7A").find("input").prop("disabled","disabled"))},500)}),t.turnNoOk=function(){t.okOne=!1,t.okOne1=!0,t.okOne2=!1},t.turnOkYes=function(){t.okOne=!1,t.okOne1=!1,t.okOne2=!0},t.maxTime=10,t.addPeopleCount=1,t.minTime=1,t.upFile="",t.clearll=0;var o=1;$(".clickSelect").change(function(){1==(o=$(this).val())?($(".page9-say-hello").show(),$(".emjoyOpen-page6").show(),$(".page9-say-hello").html(""),$(".clickAddText").hide(),t.upFile=""):($(".page9-say-hello").hide(),$(".emjoyOpen-page6").hide(),$(".clickAddText").show(),$(".page9-say-hello").html(""))}),t.MeType=1;var s=1;$(".clickSelect1").change(function(){s=$(this).val(),t.MeType=1==s?1:2==s?2:0}),t.sendAll1=function(){for(var n=$(".FontAndEmjoy6").html(),i=0,o=[];i<$(".new-wx-equip-input11").length;i++)$(".new-wx-equip-input11").eq(i).prop("checked")&&o.push($(".new-wx-equip-input11").eq(i).parent().next().attr("title"));if(0==o.length)alert("请勾选需要操作的设备！");else if(""==e.page29Id||void 0==e.page29Id)alert("请选择开启的服务");else if(15*o.length<t.addPeopleCount)alert("最大加人数量为"+15*o.length);else{var s=/<img.*?(?:>|\/>)/g,r=/alt=[\'\"]?([^\'\"]*)[\'\"]?/i,l=n.match(s);if(null==l);else{for(var p=[],i=0;i<l.length;i++){var c=l[i].match(r);c[1]&&p.push(c[1])}for(var d=n.match(/<img.*?(?:>|\/>)/g),i=0;i<d.length;i++)n=n.replace(d[i],p[i])}t.sendObj=new FormData,t.sendObj.append("file",t.upFile),t.sendObj.append("tid",e.page29Id),t.sendObj.append("devices",JSON.stringify(o)),t.sendObj.append("maxInterval",t.maxTime),t.sendObj.append("minInterval",t.minTime),t.sendObj.append("msg",n),t.sendObj.append("clear",1),t.sendObj.append("strategy",t.MeType),t.sendObj.append("count",t.addPeopleCount),t.sendObj.append("number",e.page29Number),a({method:"POST",url:e.link+"/remote/openServer",data:t.sendObj,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(e){200==e.code?(alert("任务添加成功!"),window.location.reload()):alert(e.msg)})}},t.closeServer=function(){""==e.page29Id||void 0==e.page29Id?alert("请选择关闭的服务"):(t.sendObj1=new FormData,t.sendObj1.append("tid",e.page29Id),a({method:"POST",url:e.link+"/remote/stopServer",data:t.sendObj1,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(e){200==e.code?($(".clickMe").parents().parents().parents().find(".page11-div-checkbox").removeClass("on"),$(".clickMe").parents().parents().parents().find(".page11-div-checkbox").css("background-color","white").find("input").prop("disabled",function(){return!1}),$(".page29-close").hide(),alert("关闭任务成功"),window.location.reload()):alert(e.msg)}))}}]),app.controller("page2C",["$rootScope","$scope","$http","$timeout",function(e,t,a,n){$(".side-bar1").show(),$(".task-box").show(),$(".view-box").css("height","100%"),e.getAllFalse(),e.activeTwo=!0,e.navPartOne=!0,e.isScreenPage=!1,t.outSideBox=!0,t.inSideBox=!1,a.get(e.link+"/device/getAllDevice?pageNo=1&pageSize=15").success(function(a){200==a.code?0==a.data.content.length?t.sweepBox=!0:e.DataList=a.data.content:alert(a.msg)}),t.sweepBoxOne=!0,t.sweepBoxTwo=!1,t.sweepBoxThree=!1,t.sweepAssBlock="sweep-box-one-block-small",t.getLoad=function(e){return 1==e?"已安装":"未安装"},t.Status=function(e){return 0==e?"离线":"在线"},t.statusHigh=function(e){return 1==e?"page2-red":""},t.getSweepTwo=function(){t.sweepBoxOne=!1,t.sweepBoxTwo=!0,a.get(e.link+"/device/initDevice").success(function(i){if(200==i.code){if(t.sweepAssBlock="sweep-box-one-block-big",t.sweepTime=i.data.time,t.sweepEquipNumber=0,t.sweepOffLineNumber=0,t.sweepShowTime="",void 0==i.data.devices)alert("扫描出错");else for(var o=0;o<i.data.devices.length;o++)1==i.data.devices[o].status?t.sweepEquipNumber++:t.sweepOffLineNumber++;a.get(e.link+"/device/getAllDevice?pageNo=1&pageSize=15").success(function(e){t.response=e}),a.get(e.link+"/group/getGroupDataByStatus").success(function(t){if(200==t.code){e.onlineGroupNames=t.data,e.moArray=[];for(var a=0;a<t.data[0].deviceVos.length;a++)e.moArray.push(t.data[0].deviceVos[a].device)}else alert(t.msg)}),t.sweepTime<5?(t.sweepShowTime=5,n(function(){t.sweepBoxTwo=!1,t.sweepBoxThree=!0},5200)):(t.sweepShowTime=i.data.time,n(function(){t.sweepBoxTwo=!1,t.sweepBoxThree=!0},t.sweepTime))}else alert(i.msg)})},t.couldChange=function(e){if(0!=e)return"on"},t.couldRead=function(e){if(0!=e)return!0},t.couldSave=function(e){if(0!=e)return"cs"},t.couldEdit=function(e){if(0==e)return"ce"},t.getDataList=function(n){e.DataList=n.data.content,t.sweepBox=!1,$("#pages2").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(t){a.get(e.link+"/device/getAllDevice?pageNo="+t+"&pageSize=15").success(function(t){200==t.code?e.DataList=t.data.content:alert(t.msg)})}}),location.reload()},t.getSweepBox=function(){t.sweepBox=!0,t.sweepBoxOne=!0,t.sweepBoxTwo=!1,t.sweepBoxThree=!1,t.sweepAssBlock="sweep-box-one-block-small"},t.wayOut=function(){$(".way-out-table").table2excel({exclude:".noExl",name:"Excel Document Name",filename:"设备帐号列表",exclude_img:!0,exclude_links:!0,exclude_inputs:!0})},t.deleteEquip=function(n){a.get(e.link+"/device/delDevice?device="+n).success(function(n){200==n.code?(alert("删除成功！"),0==t.pages&&(t.pages=1),a.get(e.link+"/device/getAllDevice?pageNo=1&pageSize=15").success(function(n){200==n.code&&(0==n.data.content.length?t.sweepBox=!0:a.get(e.link+"/device/getAllDevice?pageNo="+t.pages+"&pageSize=15").success(function(t){e.DataList=t.data.content}))}),1==$("tbody tr").length/2&&location.reload()):alert(n.msg)})},t.showMyEquip=function(t){a.get(e.link+"/device/showDifferent?device="+t).success(function(t){200==t.code?(alert("添加任务成功！"),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code&&(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0)})):alert(t.msg)})},t.isShow=function(e){if(1==e)return!0},t.rankAss=function(e){return 1e3==e?"-":e},t.getPage=function(e){return 15*t.assPage+e}}]),app.controller("page30C",["$rootScope","$scope","$http","$location","$anchorScroll",function(e,t,a,n,i){e.getAllFalse(),e.navPartEight=!0,e.activeThirty=!0,e.isScreenPage=!1,t.sendAllButton=!0,t.isClear=0,t.clear=function(e){e.target.checked?t.isClear=1:t.isClear=0},t.sendAll=function(){for(var o=0,s=[];o<$(".new-wx-equip-input").length;o++)$(".new-wx-equip-input").eq(o).prop("checked")&&s.push($(".new-wx-equip-input").eq(o).parent().next().attr("title"));if(0==s.length)alert("请勾选需要操作的设备！");else{var r=new FormData;r.append("devices",JSON.stringify(s)),r.append("clear",t.isClear),r.append("strategy",t.addPeople),r.append("count",t.addPeopleCount),r.append("contactList",JSON.stringify(t.assList)),a({method:"POST",url:e.link+"/wechatPlus/addContacts",data:r,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){console.log(t.code),200==t.code&&(alert("任务添加成功!"),n.hash("page-top6"),i(),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code&&(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0)}))})}},t.assRadioChoose=!1,t.addPeople=1,t.addPeopleCount=1,t.getAssHide=function(){t.assRadioChoose=!1,t.addPeople=1},t.getAssShow=function(){t.assRadioChoose=!0,t.addPeople=0};var o=echarts.init(document.getElementById("main-chart")),s={title:{text:"近七天好友新增好友人数统计"},tooltip:{},legend:{data:[""]},xAxis:{data:["哈哈哈哈","羊毛衫","雪纺衫","裤子","高跟鞋","袜子","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:{},series:[{name:"好友新增人数",type:"bar",data:[105,20,36,10,10,20,20,36,10,10,20]}]};o.setOption(s),s={title:{text:"男女比例",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["男","女"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"男"},{value:310,name:"女"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},echarts.init(document.getElementById("main-chart1")).setOption(s);s={title:{text:"近七天操作统计"},tooltip:{},legend:{data:[""]},xAxis:{data:["哈哈哈哈","羊毛衫","雪纺衫","裤子","高跟鞋","袜子","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:{},series:[{name:"好友新增人数",type:"bar",data:[105,20,36,10,10,20,20,36,10,10,20]}]};(o=echarts.init(document.getElementById("main-chart2"))).setOption(s)}]),app.controller("page34C",["$rootScope","$scope","$http","$timeout",function(e,t,a,n){$(".side-bar1").css("display","block"),$(".task-box").css("display","block"),e.getAllFalse(),e.activemmp=!0,e.navPartOne=!0,e.isScreenPage=!1,t.moveBox=!1,t.editBoxTwo=!1,t.editBoxOne=!1,t.editBoxThree=!1,t.alertSuccess=!1,t.alertDanger=!1,t.alertWaring=!1,t.choseClick=!1,t.offline=0,t.online=0,t.page1CheckNums=0,t.UpVersion="",t.logout=function(){a.get(e.link+"/logout").success(function(e){200==e.code?window.location.href="http://"+window.location.host+"/wgcs/#/login":($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;注销登录失败"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},t.UpWechatBanben=function(e,a){var n=e,i=t.UpVersion.split("."),o=n.split(".");if(i.length<o.length)for(var s=o.length-i.length,r=0;r<s;r++)i.push("");if(o.length<i.length)for(var l=i.length-o.length,r=0;r<l;r++)o.push("");for(r=0;r<i.length;r++){var p=parseInt(i[r]),c=parseInt(o[r]);if(p>c){e="";break}if(p<c){e="noShow";break}e="noShow"}return 1==a||(e="noShow"),e},t.page1UpHJi=function(n){var i=[];i.push(n);var o=new FormData;o.append("devices",JSON.stringify(i)),a({method:"POST",url:e.link+"/device/updateWechat",data:o,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){if(200==n.code){var i=setInterval(function(){1==e.comWechatNum&&(a.get(e.link+"/wechat/getWechatVersion").success(function(a){200==a.code&&(e.initOver=!0,t.UpVersion=a.msg)}),a.get(e.link+"/device/getAllDevice?pageNo=1&pageSize=15").success(function(n){if(200==n.code){if(0==n.data.content.length)t.sweepBox=!0,$(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on");else if(e.DataList=n.data.content,n.data.content.length>0){t.offline=0,t.online=0;for(var o=0;o<n.data.content.length;o++)0==n.data.content[o].status?t.offline++:t.online++}t.page1InitDataLength=n.data.totalElements,$(".M-box1").pagination({totalData:t.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/device/getAllDevice?pageNo="+i.page+"&pageSize=15").success(function(e){if(t.response=e,t.page1InitDataLength=e.data.totalElements,$(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on"),e.data.content.length>0){t.offline=0,t.online=0;for(var a=0;a<e.data.content.length;a++)0==e.data.content[a].status?t.offline++:t.online++}})}}),clearInterval(i),e.comWechatNum=!1}else $(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3)}))},2e3);$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;微信升级任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3)}else $(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;微信升级任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3)})},t.isShowScreen=function(e){localStorage.removeItem("devices"),localStorage.setItem("devices",""+e);localStorage.getItem("devices");window.close("http://"+window.location.host+"/wgcs/screens.html ","_self"),window.open("http://"+window.location.host+"/wgcs/screens.html","true")},t.isShowAllScreen=function(){for(var e=[],t=[],a=[],n=0;n<$(".page1-onChecked").length;n++)$(".page1-onChecked").eq(n).prop("checked")&&(e.push($(".page1-onChecked").eq(n).attr("data")),t.push($(".page1-onChecked").eq(n).attr("data1")));for(var i=0;i<e.length;i++)0!=t[i]&&a.push(e[i]);var o=a.join(",");localStorage.removeItem("devices"),localStorage.setItem("devices",""+o);localStorage.getItem("devices");window.close("http://"+window.location.host+"/wgcs/screens.html ","_self"),window.open("http://"+window.location.host+"/wgcs/screens.html","true")},a.get(e.link+"/device/getAllDevice?pageNo=1&pageSize=15").success(function(n){if(200==n.code){if(0==n.data.content.length)t.sweepBox=!0,$(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on");else if(e.DataList=n.data.content,n.data.content.length>0){t.offline=0,t.online=0;for(var i=0;i<n.data.content.length;i++)0==n.data.content[i].status?t.offline++:t.online++}a.get(e.link+"/wechat/getWechatVersion").success(function(a){200==a.code&&(e.initOver=!0,t.UpVersion=a.msg)}),t.page1InitDataLength=n.data.totalElements,$(".M-box1").pagination({totalData:t.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/device/getAllDevice?pageNo="+i.page+"&pageSize=15").success(function(a){if(t.response=a,t.page1InitDataLength=a.data.totalElements,$(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on"),e.DataList=a.data.content,a.data.content.length>0){t.offline=0,t.online=0;for(var n=0;n<a.data.content.length;n++)0==a.data.content[n].status?t.offline++:t.online++}})}})}else $(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3)}),t.page1onChecked=function(){for(var e=[],a=$(".page1-onChecked"),n=0;n<a.length;n++)1==a[n].checked&&e.push(a[n]);t.page1CheckNums=e.length,e.length<=0?t.choseClick=!1:t.choseClick=!0,e.length==a.length?($(".page3-div-checkbox1").parent().addClass("on"),$(".page3-div-checkbox1")[0].checked=!0):($(".page3-div-checkbox1").parent().removeClass("on"),$(".page3-div-checkbox1")[0].checked=!1)},t.page1AllChecked=function(){var e=$(".page1-onChecked");0==$(".page3-div-checkbox1")[0].checked?(t.choseClick=!1,t.page1CheckNums=0):(t.choseClick=!0,t.page1CheckNums=e.length)},t.sweepBoxOne=!0,t.sweepBoxTwo=!1,t.sweepBoxThree=!1,t.sweepAssBlock="sweep-box-one-block-small",t.getLoad=function(e){return 1==e?"已安装":"未安装"},t.Status=function(e){return 0==e?"离线":"在线"},t.statusHigh=function(e){return 1==e?"page2-red":""},t.getSweepTwo=function(){t.sweepBoxOne=!1,t.sweepBoxTwo=!0,a.get(e.link+"/device/initDevice").success(function(i){if(200==i.code){if(t.sweepAssBlock="sweep-box-one-block-big",t.sweepTime=i.data.time,t.sweepEquipNumber=0,t.sweepOffLineNumber=0,t.sweepShowTime="",void 0==i.data.devices)$(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;初始化系统未找到设备请检查设备连接，刷新页面或重启系统"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3);else for(var o=0;o<i.data.devices.length;o++)1==i.data.devices[o].status?t.sweepEquipNumber++:t.sweepOffLineNumber++;a.get(e.link+"/device/getAllDevice?pageNo=1&pageSize=15").success(function(n){if($(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on"),a.get(e.link+"/wechat/getWechatVersion").success(function(e){200==e.code&&(t.UpVersion=e.msg)}),e.DataList=n.data.content,n.data.content.length>0){t.offline=0,t.online=0;for(var i=0;i<n.data.content.length;i++)0==n.data.content[i].status?t.offline++:t.online++}t.response=n.data.content,t.page1InitDataLength=n.data.totalElements,$(".M-box1").pagination({totalData:t.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/device/getAllDevice?pageNo="+i.page+"&pageSize=15").success(function(a){if(t.response=a,e.DataList=a.data.content,t.page1InitDataLength=a.data.totalElements,$(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on"),a.data.content.length>0){t.offline=0,t.online=0;for(var n=0;n<a.data.content.length;n++)0==a.data.content[n].status?t.offline++:t.online++}})}})}),a.get(e.link+"/group/getGroupDataByStatus").success(function(t){if(200==t.code){e.onlineGroupNames=t.data,e.moArray=[];for(var a=0;a<t.data[0].deviceVos.length;a++)e.moArray.push(t.data[0].deviceVos[a].device)}else $(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;初始化系统失败未获取到相关设备，请检查设备连接、刷新页面、或重启系统"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3)}),t.sweepTime<5?(t.sweepShowTime=5,n(function(){t.sweepBoxTwo=!1,t.sweepBoxThree=!0},5200)):(t.sweepShowTime=i.data.time,n(function(){t.sweepBoxTwo=!1,t.sweepBoxThree=!0},t.sweepTime))}else $(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;初始化系统失败，请刷新页面或重启系统"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3)})},t.getSweepTwo1=function(){t.sweepBox=!1},t.couldChange=function(e){if(0!=e)return"on"},t.couldRead=function(e){if(0!=e)return!0},t.couldSave=function(e){if(0!=e)return"cs"},t.couldEdit=function(e){if(0==e)return"ce"},t.sweepBoxOneTwo22=!1,t.getDataList=function(){e.DataList=t.response,t.sweepBoxOneTwo22=!1,t.sweepBox=!1},t.getSweepBox=function(){a.get(e.link+"/task/getRunTaskCount").success(function(a){200==a.code&&(0==a.data?(t.sweepBox=!0,t.sweepBoxOne=!0,t.sweepBoxTwo=!1,t.sweepBoxThree=!1,t.sweepAssBlock="sweep-box-one-block-small",e.sweepBoxOneTwo1=!1):e.sweepBoxOneTwo1=!0)})},t.sweepBoxOneTwo3=function(){e.sweepBoxOneTwo1=!1},t.sweepBoxOneTwo2=function(){e.sweepBoxOneTwo1=!0,a.get(e.link+"/task/clearTask").success(function(a){200==a.code?(t.sweepBox=!0,t.sweepBoxOne=!0,t.sweepBoxTwo=!1,t.sweepBoxThree=!1,t.sweepAssBlock="sweep-box-one-block-small",e.sweepBoxOneTwo1=!1):e.sweepBoxOneTwo1=!0})},t.wayOut=function(){$(".way-out-table").table2excel({exclude:".noExl",name:"Excel Document Name",filename:"设备帐号列表",exclude_img:!0,exclude_links:!0,exclude_inputs:!0})},t.deleteEquip=function(n){var i=[];i.push(n);var o=new FormData;o.append("devices",JSON.stringify(i)),a({method:"POST",url:e.link+"/device/delDevices",data:o,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){200==n.code?($(".page1-alert-success").show(300).find(".page1-alert-success-con").html("&nbsp;&nbsp;设备删除成功"),setTimeout(function(){$(".page1-alert-success").hide(300)},2e3),a.get(e.link+"/device/getAllDevice?pageNo=1&pageSize=15").success(function(n){if(200==n.code){if($(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on"),0==n.data.content.length?t.sweepBox=!0:(e.DataList=n.data.content,t.page1InitDataLength=n.data.totalElements),n.data.content.length>0){t.offline=0,t.online=0;for(var i=0;i<n.data.content.length;i++)0==n.data.content[i].status?t.offline++:t.online++}a.get(e.link+"/wechat/getWechatVersion").success(function(e){200==e.code&&(t.UpVersion=e.msg)})}$(".M-box1").pagination({totalData:t.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/device/getAllDevice?pageNo="+i.page+"&pageSize=15").success(function(a){if(200==a.code&&($(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on"),0==a.data.content.length?t.sweepBox=!0:e.DataList=a.data.content,t.page1InitDataLength=a.data.totalElements,a.data.content.length>0)){t.offline=0,t.online=0;for(var n=0;n<a.data.content.length;n++)0==a.data.content[n].status?t.offline++:t.online++}})}})})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;设备删除失败"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})},t.deleteEquip1=function(){for(var n=[],i=0;i<$(".page1-onChecked").length;i++)$(".page1-onChecked").eq(i).prop("checked")&&n.push($(".page1-onChecked").eq(i).attr("data"));var o=new FormData;o.append("devices",JSON.stringify(n)),a({method:"POST",url:e.link+"/device/delDevices",data:o,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){200==n.code?($(".page1-alert-success").show(300).find(".page1-alert-success-con").html("&nbsp;&nbsp;批量设备删除成功"),setTimeout(function(){$(".page1-alert-success").hide(300)},2e3),a.get(e.link+"/device/getAllDevice?pageNo=1&pageSize=15").success(function(n){if(200==n.code){if(0==n.data.content.length?t.sweepBox=!0:(e.DataList=n.data.content,t.page1InitDataLength=n.data.totalElements),n.data.content.length>0){t.offline=0,t.online=0;for(var i=0;i<n.data.content.length;i++)0==n.data.content[i].status?t.offline++:t.online++}a.get(e.link+"/wechat/getWechatVersion").success(function(e){200==e.code&&(t.UpVersion=e.msg)})}$(".M-box1").pagination({totalData:t.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/device/getAllDevice?pageNo="+i.page+"&pageSize=15").success(function(a){if(200==a.code&&(0==a.data.content.length?t.sweepBox=!0:e.DataList=a.data.content,t.page1InitDataLength=a.data.totalElements,a.data.content.length>0)){t.offline=0,t.online=0;for(var n=0;n<a.data.content.length;n++)0==a.data.content[n].status?t.offline++:t.online++}})}})})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;批量设备删除失败"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})},t.showMyEquip=function(t){var n=[];n.push(t),a.get(e.link+"/device/showDifferent?device="+JSON.stringify(n)).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;查找设备任务添加成功，请耐心等待"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code&&(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0)})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;查找设备任务添加失败，请检查设备或再次执行"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})},t.showMyEquip1=function(t){for(var n=[],i=[],o=[],s=0;s<$(".page1-onChecked").length;s++)$(".page1-onChecked").eq(s).prop("checked")&&(n.push($(".page1-onChecked").eq(s).attr("data")),i.push($(".page1-onChecked").eq(s).attr("data1")));for(var r=0;r<n.length;r++)0!=i[r]&&o.push(n[r]);a.get(e.link+"/device/showDifferent?device="+JSON.stringify(o)).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;查找设备任务添加成功，请耐心等待"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code&&(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0)})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;查找设备任务添加失败，请检查设备或再次执行"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})},t.isShow=function(e){if(1==e)return!0},t.rankAss=function(e){return 1e3==e?"-":e},t.getPage=function(e){return 15*t.assPage+e},t.addNewGroup=function(){t.editBoxThree=!0,t.newGroupName="",t.moveBox=!1,t.editBoxTwo=!1,t.editBoxOne=!1},t.cancelAddNewGroup=function(){t.editBoxThree=!1},t.sureAddNewGroup=function(){for(var n=!1,i=0;i<e.AssGroupNames.length;i++)t.newGroupName==e.AssGroupNames[i]&&(n=!0);n?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;您输入的分组已存在，不能再次创建"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3),t.newGroupName=""):""==t.newGroupName?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;新的分组名称不能为空"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):a.get(e.link+"/group/createGroup?groupName="+t.newGroupName).success(function(n){200==n.code?($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;新的分组创建成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3),t.editBoxThree=!1,a.get(e.link+"/group/getGroupData").success(function(a){if(200==a.code){e.groupNames=a.data,t.allGroupNames=a.data,e.AssGroupNames=[],e.allEquipIds=[],e.equipCounts=0;for(var n=0;n<a.data.length;n++)e.AssGroupNames.push(a.data[n].group.name),e.allEquipIds.push(a.data[n].group.id),e.equipCounts+=a.data[n].count}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;新的分组创建失败"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),a.get(e.link+"/group/getGroupDataByStatus").success(function(n){if(200==n.code){e.onlineGroupNames=n.data,e.moArray=[];for(var i=0;i<n.data[0].deviceVos.length;i++)e.moArray.push(n.data[0].deviceVos[i].device);a.get(e.link+"/device/getDeviceByDevice/?devices="+JSON.stringify(e.moArray)+"&pageNo=1&pageSize=15").success(function(n){200==n.code?$(".M-box1").pagination({totalData:t.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/device/getAllDevice?pageNo="+i.page+"&pageSize=15").success(function(a){if($(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on"),t.response=a,e.DataList=a.data.content,t.page1InitDataLength=a.data.totalElements,a.data.content.length>0){t.offline=0,t.online=0;for(var n=0;n<a.data.content.length;n++)0==a.data.content[n].status?t.offline++:t.online++}})}}):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;新的分组创建失败"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3),t.editBoxThree=!1)})},t.deleteable=function(e){return 1==e},t.deleteButton=function(){t.editBoxTwo=!0,t.moveBox=!1,t.editBoxOne=!1,t.editBoxThree=!1,t.selected=[];var e=function(e,a){if("add"==e&&-1==t.selected.indexOf(a)&&t.selected.push(a),"remove"==e&&-1!=t.selected.indexOf(a)){var n=t.selected.indexOf(a);t.selected.splice(n,1)}};t.checkOne=function(t,a){var n=t.target.checked?"add":"remove";e(n,a)},t.isChecked=function(e){return t.selected.indexOf(e)>=0}},t.cancelDeleteButton=function(){t.editBoxTwo=!1},t.sureDeleteButton=function(){t.selected.length<=0?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要进行删除操作的分组"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):a.get(e.link+"/group/delGroup?groupIds="+JSON.stringify(t.selected)).success(function(n){200==n.code?($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;删除分组成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3),t.editBoxTwo=!1,a.get(e.link+"/group/getGroupData").success(function(a){if(200==a.code){e.groupNames=a.data,t.allGroupNames=a.data,e.AssGroupNames=[],e.allEquipIds=[],e.equipCounts=0;for(var n=0;n<a.data.length;n++)e.AssGroupNames.push(a.data[n].group.name),e.allEquipIds.push(a.data[n].group.id),e.equipCounts+=a.data[n].count}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),a.get(e.link+"/device/getAllDevice/?pageNo=1&pageSize=15").success(function(n){e.DataList=n.data.content,t.page1InitDataLength=n.data.totalElements,200==n.code?(t.page1InitDataLength=n.data.totalElements,$(".M-box1").pagination({totalData:t.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/device/getDeviceByDevice/?pageNo="+i.page+"&pageSize=15").success(function(a){e.DataList=a.data.content,t.page1InitDataLength=a.data.totalElements})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),a.get(e.link+"/group/getGroupDataByStatus").success(function(t){if(200==t.code){e.onlineGroupNames=t.data,e.moArray=[];for(var a=0;a<t.data[0].deviceVos.length;a++)e.moArray.push(t.data[0].deviceVos[a].device)}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),$(".page17-all-checked").hide()):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;分组删除失败"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},t.changeNameButton=function(){t.editBoxOne=!0,t.changeId=0,t.newGroupName="",t.moveBox=!1,t.editBoxTwo=!1,t.editBoxThree=!1},t.cancelChangeButton=function(){t.editBoxOne=!1},t.changeGroupName="",t.sureChangeButton=function(){for(var n=!1,i=0;i<e.AssGroupNames.length;i++)t.changeGroupName==e.AssGroupNames[i]&&(n=!0);if(n)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;输入的分组已存在，请再次输入其他分组"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3),t.changeGroupName="";else if(""==t.changeGroupName)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;输入的分组名称不能为空，请再次输入"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var o=$("input[name='changeTarget']:checked").val();a.get(e.link+"/group/updateGroupName?groupId="+o+"&newName="+t.changeGroupName).success(function(n){200==n.code?($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;分组名称修改成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3),t.editBoxOne=!1,t.changeGroupName="",a.get(e.link+"/group/getGroupData").success(function(a){if(200==a.code){e.groupNames=a.data,t.allGroupNames=a.data,e.AssGroupNames=[],e.allEquipIds=[],e.equipCounts=0;for(var n=0;n<a.data.length;n++)e.AssGroupNames.push(a.data[n].group.name),e.allEquipIds.push(a.data[n].group.id),e.equipCounts+=a.data[n].count}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),a.get(e.link+"/device/getAllDevice/?pageNo=1&pageSize=15").success(function(n){e.DataList=n.data.content,t.page1InitDataLength=n.data.totalElements,200==n.code?(t.page1InitDataLength=n.data.length,$(".M-box1").pagination({totalData:t.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/device/getDeviceByDevice/?pageNo="+i.page+"&pageSize=15").success(function(a){e.DataList=a.data.content,t.page1InitDataLength=a.data.totalElements})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),a.get(e.link+"/group/getGroupDataByStatus").success(function(t){if(200==t.code){e.onlineGroupNames=t.data,e.moArray=[];for(var a=0;a<t.data[0].deviceVos.length;a++)e.moArray.push(t.data[0].deviceVos[a].device)}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),$(".page17-all-checked").hide()):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;修改分组名称失败"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3),t.editBoxOne=!1,t.changeGroupName="")})}},t.isDisabled=function(e){if(1==e)return!0},t.dColor=function(e){return 1==e?"binged":"binging"},t.assMoveTo=!0,t.moveId=1,t.moveToId=function(e){t.moveId=e},t.groupMoveTo=function(){t.moveGroup=[];for(var e=0;e<$(".page1-onChecked").length;e++)$(".page1-onChecked").eq(e).prop("checked")&&t.moveGroup.push($(".page1-onChecked").eq(e).attr("data"));0==t.moveGroup.length?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要加入分组的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):(t.moveBox=!0,t.editBoxTwo=!1,t.editBoxOne=!1,t.editBoxThree=!1,t.moveId=1)},t.cancelMoveTo=function(){t.moveBox=!1},t.sureMoveTo=function(){a.get(e.link+"/group/moveGroup?groupId="+t.moveId+"&devices="+JSON.stringify(t.moveGroup)).success(function(n){if(200==n.code){t.moveGroup=[];for(var i=0;i<$(".page3-div-checkbox input").length;i++)$(".page3-div-checkbox input").eq(i).prop("checked")&&t.moveGroup.push($(".page3-div-checkbox input").eq(i).attr("mess_id"));$(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;设备加入分组成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3),t.moveBox=!1,a.get(e.link+"/group/getGroupData").success(function(a){if(200==a.code){e.groupNames=a.data,t.allGroupNames=a.data,e.AssGroupNames=[],e.allEquipIds=[],e.equipCounts=0;for(var n=0;n<a.data.length;n++)e.AssGroupNames.push(a.data[n].group.name),e.allEquipIds.push(a.data[n].group.id),e.equipCounts+=a.data[n].count}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),a.get(e.link+"/device/getAllDevice/?pageNo=1&pageSize=15").success(function(n){e.DataList=n.data.content,t.page1InitDataLength=n.data.totalElements,200==n.code?(t.page1InitDataLength=n.data.totalElements,$(".M-box1").pagination({totalData:t.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/device/getDeviceByDevice/?pageNo="+i.page+"&pageSize=15").success(function(a){e.DataList=a.data.content,t.page1InitDataLength=a.data.totalElements})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),a.get(e.link+"/group/getGroupDataByStatus").success(function(t){if(200==t.code){e.onlineGroupNames=t.data,e.moArray=[];for(var a=0;a<t.data[0].deviceVos.length;a++)e.moArray.push(t.data[0].deviceVos[a].device)}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),$(".page17-all-checked").hide()}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;设备加入分组失败"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)})},t.moChecked=function(e){return 1==e},t.page1PopoverShow=function(){$(".page1-popover").show()},t.page1PopoverHide=function(){$(".page1-popover").hide()},t.openAll=function(t){for(var n=[],i=$(".page1-onChecked"),o=0;o<i.length;o++)1==i[o].checked&&n.push(i[o].attributes[0].value);if(n.length<=0)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要操作的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var s=new FormData;s.append("devices",JSON.stringify(n)),s.append("taskId",t),a({method:"POST",url:e.link+"/device/open",data:s,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.closeAll=function(t){for(var n=[],i=$(".page1-onChecked"),o=0;o<i.length;o++)1==i[o].checked&&n.push(i[o].attributes[0].value);if(0==n.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要操作的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var s=new FormData;s.append("devices",JSON.stringify(n)),s.append("taskId",t),a({method:"POST",url:e.link+"/device/close",data:s,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.backHome=function(){for(var t=[],n=$(".page1-onChecked"),i=0;i<n.length;i++)1==n[i].checked&&t.push(n[i].attributes[0].value);0==t.length?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要操作的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):a.get(e.link+"/device/backHome?devices="+JSON.stringify(t)).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}}]),app.controller("page35C",["$rootScope","$scope","$http","$timeout",function(e,t,a,n){e.getAllFalse(),e.initOver=!0,e.activeThirtyFive=!0,e.navPartThree=!0,e.isScreenPage=!1,t.table1=!0,t.table2=!1,t.table3=!1,t.inSideBox1=!0,t.page2Table3Group=!1,e.page5getMoreData=1,t.outSideBox=!1,t.insideBox=!1,t.assBack=!1,t.resetSelect=!0,t.fvcMe=function(e){$(".list_dd").stop(),$(".list_dt").eq(e).parent().siblings("new-wx-group-list-li").removeAttr("id"),"open"==$(".list_dt").eq(e).parent().attr("id")?$(".list_dt").eq(e).parent().removeAttr("id").find("i").css("background",' url("images/offChecked.png")center no-repeat'):$(".list_dt").eq(e).parent().attr("id","open").find("i").css("background",' url("images/openChecked.png")center no-repeat')},t.getInside=function(n){t.outSideBox=!1,t.insideBox=!0,t.assMoveTo=!1,t.assBack=!0,t.resetSelect=!1,t.assDevice=n,a.get(e.link+"/wechat/getWechatByDevice?device="+n).success(function(e){t.assList=e.data})},a.get(e.link+"/group/getGroupDataByStatus").success(function(e){if(200==e.code){t.hhalk=[];for(var a=0;a<e.data.length;a++)if(0==e.data[a].deviceVos.length);else for(var n=0;n<e.data[a].deviceVos.length;n++)t.hhalk.push(e.data[a].deviceVos[n].device);t.hhalk1=t.hhalk.length}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),t.logout=function(){a.get(e.link+"/logout").success(function(e){200==e.code?window.location.href="http://"+window.location.host+"/wgcs/#/login":($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;注销登录失败"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},t.getAssBack=function(){t.outSideBox=!0,t.insideBox=!1,t.resetSelect=!0,t.assBack=!1,t.assMoveTo=!0;for(var n=[],i=0;i<$(".page17-wx-input").length;i++)$(".page17-wx-input").eq(i).prop("checked")&&n.push($(".page17-wx-input").eq(i).parent().next().attr("title"));a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(n)+"&pageNo=1&pageSize=17").success(function(i){200==i.code?(t.checkAllFour=!1,$(".page4-floor-one-list").find("span").eq(0).removeClass("on"),t.page1InitDataLength=i.data.content.length,$(".page2-table1-page").pagination({totalData:t.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(i){var o={page:i.getCurrent()};a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(n)+"&pageNo="+o.page+"&pageSize=15").success(function(e){200==e.code&&(t.page1InitDataLength=e.data.content.length)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},n(function(){a.get(e.link+"/device/getAllDeviceByStatus?pageNo=1&pageSize=15").success(function(n){200==n.code?(t.page1InitDataLength=n.data.content.length,$(".page2-table1-page").pagination({totalData:t.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(e.moArray)+"&pageNo="+i.page+"&pageSize=15").success(function(a){e.equipList4=a.data.content,t.page1InitDataLength=a.data.content.length})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},0),t.isRankOne=function(e){return 1==e?"on":""},t.rankDisabled=function(e){return 1==e},t.moveUp=function(n){a.get(e.link+"/wechat/up?rank="+n+"&device="+t.assDevice).success(function(n){200==n.code?($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;移动成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3),a.get(e.link+"/wechat/getWechatByDevice?device="+t.assDevice).success(function(e){t.assList=e.data})):($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;分组名称修改成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3))})},t.isRankLast=function(e){return 20==e?"on":""},t.rankDisabledLast=function(e){return 20==e},t.moveDown=function(n){a.get(e.link+"/wechat/down?rank="+n+"&device="+t.assDevice).success(function(n){200==n.code?($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;移动成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3),a.get(e.link+"/wechat/getWechatByDevice?device="+t.assDevice).success(function(e){t.assList=e.data})):($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;分组名称修改成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3))})},t.assMoveTo=!0,t.checked=[],t.selectAll=function(){t.checkAllFour?(t.checked=[],angular.forEach(e.equipList4,function(e){e.checked=!0,t.checked.push(e.device)})):angular.forEach(e.equipList4,function(e){e.checked=!1,t.checked=[]})},t.selectOne=function(){angular.forEach(e.equipList4,function(e){var a=t.checked.indexOf(e.device);e.checked&&-1===a?t.checked.push(e.device):e.checked||-1==a||t.checked.splice(a,1)}),e.equipList4.length===t.checked.length?t.checkAll=!0:t.checkAll=!1},t.resetNumber="1",t.resetButton=function(){for(var n=0,i=[];n<$(".page17-wx-input").length;n++)$(".page17-wx-input").eq(n).prop("checked")&&i.push($(".page17-wx-input").eq(n).parent().next().attr("title"));0==i.length?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请勾选需要切换的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):a.get(e.link+"/group/switchWechat?devices="+JSON.stringify(i)+"&rank="+parseInt(t.resetNumber)).success(function(t){if(200==t.code){$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;切换微信号任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3);for(var n=[],i=0;i<$(".new-wx-equip-input4").length;i++)$(".new-wx-equip-input4").eq(i).prop("checked")&&n.push($(".new-wx-equip-input4").eq(i).parent().next().attr("title"));a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})}else $(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;添加任务失败"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3)})},e.page4getMoreData=2,$(".lalaldemaxiya").css("display","none"),t.tableSwitch=function(n){if(1==n){t.page2TableChangeName=!1,t.page2TableChangeTag=!1,t.sendMsgFri=!1,t.ThumbsUpTurn=!1,t.page2AddPeople=!1,t.sendMsgFriToGroup=!1,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"),e.page4getMoreData=1,t.page2Table3Group=!1,t.inSideBox1=!1,t.insideBox=!1,t.outSideBox=!0,$(".page2-title-button-but1").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"});for(var i=[],o=0;o<$(".page17-wx-input").length;o++)$(".page17-wx-input").eq(o).prop("checked")&&i.push($(".page17-wx-input").eq(o).parent().next().attr("title"));i.length>0?a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(i)+"&pageNo=1&pageSize=15").success(function(n){200==n.code?(e.equipList4=n.data.content,t.page1InitDataLength=n.data.content.length,$(".lalaldemaxiya").css("display","block"),$(".page2-table1-page").pagination({isHide:!0,totalData:t.page1InitDataLength,showData:15,pageCount:1,coping:!0,count:2,callback:function(n){var o={page:n.getCurrent()};a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(i)+"&pageNo="+o.page+"&pageSize=15").success(function(a){200==a.code&&(t.page1InitDataLength=a.data.content.length,e.equipList4=a.data.content,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"))})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):($(".lalaldemaxiya").css("display","none"),$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请勾选相关设备以便对其操作"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}else if(2==n){t.page2TableChangeName=!1,t.page2TableChangeTag=!1,t.sendMsgFri=!1,t.ThumbsUpTurn=!1,t.page2AddPeople=!1,t.sendMsgFriToGroup=!1,e.page4getMoreData=2,t.page2Table3Group=!1,t.inSideBox1=!0,t.insideBox=!1,t.outSideBox=!1,$(".page2-title-button-but2").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"});for(var i=[],o=0;o<$(".page17-wx-input").length;o++)$(".page17-wx-input").eq(o).prop("checked")&&i.push($(".page17-wx-input").eq(o).parent().next().attr("title"));i.length>0?a.get(e.link+"/operate/getContact?devices="+JSON.stringify(i)+"&pageNo=1&pageSize=15").success(function(t){200==t.code?(e.WxList=t.data.content,e.page1InitDataLength=t.data.totalElements,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"),$(".page2-table2-page").pagination({isHide:!0,totalData:e.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(t){for(var n={page:t.getCurrent()},i=[],o=0;o<$(".page17-wx-input").length;o++)$(".page17-wx-input").eq(o).prop("checked")&&i.push($(".page17-wx-input").eq(o).parent().next().attr("title"));0==i.length?(e.WxList=[],e.page1InitDataLength=0,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"),$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择相关设备查看对应好友"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):a.get(e.link+"/operate/getContact?devices="+JSON.stringify(i)+"&pageNo="+n.page+"&pageSize=15").success(function(t){e.WxList=t.data.content,e.page1InitDataLength=t.data.totalElements,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on")})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):(e.WxList=[],e.page1InitDataLength=0,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"),$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请勾选相关设备以便对其操作"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}else{t.page2TableChangeName=!1,t.page2TableChangeTag=!1,t.sendMsgFri=!1,t.ThumbsUpTurn=!1,t.page2AddPeople=!1,t.sendMsgFriToGroup=!1,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on"),e.page4getMoreData=3,t.page2Table3Group=!0,t.inSideBox1=!1,t.insideBox=!1,t.outSideBox=!1,$(".page2-title-button-but3").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"});for(var i=[],o=0;o<$(".page17-wx-input").length;o++)$(".page17-wx-input").eq(o).prop("checked")&&i.push($(".page17-wx-input").eq(o).parent().next().attr("title"));i.length>0?a.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(i)+"&pageNo=1&pageSize=15").success(function(t){200==t.code?(e.WxList1=t.data.content,e.page1InitDataLength2=t.data.totalElements,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on"),$(".page2-table3-page").pagination({isHide:!0,totalData:e.page1InitDataLength2,pageCount:1,showData:15,coping:!0,count:2,callback:function(t){var n={page:t.getCurrent()};0==i.length?(e.WxList1=[],e.page1InitDataLength2=0,$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择相关设备查看对应好友"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):a.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(i)+"&pageNo="+n.page+"&pageSize=15").success(function(t){e.WxList1=t.data.content,e.page1InitDataLength2=t.data.totalElements,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on")})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):(i=[],$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请勾选相关设备以便对其操作"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3),e.page1InitDataLength2=0,a.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(i)+"&pageNo=1&pageSize=15").success(function(t){e.WxList1=[],e.page1InitDataLength2=0,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on"),$(".page2-table3-page").pagination({totalData:e.page1InitDataLength2,pageCount:1,showData:15,coping:!0,isHide:!0,count:2,callback:function(t){t.getCurrent();a.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(i)+"&pageNo=1&pageSize=15").success(function(t){e.WxList1=[],e.page1InitDataLength2=0,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on")})}})}))}},t.page2TableChangeName=!1,t.page2TableChangeTag=!1,t.newName="",t.newTag="",t.getEditBoxOne=function(e){t.page2TableChangeName=!0,t.editIdFriend=e},t.cancelButton=function(){t.page2TableChangeName=!1,t.page2TableChangeTag=!1},t.SureButtonOne=function(n){var i=$(".page2-table2-page").find(".active").html();""==t.newName?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;备注昵称不能为空"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):a.get(e.link+"/operate/updateContact?name="+t.newName+"&id="+t.editIdFriend).success(function(n){if(200==n.code){$(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;修改成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3);for(var o=[],s=0;s<$(".page17-wx-input").length;s++)$(".page17-wx-input").eq(s).prop("checked")&&o.push($(".page17-wx-input").eq(s).parent().next().attr("title"));t.page2TableChangeName=!1,t.newName="",a.get(e.link+"/operate/getContact?devices="+JSON.stringify(o)+"&pageNo="+i+"&pageSize=15").success(function(n){200==n.code?(e.WxList=n.data.content,t.page1InitDataLength=n.data.content.length,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"),$(".page2-table1-page").pagination({totalData:t.page1InitDataLength,showData:15,pageCount:1,coping:!0,count:2,current:i,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/operate/getContact?devices="+JSON.stringify(o)+"&pageNo="+i.page+"&pageSize=15").success(function(a){e.WxList=a.data.content,t.page1InitDataLength=a.data.totalElements,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on")})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)})},t.getEditBoxTwo=function(e){t.page2TableChangeTag=!0,t.newTaFriendiD=e},t.SureButtonTwo=function(){""==t.newTaFriend?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;新增标签不能为空"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):a.get(e.link+"/operate/updateContact?tag="+t.newTaFriend+"&id="+t.newTaFriendiD).success(function(n){if(200==n.code){var i=$(".page2-table2-page").find(".active").html();$(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;标签添加成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3),t.page2TableChangeTag=!1,t.newTaFriend="",a.get(e.link+"/operate/getContact?devices="+JSON.stringify(arr1)+"&pageNo="+i+"&pageSize=15").success(function(n){200==n.code?(e.WxList=n.data.content,t.page1InitDataLength=n.data.content.length,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"),$(".page2-table1-page").pagination({totalData:t.page1InitDataLength,showData:15,pageCount:1,coping:!0,count:2,current:i,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/operate/getContact?devices="+JSON.stringify(arr1)+"&pageNo="+i.page+"&pageSize=15").success(function(a){e.WxList=a.data.content,t.page1InitDataLength=a.data.totalElements,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on")})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)})},t.sendMsgFri=!1,t.NoMessageSendBox=function(){t.sendMsgFri=!1},t.maxInterval=10,t.minInterval=1,t.getMessageSendBox=function(){t.groupArrFrirnd=[],t.groupArrFrirndPhone=[],t.page2table2saySomething="";for(var e=0;e<$(".page2-table3-friend").length;e++)$(".page2-table3-friend").eq(e).prop("checked")&&(t.groupArrFrirnd.push($(".page2-table3-friend").eq(e).attr("friend_id")),t.groupArrFrirndPhone.push($(".page2-table3-friend").eq(e).attr("friend_Phone")));0==t.groupArrFrirnd.length?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要发送的好友"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):t.sendMsgFri=!0},e.upMsg=0,t.sureMessageSendBox=function(){t.groupArrFrirndPhone=[],t.groupArrcnmmp=[];for(n=0;n<$(".page2-table3-friend").length;n++)$(".page2-table3-friend").eq(n).prop("checked")&&t.groupArrFrirndPhone.push($(".page2-table3-friend").eq(n).attr("friend_Phone"));for(var n=0;n<$(".page17-wx-input").length;n++)$(".page17-wx-input").eq(n).prop("checked")&&t.groupArrcnmmp.push($(".page17-wx-input").eq(n).parent().next().attr("title"));""==t.page2table2saySomething?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请填写需要发送的内容"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):0==t.groupArrFrirndPhone.length?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要发送消息的好友"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):(t.groupArrFrirnd.length>200&&($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;由于微信策略限制每天最多群发好友上限800人，每次群发上限200人"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)),t.sendMsgFri=!1,t.sendObj1=new FormData,t.messageSendBox=!1,t.sendObj1.append("devices",JSON.stringify(t.groupArrcnmmp)),t.sendObj1.append("device",JSON.stringify(t.groupArrFrirndPhone)),t.sendObj1.append("friendsIdList",JSON.stringify(t.groupArrFrirnd)),t.sendObj1.append("msg",t.page2table2saySomething),t.sendObj1.append("maxInterval",t.maxInterval),t.sendObj1.append("minInterval",t.minInterval),a({method:"POST",url:e.link+"/operate/sendMsgByPro",data:t.sendObj1,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){200==n.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;群发消息任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),t.messageSendBox=!1,a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):(t.page2Tabledevicss=[],$(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;送消息任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))}))},t.ThumbsUpNums=1,t.ThumbsUp=function(){t.groupArrFrirnd1=[],t.groupArrFrirndPhone1=[];for(var e=0;e<$(".page2-table3-friend").length;e++)$(".page2-table3-friend").eq(e).prop("checked")&&(t.groupArrFrirnd1.push($(".page2-table3-friend").eq(e).attr("friend_id")),t.groupArrFrirndPhone1.push($(".page2-table3-friend").eq(e).attr("friend_Phone")));0==t.groupArrFrirndPhone1.length?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要点赞的好友"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):t.ThumbsUpTurn=!0},t.NoThumbsUpTurn=function(){t.ThumbsUpTurn=!1,t.ThumbsUpNums=1},t.lastFound=function(){void 0==t.ThumbsUpNums&&($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html('&nbsp;&nbsp;点赞数量范围为"1-30"请再次输入'),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3),t.ThumbsUpNums=1)},t.sureThumbsUpTurn=function(){t.sendObj2=new FormData,t.sendObj2.append("devices",JSON.stringify(t.groupArrFrirndPhone1)),t.sendObj2.append("likeCount",t.ThumbsUpNums),t.sendObj2.append("friendsIdList",JSON.stringify(t.groupArrFrirnd1)),a({method:"POST",url:e.link+"/operate/praiseForFriends",data:t.sendObj2,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){200==n.code?(t.page2Tabledevicss=[],t.ThumbsUpTurn=!1,$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;朋友圈点赞任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):(t.page2Tabledevicss=[],$(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;朋友圈点赞任务添加失败"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})},e.reloads=!1,e.reloads1=!1;setInterval(function(){if(0==e.reloads);else{for(var t=[],n=0;n<$(".page17-wx-input").length;n++)$(".page17-wx-input").eq(n).prop("checked")&&t.push($(".page17-wx-input").eq(n).parent().next().attr("title"));t.length>0?a.get(e.link+"/operate/getContact?devices="+JSON.stringify(t)+"&pageNo=1&pageSize=15").success(function(t){200==t.code?(e.WxList=t.data.content,e.page1InitDataLength=t.data.totalElements,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"),$(".page2-table2-page").pagination({isHide:!0,totalData:e.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(t){for(var n={page:t.getCurrent()},i=[],o=0;o<$(".page17-wx-input").length;o++)$(".page17-wx-input").eq(o).prop("checked")&&i.push($(".page17-wx-input").eq(o).parent().next().attr("title"));0==i.length?(e.WxList=[],e.page1InitDataLength=0,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"),$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择相关设备查看对应好友"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):a.get(e.link+"/operate/getContact?devices="+JSON.stringify(i)+"&pageNo="+n.page+"&pageSize=15").success(function(t){e.WxList=t.data.content,e.page1InitDataLength=t.data.totalElements,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on")})}}),e.reloads=!1):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):(e.WxList=[],e.page1InitDataLength=0,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"),$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请勾选相关设备以便对其操作"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3),e.reloads=!1)}},1e3),setInterval(function(){if(0==e.reloads1);else{for(var t=[],n=0;n<$(".page17-wx-input").length;n++)$(".page17-wx-input").eq(n).prop("checked")&&t.push($(".page17-wx-input").eq(n).parent().next().attr("title"));t.length>0?a.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(t)+"&pageNo=1&pageSize=15").success(function(n){200==n.code?(e.WxList1=n.data.content,e.page1InitDataLength2=n.data.totalElements,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on"),$(".page2-table3-page").pagination({isHide:!0,totalData:e.page1InitDataLength2,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};0==t.length?(e.WxList1=[],e.page1InitDataLength2=0,$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择相关设备查看对应好友"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):a.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(t)+"&pageNo="+i.page+"&pageSize=15").success(function(t){e.WxList1=t.data.content,e.page1InitDataLength2=t.data.totalElements,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on")})}}),e.reloads1=!1):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):(t=[],$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请勾选相关设备以便对其操作"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3),e.page1InitDataLength2=0,a.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(t)+"&pageNo=1&pageSize=15").success(function(n){e.WxList1=[],e.page1InitDataLength2=0,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on"),$(".page2-table3-page").pagination({totalData:e.page1InitDataLength2,pageCount:1,showData:15,coping:!0,isHide:!0,count:2,callback:function(n){n.getCurrent();a.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(t)+"&pageNo=1&pageSize=15").success(function(t){e.WxList1=[],e.page1InitDataLength2=0,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on")})}})}),e.reloads1=!1)}},1e3);t.getNew=function(){for(var n=[],i=0;i<$(".page17-wx-input").length;i++)$(".page17-wx-input").eq(i).prop("checked")&&n.push($(".page17-wx-input").eq(i).parent().next().attr("title"));0==n.length?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择需要进行更新好友列表操作的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):((new FormData).append("wechatId",JSON.stringify(n)),a.get(e.link+"/wechat/getSomeFriendList?wechatId="+JSON.stringify(n)).success(function(n){200==n.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;更新好友列表任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),t.reloads=!0):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;更新好友列表任务添加失败"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))}))},t.getInsideBoxInGroup=function(){for(var t=[],n=0;n<$(".page17-wx-input").length;n++)$(".page17-wx-input").eq(n).prop("checked")&&t.push($(".page17-wx-input").eq(n).parent().next().attr("title"));0==t.length?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要进行群发消息的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):a.get(e.link+"/wechat/getSomeGroupList?wechatId="+JSON.stringify(t)).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;更新群列表任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code&&(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0)})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;更新群列表任务添加失败"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})},t.sendMsgFriToGroup=!1,t.getMessageSendBoxGroup=function(){t.groupArr1=[],t.clubNames=[],t.saySomething="";for(var e=0;e<$(".page2-table3-group").length;e++)$(".page2-table3-group").eq(e).find("input").prop("checked")&&(t.groupArr1.push($(".page2-table3-group").eq(e).attr("group_id")),t.clubNames.push($(".page2-table3-group").eq(e).attr("club_name")));0==t.groupArr1.length?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要发送的群名称"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):t.sendMsgFriToGroup=!0},t.sureMessageSendBoxGroup=function(){t.sendMsgFriToGroup=!1,t.saySomethingahsdhas=""},t.maxTime=5,t.minTime=1,t.cancelMessageSendBox=function(){for(var n=[],i=[],o=0;o<$(".page3-div-checkbox-Groups-one").length;o++)$(".page3-div-checkbox-Groups-one").eq(o).prop("checked")&&(n.push($(".page3-div-checkbox-Groups-one").eq(o).attr("data")),i.push($(".page3-div-checkbox-Groups-one").eq(o).attr("data2")));for(var s=[],o=0;o<$(".page17-wx-input").length;o++)$(".page17-wx-input").eq(o).prop("checked")&&s.push($(".page17-wx-input").eq(o).parent().next().attr("title"));t.sendObj1=new FormData,""==t.saySomethingahsdhas?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;群发的消息不能为空"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):(t.sendObj1.append("devices",JSON.stringify(s)),t.sendObj1.append("device",JSON.stringify(n)),t.sendObj1.append("groupIdList",JSON.stringify(i)),t.sendObj1.append("msg",t.saySomethingahsdhas),t.sendObj1.append("maxInterval",t.maxTime),t.sendObj1.append("minInterval",t.minTime),a({method:"POST",url:e.link+"/operate/sendClubMsgNew",data:t.sendObj1,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){200==n.code?(t.saySomethingahsdhas="",t.sendMsgFriToGroup=!1,$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;群聊群发消息任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code&&(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0)})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;群聊群发消息任务添加失败"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))}))};var i=["[微笑]","[撇嘴]","[色]","[发呆]","[得意]","[流泪]","[害羞]","[闭嘴]","[睡]","[大哭]","[尴尬]","[发怒]","[调皮]","[呲牙]","[惊讶]","[难过]","[酷]","[冷汗]","[抓狂]","[吐]","[偷笑]","[愉快]","[白眼]","[傲慢]","[饥饿]","[困]","[惊恐]","[流汗]","[憨笑]","[悠闲]","[奋斗]","[咒骂]","[疑问]","[嘘]","[晕]","[疯了]","[衰]","[骷髅]","[敲打]","[再见]","[]","[抠鼻]","[鼓掌]","[糗大了]","[]","[左哼哼]","[右哼哼]","[哈欠]","[鄙视]","[委屈]","[快哭了]","[阴险]","[亲亲]","[]","[可怜]","[菜刀]","[啤酒]","[咖啡]","[饭]","[猪头]","[玫瑰]","[凋谢]","[嘴唇]","[爱心]","[心碎]","[蛋糕]","[闪电]","[炸弹]","[刀]","[足球]","[瓢虫]","[便便]","[拥抱]","[强]","[弱]","[握手]","[胜利]","[抱拳]","[勾引]","[拳头]","[差劲]","[爱你]","[NO]","[OK]","[跳跳]","[发抖]","[怄火]","[磕头]","[激动]","[献吻]"];t.page2AddPeople=!1,t.getNewFriendInGroup=function(){for(var e=[],a=0;a<$(".page17-wx-input").length;a++)$(".page17-wx-input").eq(a).prop("checked")&&e.push($(".page17-wx-input").eq(a).parent().next().attr("title"));for(var n=[],a=0;a<$(".page3-div-checkbox-Groups").length;a++)$(".page3-div-checkbox-Groups").eq(a).prop("checked")&&n.push($(".page3-div-checkbox-Groups").eq(a));n.length>0?t.page2AddPeople=!0:($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要进行加好友操作的群组"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))},t.NoaddPeople=function(){t.page2AddPeople=!1},t.page2GroupAddNum=1,t.page2GroupTiM1=1,t.page2GroupTiM2=10,t.sureaddPeople=function(){for(var n=$(".page12-emjoy12").html(),o=[],s=0;s<$(".page3-div-checkbox-Groups-one").length;s++)$(".page3-div-checkbox-Groups-one").eq(s).prop("checked")&&o.push($(".page3-div-checkbox-Groups-one").attr("data1"));if(t.sendObj1=new FormData,""==n)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请输入相关话术用语"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var r=/<img.*?(?:>|\/>)/g,l=/\/([^\/]*?\.gif)/i,p=n.match(r);if(null==p);else{for(var c=[],s=0;s<p.length;s++){var d=p[s].match(l);d[1]&&c.push(d[1].substring(0,d[1].indexOf(".")));for(var g=[],u=0;u<c.length;u++)for(var h=0;h<i.length;h++)c[u]==h&&g.push(i[h-1])}for(var f=n.match(/<img.*?(?:>|\/>)/g),s=0;s<f.length;s++)n=n.replace(f[s],g[s])}n.replace(/<\/div>/g,"").replace(/<br>/g,"").replace(/<div>/g,"<br>");t.sendObj1.append("wechatId",t.WxMemberId),t.sendObj1.append("clubNames",JSON.stringify(t.clubNames)),t.sendObj1.append("msg",t.saySomething),t.sendObj1.append("maxInterval",t.page2GroupTiM1),t.sendObj1.append("minInterval",t.page2GroupTiM2),a({method:"POST",url:e.link+"/operate/sendClubMsg",data:t.sendObj1,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;入群加好友任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;分组名称修改成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;入群加好友任务添加失败"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},$("#btn").click(function(){$(".emoji_container").html("").css({border:"none","background-color":"transparent","box-shadow":"none"}),$("#editor").emoji({button:"#btn",showTab:!1,animation:"none",icons:[{name:"QQ表情",path:"images/qq/",maxNum:91,excludeNums:[41,45,54],file:".gif"}]})})}]),app.controller("page36C",["$rootScope","$scope","$http","$timeout",function(e,t,a,n){function i(e){e.preventDefault();var t,a=(e.originalEvent||e).clipboardData;if(void 0===a||null===a){if(""!==(t=window.clipboardData.getData("text")||""))if(window.getSelection){var n=document.createElement("span");n.innerHTML=t,window.getSelection().getRangeAt(0).insertNode(n)}else document.selection.createRange().pasteHTML(t)}else""!==(t=a.getData("text/plain")||"")&&document.execCommand("insertText",!1,t)}function o(e){return document.getElementById(e)}function s(){d.clearOverlays();var e=new BMap.LocalSearch(d,{onSearchComplete:function(){var a=e.getResults().getPoi(0).point;d.centerAndZoom(a,18),d.addOverlay(new BMap.Marker(a)),t.mapPointLng=a.lng,t.mapPointLat=a.lat}});e.search(u)}e.getAllFalse(),e.initOver=!0,e.activeThirtySix=!0,e.navPartThree=!0,e.isScreenPage=!1,t.outSideBox=!0,t.uptel=!1,t.outSideBox1=!1,t.outSideBox3=!1,t.outSideBox2=!1,t.outSideBox4=!1,t.outSideBox5=!1,t.upTextShow=!1,t.fvcMe=function(e){$(".list_dd").stop(),$(".list_dt").eq(e).parent().siblings("new-wx-group-list-li").removeAttr("id"),"open"==$(".list_dt").eq(e).parent().attr("id")?$(".list_dt").eq(e).parent().removeAttr("id").find("i").css("background",' url("images/offChecked.png")center no-repeat'):$(".list_dt").eq(e).parent().attr("id","open").find("i").css("background",' url("images/openChecked.png")center no-repeat')},$(".page2-emjoy1").html(""),$(".page3-emjoy1").html(""),$(".page3-emjoy2").html(""),$(".page3-emjoy3").html(""),$(".page3-emjoy5").html(""),$(".page2-emjoy1").on("paste",function(e){i(e)}),$(".page3-emjoy1").on("paste",function(e){i(e)}),$(".page3-emjoy2").on("paste",function(e){i(e)}),$(".page3-emjoy3").on("paste",function(e){i(e)}),$(".page3-emjoy5").on("paste",function(e){i(e)}),a.get(e.link+"/group/getGroupDataByStatus").success(function(e){if(200==e.code){t.hhalk=[];for(var a=0;a<e.data.length;a++)if(0==e.data[a].deviceVos.length);else for(var n=0;n<e.data[a].deviceVos.length;n++)t.hhalk.push(e.data[a].deviceVos[n].device);t.hhalk1=t.hhalk.length}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),t.logout=function(){a.get(e.link+"/logout").success(function(e){200==e.code?window.location.href="http://"+window.location.host+"/wgcs/#/login":($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;注销登录失败"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},$("#btn1").click(function(){$(".emoji_container").html("").css({border:"none","background-color":"transparent","box-shadow":"none"}),$("#editor1").emoji({button:"#btn1",showTab:!1,animation:"none",icons:[{name:"QQ表情",path:"images/qq/",maxNum:91,excludeNums:[41,45,54],file:".gif"}]})}),$("#btn2").click(function(){$(".emoji_container").html("").css({border:"none","background-color":"transparent","box-shadow":"none"}),$("#editor2").emoji({button:"#btn2",showTab:!1,animation:"none",icons:[{name:"QQ表情",path:"images/qq/",maxNum:91,excludeNums:[41,45,54],file:".gif"}]})}),$("#btn3").click(function(){$(".emoji_container").html("").css({border:"none","background-color":"transparent","box-shadow":"none"}),$("#editor3").emoji({button:"#btn3",showTab:!1,animation:"none",icons:[{name:"QQ表情",path:"images/qq/",maxNum:91,excludeNums:[41,45,54],file:".gif"}]})}),$("#btn4").click(function(){$(".emoji_container").html("").css({border:"none","background-color":"transparent","box-shadow":"none"}),$("#editor4").emoji({button:"#btn4",showTab:!1,animation:"none",icons:[{name:"QQ表情",path:"images/qq/",maxNum:91,excludeNums:[41,45,54],file:".gif"}]})}),$("#btn5").click(function(){$(".emoji_container").html("").css({border:"none","background-color":"transparent","box-shadow":"none"}),$("#editor5").emoji({button:"#btn5",showTab:!1,animation:"none",icons:[{name:"QQ表情",path:"images/qq/",maxNum:91,excludeNums:[41,45,54],file:".gif"}]})}),t.tableSwitch=function(n){1==n?(e.page5getMoreData=1,$(".page3-table1-click-table2-Table3-checked").addClass("on"),$(".page3-table1-click-table2-Table3-Nochecked").removeClass("on"),t.outSideBox1=!1,t.outSideBox3=!1,t.outSideBox2=!1,t.outSideBox4=!1,t.page2Table3Group=!1,t.inSideBox1=!1,t.insideBox=!1,t.outSideBox=!0,t.uptel=!1,t.outSideBox1=!1,t.outSideBox5=!1,$(".page2-title-button-but1").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"})):2==n?(e.page5getMoreData=2,$(".page3-table1-click-table2-Table3-checked").addClass("on"),$(".page3-table1-click-table2-Table3-Nochecked").removeClass("on"),t.outSideBox3=!1,t.outSideBox2=!1,t.outSideBox4=!1,t.page2Table3Group=!1,t.inSideBox1=!0,t.insideBox=!1,t.outSideBox=!1,t.uptel=!1,t.outSideBox1=!0,t.outSideBox5=!1,$(".page2-title-button-but2").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),t.getInsideBox=function(n,i,o){t.MemberId=n,t.newDevices=o,t.MemberNumber=i,a.get(e.link+"/operate/getContact?wechatId="+n+"&pageNo=1&pageSize=15").success(function(e){200==e.code?(t.outSideBox=!1,t.inSideBox=!0,t.WxList=e.data.content,t.assPage=1,t.page1InitDataLength=e.data.currentPageElements,$(".page2-table1-page").pagination({totalData:t.page1InitDataLength,showData:15,coping:!0,count:2,callback:function(e){e.getCurrent()}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})}):3==n?(e.page5getMoreData=3,$(".page3-table1-click-table2-Table3-checked").addClass("on"),$(".page3-table1-click-table2-Table3-Nochecked").removeClass("on"),$(".page2-title-button-but3").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),t.outSideBox1=!1,t.inSideBox1=!1,t.insideBox=!1,t.outSideBox=!1,t.uptel=!1,t.outSideBox5=!1,t.outSideBox1=!1,t.outSideBox3=!0,t.outSideBox2=!0,t.outSideBox4=!1):(e.page5getMoreData=10,$(".page3-table1-click-table2-Table3-checked").addClass("on"),$(".page3-table1-click-table2-Table3-Nochecked").removeClass("on"),$(".page2-title-button-but4").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),t.uptel=!1,t.outSideBox1=!1,t.outSideBox3=!1,t.outSideBox2=!1,t.outSideBox4=!1,t.outSideBox5=!0,t.outSideBox=!1)},t.page3UpTelephone=function(){t.outSideBox=!1,t.uptel=!0},t.resetBackAddTel=function(){t.outSideBox=!0,t.uptel=!1},t.addPeopleCount=15,t.maxTime=10,t.minTime=1;var r=1;$(".upText").hide(),$(".clickSelect").change(function(){1==(r=$(this).val())?($(".page3-Addpeople-Say").show(),$(".page2-emjoy1").html(""),$(".clickAddTextno").hide(),$(".upText").hide(),t.upFile="",$(".upfiler").val(""),$(".exselTextGray").html("0kb"),$(".exselTextGra").html("无文件")):($(".page3-Addpeople-Say").hide(),$(".clickAddTextno").show(),$(".page2-emjoy1").html(""))}),t.deleteContent=function(){t.upFile="",$(".upfiler").val(""),$(".exselTextGray").html("0kb"),$(".exselTextGra").html("无文件")};var l=["[微笑]","[撇嘴]","[色]","[发呆]","[得意]","[流泪]","[害羞]","[闭嘴]","[睡]","[大哭]","[尴尬]","[发怒]","[调皮]","[呲牙]","[惊讶]","[难过]","[酷]","[冷汗]","[抓狂]","[吐]","[偷笑]","[愉快]","[白眼]","[傲慢]","[饥饿]","[困]","[惊恐]","[流汗]","[憨笑]","[悠闲]","[奋斗]","[咒骂]","[疑问]","[嘘]","[晕]","[疯了]","[衰]","[骷髅]","[敲打]","[再见]","[]","[抠鼻]","[鼓掌]","[糗大了]","[]","[左哼哼]","[右哼哼]","[哈欠]","[鄙视]","[委屈]","[快哭了]","[阴险]","[亲亲]","[]","[可怜]","[菜刀]","[啤酒]","[咖啡]","[饭]","[猪头]","[玫瑰]","[凋谢]","[嘴唇]","[爱心]","[心碎]","[蛋糕]","[闪电]","[炸弹]","[刀]","[足球]","[瓢虫]","[便便]","[拥抱]","[强]","[弱]","[握手]","[胜利]","[抱拳]","[勾引]","[拳头]","[差劲]","[爱你]","[NO]","[OK]","[跳跳]","[发抖]","[怄火]","[磕头]","[激动]","[献吻]"];t.page3TableSendAll1=function(){for(var n=$(".page2-emjoy1").html(),i=0,o=[];i<$(".page17-wx-input").length;i++)$(".page17-wx-input").eq(i).prop("checked")&&o.push($(".page17-wx-input").eq(i).parent().next().attr("title"));if(0==o.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要操作的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var s=/<img.*?(?:>|\/>)/g,r=/\/([^\/]*?\.gif)/i,p=n.match(s);if(null==p);else{for(var c=[],i=0;i<p.length;i++){var d=p[i].match(r);d[1]&&c.push(d[1].substring(0,d[1].indexOf(".")));for(var g=[],u=0;u<c.length;u++)for(var h=0;h<l.length;h++)c[u]==h&&g.push(l[h-1])}for(var f=n.match(/<img.*?(?:>|\/>)/g),i=0;i<f.length;i++)n=n.replace(f[i],g[i])}var m=n.replace(/<\/div>/g,"").replace(/<br>/g,"").replace(/<div>/g,"<br>"),k=new FormData;k.append("devices",JSON.stringify(o)),k.append("maxInterval",t.maxTime),k.append("minInterval",t.minTime),k.append("addNum",t.addPeopleCount),k.append("file",t.upFile),k.append("msg",m),a({method:"POST",url:e.link+"/wechatPlus/addFriendsFromContact",data:k,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;通讯录加人任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;通讯录加人任务添加失败"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.isClear=0,t.clear=function(e){e.target.checked?t.isClear=1:t.isClear=0},t.assRadioChoose=!1,t.page3table1table2addPeople=1,t.page3table1table2addPeopleCount=1,t.getAssHide=function(){t.assRadioChoose=!1,t.page3table1table2addPeople=1},t.getAssShow=function(){t.assRadioChoose=!0,t.page3table1table2addPeople=0},t.page3table1table2SendAll=function(){for(var n=0,i=[];n<$(".page17-wx-input").length;n++)$(".page17-wx-input").eq(n).prop("checked")&&i.push($(".page17-wx-input").eq(n).parent().next().attr("title"));if(i.length<0)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请勾选并选择需要操作的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(void 0==t.assList||""==t.assList||null==t.assList)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并导入有效的通讯录文件"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var o=new FormData;o.append("devices",JSON.stringify(i)),o.append("clear",t.isClear),o.append("strategy",t.page3table1table2addPeople),o.append("count",t.page3table1table2addPeopleCount),o.append("contactList",JSON.stringify(t.assList)),a({method:"POST",url:e.link+"/wechatPlus/addContacts",data:o,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){console.log(t.code),200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;通讯录加人任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;通讯录加人任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.upFile1="",t.sayHello="您好！很高兴认识您！",t.page3table21tabl2eaddPeople=0,t.page3table21tabl2eaddPeopleCount=1,t.page3table21tabl2maxTime=10,t.page3table21tabl2minTime=1,t.assRadioChoose1=!0,t.page2Table1AllNum=function(){t.page3table21tabl2eaddPeople=1,t.assRadioChoose1=!1},t.page2Table1SomeNum=function(){t.page3table21tabl2eaddPeople=0,t.assRadioChoose1=!0};var p=1;$(".upText1").hide(),$(".clickSelect1").change(function(){1==(p=$(this).val())?($(".page3-jingzhun-Say").show(),$(".page3-emjoy1").html(""),$(".clickAddText1").hide(),t.upFile1="",$(".upText1").hide(),$(".upfiler1").val(""),$(".exselTextGray1").html("0kb"),$(".exselTextGra1").html("无文件")):($(".page3-jingzhun-Say").hide(),$(".clickAddText1").show(),$(".page3-emjoy1").html(""))}),t.deleteContent1=function(){t.upFile1="",$(".upfiler1").val(""),$(".exselTextGray1").html("0kb"),$(".exselTextGra1").html("无文件")},t.page3table2table2SendAll=function(){for(var n=$(".page3-emjoy1").html(),i=0,o=[];i<$(".page17-wx-input").length;i++)$(".page17-wx-input").eq(i).prop("checked")&&o.push($(".page17-wx-input").eq(i).parent().next().attr("title"));if(0==o.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要操作的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(0==n.length&&"string"==typeof t.upFile)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请输入打招呼用语或导入话术文件"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var s=/<img.*?(?:>|\/>)/g,r=/\/([^\/]*?\.gif)/i,p=n.match(s);if(null==p);else{for(var c=[],i=0;i<p.length;i++){var d=p[i].match(r);d[1]&&c.push(d[1].substring(0,d[1].indexOf(".")));for(var g=[],u=0;u<c.length;u++)for(var h=0;h<l.length;h++)c[u]==h&&g.push(l[h-1])}for(var f=n.match(/<img.*?(?:>|\/>)/g),i=0;i<f.length;i++)n=n.replace(f[i],g[i])}var m=n.replace(/<\/div>/g,"").replace(/<br>/g,"").replace(/<div>/g,"<br>"),k=new FormData;k.append("devices",JSON.stringify(o)),k.append("file",t.upFile1),k.append("msg",m),k.append("strategy",t.page3table21tabl2eaddPeople),k.append("count",t.page3table21tabl2eaddPeopleCount),k.append("contactList",JSON.stringify(t.assList1)),k.append("contactList2",JSON.stringify(t.assList2)),k.append("maxInterval",t.page3table21tabl2maxTime),k.append("minInterval",t.page3table21tabl2minTime),a({method:"POST",url:e.link+"/wechatPlus/addFriendDirect",data:k,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;精准加人任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),$(".page3-emjoy1").html(""),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;数据加载任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.mapRang="2000",t.page3table41tabl1sayHello="您好！很高兴认识您！",t.upFile2="",t.mapLocation="",t.addPeopleNumber=10,t.addSex="全部",t.page3table41tabl1maxTime=10,t.page3table41tabl1minTime=1;var c=1;$(".upText2").hide(),$(".clickSelect2").change(function(){1==(c=$(this).val())?($(".page3-fujin-Say").show(),$(".page3-emjoy2").html(""),$(".clickAddText2").hide(),t.upFile2="",$(".upText2").hide(),$(".upfiler2").val(""),$(".exselTextGray2").html("0kb"),$(".exselTextGra2").html("无文件")):($(".page3-fujin-Say").hide(),$(".clickAddText2").show(),$(".page3-emjoy2").html(""))}),t.deleteContent2=function(){t.upFile2="",$(".upfiler2").val(""),$(".exselTextGray2").html("0kb"),$(".exselTextGra2").html("无文件")},t.page3table4table1SendAll=function(){for(var n=$(".page3-emjoy2").html(),i=0,o=[];i<$(".page17-wx-input").length;i++)$(".page17-wx-input").eq(i).prop("checked")&&o.push($(".page17-wx-input").eq(i).parent().next().attr("title"));var s=0;if("全部"==t.addSex?s=0:"男"==t.addSex?s=1:"女"==t.addSex&&(s=2),0==o.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要操作的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(""==t.mapRang)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择加好友范围"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var r=new FormData;r.append("devices",JSON.stringify(o)),a({method:"POST",url:e.link+"/operate/clearLocation",data:r,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(i){if(200==i.code){a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code&&(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0)});var r=/<img.*?(?:>|\/>)/g,p=/\/([^\/]*?\.gif)/i,c=n.match(r);if(null==c);else{for(var d=[],g=0;g<c.length;g++){var u=c[g].match(p);u[1]&&d.push(u[1].substring(0,u[1].indexOf(".")));for(var h=[],f=0;f<d.length;f++)for(var m=0;m<l.length;m++)d[f]==m&&h.push(l[m-1])}for(var k=n.match(/<img.*?(?:>|\/>)/g),g=0;g<k.length;g++)n=n.replace(k[g],h[g])}var v=n.replace(/<\/div>/g,"").replace(/<br>/g,"").replace(/<div>/g,"<br>"),b=new FormData;b.append("devices",JSON.stringify(o)),b.append("file",t.upFile2),b.append("maxInterval",t.page3table41tabl1maxTime),b.append("minInterval",t.page3table41tabl1minTime),b.append("msg",v),b.append("num",t.addPeopleNumber),b.append("sex",s),a({method:"POST",url:e.link+"/wechatPlus/sayHello",data:b,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;加附近的人任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;加附近的人任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}else $(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;加附近的人任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3)})}},t.page3Table4Show1=function(){t.outSideBox2=!0,t.outSideBox4=!1},t.page3Table4Show2=function(){t.outSideBox2=!1,t.outSideBox4=!0};var d=new BMap.Map("page14-map");d.centerAndZoom("北京",12),d.enableScrollWheelZoom(!0),d.addEventListener("click",function(e){$.ajax({type:"GET",url:"http://api.map.baidu.com/geocoder/v2/?ak=HbUVYMUg6PwbOnXkztdgSQlQ&callback=renderReverse&location="+e.point.lat+","+e.point.lng+"&output=json&pois=1",dataType:"JSONP",success:function(e){t.mapLocation=e.result.formatted_address,t.$apply()}})});var g=new BMap.Autocomplete({input:"suggestId",location:d});g.addEventListener("onhighlight",function(e){var t="",a=e.fromitem.value,n="";e.fromitem.index>-1&&(n=a.province+a.city+a.district+a.street+a.business),t="FromItem<br />index = "+e.fromitem.index+"<br />value = "+n,n="",e.toitem.index>-1&&(n=(a=e.toitem.value).province+a.city+a.district+a.street+a.business),t+="<br />ToItem<br />index = "+e.toitem.index+"<br />value = "+n,o("searchResultPanel").innerHTML=t});var u;g.addEventListener("onconfirm",function(e){var t=e.item.value;u=t.province+t.city+t.district+t.street+t.business,o("searchResultPanel").innerHTML="onconfirm<br />index = "+e.item.index+"<br />myValue = "+u,s()}),t.mapRang1="2000",t.page3table41tabl1sayHello1="您好！很高兴认识您！",t.upFile3="",t.mapLocation="",t.addPeopleNumber1=10,t.addSex1="全部",t.page3table41tabl1maxTime1=10,t.page3table41tabl1minTime1=1;var h=1;$(".upText3").hide(),$(".clickSelect3").change(function(){1==(h=$(this).val())?($(".page3-fujin-Say12").show(),$(".page100-emjoy100").html(""),$(".clickAddText3").hide(),t.upFile3="",$(".upText3").hide(),$(".upfiler3").val(""),$(".exselTextGray3").html("0kb"),$(".exselTextGra3").html("无文件")):($(".page3-fujin-Say12").hide(),$(".clickAddText3").show(),$(".page100-emjoy100").html(""))}),t.deleteContent3=function(){t.upFile3="",$(".upfiler3").val(""),$(".exselTextGray3").html("0kb"),$(".exselTextGra3").html("无文件")},t.page3table4table1SendAll1=function(){for(var n=$(".page100-emjoy100").html(),i=0,o=[];i<$(".page17-wx-input").length;i++)$(".page17-wx-input").eq(i).prop("checked")&&o.push($(".page17-wx-input").eq(i).parent().next().attr("title"));var s=0;if("全部"==t.addSex1?s=0:"男"==t.addSex1?s=1:"女"==t.addSex1&&(s=2),0==o.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要操作的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(""==t.mapRang1)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择加好友范围"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(void 0==t.mapPointLng||""==t.mapPointLng||void 0==t.mapPointLat||""==t.mapPointLat)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请输入您想要穿越的位置"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var r=new FormData;r.append("devices",JSON.stringify(o)),r.append("longitude",t.mapPointLng),r.append("latitude",t.mapPointLat),a({method:"POST",url:e.link+"/operate/changeLocation",data:r,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(i){if(200==i.code){var r=/<img.*?(?:>|\/>)/g,p=/\/([^\/]*?\.gif)/i,c=n.match(r);if(null==c);else{for(var d=[],g=0;g<c.length;g++){var u=c[g].match(p);u[1]&&d.push(u[1].substring(0,u[1].indexOf(".")));for(var h=[],f=0;f<d.length;f++)for(var m=0;m<l.length;m++)d[f]==m&&h.push(l[m-1])}for(var k=n.match(/<img.*?(?:>|\/>)/g),g=0;g<k.length;g++)n=n.replace(k[g],h[g])}var v=n.replace(/<\/div>/g,"").replace(/<br>/g,"").replace(/<div>/g,"<br>"),b=new FormData;b.append("devices",JSON.stringify(o)),b.append("file",t.upFile3),b.append("maxInterval",t.page3table41tabl1maxTime1),b.append("minInterval",t.page3table41tabl1minTime1),b.append("msg",v),b.append("range",parseInt(t.mapRang1)),b.append("num",t.addPeopleNumber1),b.append("sex",s),a({method:"POST",url:e.link+"/wechatPlus/sayHello",data:b,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;加附近的人任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;加附近的人任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}else $(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;加附近的人任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3)})}},t.addPeopleNumber2=5,t.timeInterval=5,t.page3table51tabl1minTime=1,t.page3table51tabl1maxTime=10,t.upFile4="",t.allGroup=0,t.topGroup=0,t.groupNum=5,t.allNum=0,t.panduan=0,$(".upText4").hide();var f=0,m=1;$(".clickSelect4").change(function(){1==(m=$(this).val())?($(".page3-qunzu-Say-3").show(),$(".page3-emjoy5").html(""),$(".clickAddText3-3").hide(),$(".upText4").hide(),$(".upfiler4").val(""),$(".exselTextGray4").html("0kb"),$(".exselTextGra4").html("无文件"),t.upFile4=""):($(".page3-qunzu-Say-3").hide(),$(".clickAddText3-3").show(),$(".page3-emjoy5").html(""))}),t.deleteContent4=function(){t.upFile4="",$(".upfiler4").val(""),$(".exselTextGray4").html("0kb"),$(".exselTextGra4").html("无文件")},$(".come-type").change(function(){1==(f=$(this).val())?($(".writeNum").hide(),t.allGroup=1,t.topGroup=0,t.groupNum=0,t.noTopGroup=0,t.panduan=1,t.allNum=0):0==f?($(".writeNum").hide(),t.allGroup=0,t.topGroup=0,t.groupNum=0,t.panduan=0,t.noTopGroup=0,t.allNum=0):2==f?($(".writeNum").hide(),t.panduan=1,t.allGroup=0,t.topGroup=1,t.groupNum=0,t.noTopGroup=0,t.allNum=0):3==f?(t.allGroup=0,t.panduan=1,t.topGroup=0,t.groupNum=5,t.noTopGroup=0,t.allNum=1,$(".writeNum").show()):4==f&&($(".writeNum").hide(),t.allGroup=0,t.topGroup=2,t.groupNum=0,t.panduan=1,t.allNum=0)}),t.page3table5table1SendAll=function(){for(var n=$(".page3-emjoy5").html(),i=0,o=[];i<$(".page17-wx-input").length;i++)$(".page17-wx-input").eq(i).prop("checked")&&o.push($(".page17-wx-input").eq(i).parent().next().attr("title"));if(0==o.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要操作的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(""!=n&&"string"==typeof t.upFile)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请输入打招呼用语或导入话术文件"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(0==t.panduan)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择入群加好友的方式"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var s=/<img.*?(?:>|\/>)/g,r=/\/([^\/]*?\.gif)/i,p=n.match(s);if(null==p);else{for(var c=[],i=0;i<p.length;i++){var d=p[i].match(r);d[1]&&c.push(d[1].substring(0,d[1].indexOf(".")));for(var g=[],u=0;u<c.length;u++)for(var h=0;h<l.length;h++)c[u]==h&&g.push(l[h-1])}for(var f=n.match(/<img.*?(?:>|\/>)/g),i=0;i<f.length;i++)n=n.replace(f[i],g[i])}var m=n.replace(/<\/div>/g,"").replace(/<br>/g,"").replace(/<div>/g,"<br>"),k=new FormData;k.append("file",t.upFile4),k.append("msg",m),k.append("addNum",t.addPeopleNumber2),k.append("maxInterval",t.page3table51tabl1maxTime),k.append("minInterval",t.page3table51tabl1minTime),k.append("devices",JSON.stringify(o)),k.append("allGroup",t.allGroup),k.append("topGroup",t.topGroup),k.append("groupNum",t.groupNum),k.append("allNum",t.allNum),a({method:"POST",url:e.link+"/wechatPlus/addFriendInClub",data:k,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;入群加好友任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;入群加好友任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}}}]),app.controller("page37C",["$rootScope","$scope","$http","$timeout",function(e,t,a,n){function i(e){e.preventDefault();var t,a=(e.originalEvent||e).clipboardData;if(void 0===a||null===a){if(""!==(t=window.clipboardData.getData("text")||""))if(window.getSelection){var n=document.createElement("span");n.innerHTML=t,window.getSelection().getRangeAt(0).insertNode(n)}else document.selection.createRange().pasteHTML(t)}else""!==(t=a.getData("text/plain")||"")&&document.execCommand("insertText",!1,t)}e.getAllFalse(),e.initOver=!0,e.activeThirtySeven=!0,e.navPartThree=!0,e.isScreenPage=!1,t.outSideBox=!0,t.FriendCil=!1,t.outSideBox1=!1,t.outSideBox3=!1,t.outSideBox2=!1,t.outSideBox4=!1,t.outSideBox5=!1,$(".page4-emjoy1").on("paste",function(e){i(e)}),$(".page100-emjoy100").on("paste",function(e){i(e)}),$(".page4-emjoy3").on("paste",function(e){i(e)}),$(".page4-emjoy24").on("paste",function(e){i(e)}),$(".page4-emjoy31").on("paste",function(e){i(e)}),$(".page4-emjoy10").on("paste",function(e){i(e)}),t.fvcMe=function(e){$(".list_dd").stop(),$(".list_dt").eq(e).parent().siblings("new-wx-group-list-li").removeAttr("id"),"open"==$(".list_dt").eq(e).parent().attr("id")?$(".list_dt").eq(e).parent().removeAttr("id").find("i").css("background",' url("images/offChecked.png")center no-repeat'):$(".list_dt").eq(e).parent().attr("id","open").find("i").css("background",' url("images/openChecked.png")center no-repeat')},a.get(e.link+"/group/getGroupDataByStatus").success(function(e){if(200==e.code){t.hhalk=[];for(var a=0;a<e.data.length;a++)if(0==e.data[a].deviceVos.length);else for(var n=0;n<e.data[a].deviceVos.length;n++)t.hhalk.push(e.data[a].deviceVos[n].device);t.hhalk1=t.hhalk.length}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),e.table2AllChecks=0,e.page4getMoreData="no",t.logout=function(){a.get(e.link+"/logout").success(function(e){200==e.code?window.location.href="http://"+window.location.host+"/wgcs/#/login":($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;注销登录失败"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},$("#btn6").click(function(){$(".emoji_container").html("").css({border:"none","background-color":"transparent","box-shadow":"none"}),$("#editor6").emoji({button:"#btn6",showTab:!1,animation:"none",icons:[{name:"QQ表情",path:"images/qq/",maxNum:91,excludeNums:[41,45,54],file:".gif"}]})}),$("#btn7").click(function(){$(".emoji_container").html("").css({border:"none","background-color":"transparent","box-shadow":"none"}),$("#editor7").emoji({button:"#btn7",showTab:!1,animation:"none",icons:[{name:"QQ表情",path:"images/qq/",maxNum:91,excludeNums:[41,45,54],file:".gif"}]})}),$("#btn8").click(function(){$(".emoji_container").html("").css({border:"none","background-color":"transparent","box-shadow":"none"}),$("#editor8").emoji({button:"#btn8",showTab:!1,animation:"none",icons:[{name:"QQ表情",path:"images/qq/",maxNum:91,excludeNums:[41,45,54],file:".gif"}]})}),$("#btn10").click(function(){$(".emoji_container").html("").css({border:"none","background-color":"transparent","box-shadow":"none"}),$("#editor10").emoji({button:"#btn10",showTab:!1,animation:"none",icons:[{name:"QQ表情",path:"images/qq/",maxNum:91,excludeNums:[41,45,54],file:".gif"}]})}),$("#btn71").click(function(){$(".emoji_container").html("").css({border:"none","background-color":"transparent","box-shadow":"none"}),$("#editor71").emoji({button:"#btn71",showTab:!1,animation:"none",icons:[{name:"QQ表情",path:"images/qq/",maxNum:91,excludeNums:[41,45,54],file:".gif"}]})}),$("#btn81").click(function(){$(".emoji_container").html("").css({border:"none","background-color":"transparent","box-shadow":"none"}),$("#editor81").emoji({button:"#btn81",showTab:!1,animation:"none",icons:[{name:"QQ表情",path:"images/qq/",maxNum:91,excludeNums:[41,45,54],file:".gif"}]})}),$(".page2-title-button-but1").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),t.tableSwitch=function(i){1==i?($(".page3-table1-click-table2-Table3-checked").addClass("on"),$(".page3-table1-click-table2-Table3-Nochecked").removeClass("on"),t.outSideBox3=!1,t.outSideBox2=!1,t.outSideBox4=!1,t.outSideBox=!0,t.outSideBox5=!1,t.outSideBox6=!1,t.outSideBox7=!1,t.outSideBox8=!1,t.outSideBox9=!1,t.outSideBox10=!1,$(".page2-title-button-but1").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"})):2==i?($(".page3-table1-click-table2-Table3-checked").addClass("on"),$(".page3-table1-click-table2-Table3-Nochecked").removeClass("on"),t.outSideBox3=!0,t.outSideBox2=!0,t.outSideBox4=!1,t.outSideBox=!1,t.outSideBox5=!1,t.outSideBox6=!1,t.outSideBox7=!1,t.outSideBox8=!1,t.outSideBox9=!1,t.outSideBox10=!1,$(".page2-title-button-but2").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"})):3==i?(t.outSideBox3=!1,t.outSideBox2=!1,t.outSideBox4=!1,t.outSideBox=!1,t.outSideBox5=!0,t.outSideBox6=!1,t.outSideBox7=!1,t.outSideBox8=!1,t.outSideBox9=!1,t.outSideBox10=!1,$(".page3-table1-click-table2-Table3-checked").addClass("on"),$(".page3-table1-click-table2-Table3-Nochecked").removeClass("on"),$(".page2-title-button-but3").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"})):4==i?(t.WxListbiubiu=[],n(function(){a.get(e.link+"/device/getAllDeviceByStatus?pageNo=1&pageSize=10000").success(function(e){200==e.code?t.allPhon=e.data.content:($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;在线设备数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},0),t.outSideBox3=!1,t.outSideBox2=!1,t.outSideBox4=!1,t.outSideBox=!1,t.outSideBox5=!1,t.outSideBox6=!0,t.outSideBox7=!1,t.outSideBox8=!1,t.outSideBox9=!1,t.outSideBox10=!1,$(".page3-table1-click-table2-Table3-checked").addClass("on"),$(".page3-table1-click-table2-Table3-Nochecked").removeClass("on"),$(".page2-title-button-but4").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"})):5==i?(t.outSideBox3=!1,t.outSideBox2=!1,t.outSideBox4=!1,t.outSideBox=!1,t.outSideBox5=!1,t.outSideBox6=!1,t.outSideBox7=!0,t.outSideBox8=!1,t.outSideBox9=!1,t.outSideBox10=!1,$(".page3-table1-click-table2-Table3-checked").addClass("on"),$(".page3-table1-click-table2-Table3-Nochecked").removeClass("on"),$(".page2-title-button-but5").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"})):6==i?(t.outSideBox3=!1,t.outSideBox2=!1,t.outSideBox4=!1,t.outSideBox=!1,t.outSideBox5=!1,t.outSideBox6=!1,t.outSideBox7=!1,t.outSideBox8=!1,t.outSideBox9=!1,t.outSideBox10=!0,$(".page3-table1-click-table2-Table3-checked").addClass("on"),$(".page3-table1-click-table2-Table3-Nochecked").removeClass("on"),$(".page2-title-button-but6").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"})):7==i?(t.outSideBox3=!1,t.outSideBox2=!1,t.outSideBox4=!1,t.outSideBox=!1,t.outSideBox5=!1,t.outSideBox6=!1,t.outSideBox7=!1,t.outSideBox8=!0,t.outSideBox9=!1,t.outSideBox10=!1,$(".page3-table1-click-table2-Table3-checked").addClass("on"),$(".page3-table1-click-table2-Table3-Nochecked").removeClass("on"),$(".page2-title-button-but7").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"})):($(".page3-table1-click-table2-Table3-checked").addClass("on"),$(".page3-table1-click-table2-Table3-Nochecked").removeClass("on"),$(".page2-title-button-but8").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),t.outSideBox3=!1,t.outSideBox2=!1,t.outSideBox4=!1,t.outSideBox=!1,t.outSideBox5=!1,t.outSideBox6=!1,t.outSideBox7=!1,t.outSideBox8=!1,t.outSideBox9=!0,t.outSideBox10=!1)},$(function(){$.Tupload.init({title:"",fileNum:9,divId:"T_upload",accept:"image/jpeg,image/x-png",onSuccess:function(e,t){},onDelete:function(e){}}),$.Tupload1.init1({title1:"",fileNum1:9,divId1:"T_upload1",accept1:"image/jpeg,image/x-png",onSuccess1:function(e,t){},onDelete1:function(e){}}),$.Tupload2.init2({title2:"",fileNum2:1,divId2:"T_upload2",accept2:"image/jpeg,image/x-png",onSuccess2:function(e,t){},onDelete2:function(e){}}),$.Tupload3.init3({title3:"",fileNum3:1,divId3:"T_upload3",accept3:"image/jpeg,image/x-png",onSuccess3:function(e,t){},onDelete3:function(e){}})});var o=["[微笑]","[撇嘴]","[色]","[发呆]","[得意]","[流泪]","[害羞]","[闭嘴]","[睡]","[大哭]","[尴尬]","[发怒]","[调皮]","[呲牙]","[惊讶]","[难过]","[酷]","[冷汗]","[抓狂]","[吐]","[偷笑]","[愉快]","[白眼]","[傲慢]","[饥饿]","[困]","[惊恐]","[流汗]","[憨笑]","[悠闲]","[奋斗]","[咒骂]","[疑问]","[嘘]","[晕]","[疯了]","[衰]","[骷髅]","[敲打]","[再见]","[]","[抠鼻]","[鼓掌]","[糗大了]","[]","[左哼哼]","[右哼哼]","[哈欠]","[鄙视]","[委屈]","[快哭了]","[阴险]","[亲亲]","[]","[可怜]","[菜刀]","[啤酒]","[咖啡]","[饭]","[猪头]","[玫瑰]","[凋谢]","[嘴唇]","[爱心]","[心碎]","[蛋糕]","[闪电]","[炸弹]","[刀]","[足球]","[瓢虫]","[便便]","[拥抱]","[强]","[弱]","[握手]","[胜利]","[抱拳]","[勾引]","[拳头]","[差劲]","[爱你]","[NO]","[OK]","[跳跳]","[发抖]","[怄火]","[磕头]","[激动]","[献吻]"];t.page4Table1sendObj=new FormData,t.page4Table1picArr=[],t.page4Table1maxTime=10,t.page4Table1minTime=1,t.page4Table1pic="",$(".page4-emjoy1").html(""),$(".page4-emjoy2").html(""),$(".page4-emjoy3").html(""),$(".page4-emjoy31").html(""),$(".page4-emjoy10").html(""),$(".page4-emjoy21").html(""),t.page4table1SendAll=function(){void 0==arrFile4[0]&&(arrFile4[0]="");for(var n=$(".page4-emjoy1").html(),i=0,s=[];i<$(".page17-wx-input").length;i++)$(".page17-wx-input").eq(i).prop("checked")&&s.push($(".page17-wx-input").eq(i).parent().next().attr("title"));if(0==s.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要进行群发消息的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(""==n)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请输入打招呼用语"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var r=/<img.*?(?:>|\/>)/g,l=/\/([^\/]*?\.gif)/i,p=n.match(r);if(null==p);else{for(var c=[],i=0;i<p.length;i++){var d=p[i].match(l);d[1]&&c.push(d[1].substring(0,d[1].indexOf(".")));for(var g=[],u=0;u<c.length;u++)for(var h=0;h<o.length;h++)c[u]==h&&g.push(o[h-1])}for(var f=n.match(/<img.*?(?:>|\/>)/g),i=0;i<f.length;i++)n=n.replace(f[i],g[i])}var m=n.replace(/<\/div>/g,"").replace(/<br>/g,"").replace(/<div>/g,"<br>"),k=new FormData;k.append("msg",m),k.append("devices",JSON.stringify(s)),k.append("pic",arrFile4[0]),k.append("maxInterval",t.page4Table1maxTime),k.append("minInterval",t.page4Table1minTime),a({method:"POST",url:e.link+"/operate/sendMsg",data:k,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){200==n.code?($.Tupload3.init3({title3:"",fileNum3:1,divId3:"T_upload3",accept3:"image/jpeg,image/x-png",onSuccess3:function(e,t){},onDelete3:function(e){}}),arrFile4=[],$(".page4-emjoy1").html(""),$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;群发消息任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(a){200==a.code?(t.page4Table1pic="",$(".page4-up-file-input-noshow").parent().css({background:"url(images/add-pic.png) center no-repeat"}),e.taskList=a.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;群发消息任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.page3Table4Show1=function(){t.outSideBox2=!0,t.outSideBox4=!1},t.page3Table4Show2=function(){t.outSideBox2=!1,t.outSideBox4=!0},t.page4Table2timeInterval=5,t.daluan=0,$(".page4-emjoy2").html(""),$(".page4-emjoy3").html(""),t.page4table2SendAll=function(){for(var n=$(".page4-emjoy2").html(),i=$(".page4-emjoy3").html(),s=new FormData,r=[],l=0;l<arrFile.length;l++)r.push(l+1),s.append("file"+(l+1),arrFile[l]);$(".FontAndEmjoy13").html();for(var l=0,p=[];l<$(".page17-wx-input").length;l++)$(".page17-wx-input").eq(l).prop("checked")&&p.push($(".page17-wx-input").eq(l).parent().next().attr("title"));if(""==n)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请编辑朋友圈内容"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(0==p.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要进行发朋友圈的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var c=/<img.*?(?:>|\/>)/g,d=/\/([^\/]*?\.gif)/i,g=n.match(c),u=i.match(c);if(null==g);else{for(var h=[],l=0;l<g.length;l++){var f=g[l].match(d);f[1]&&h.push(f[1].substring(0,f[1].indexOf(".")));for(var m=[],k=0;k<h.length;k++)for(x=0;x<o.length;x++)h[k]==x&&m.push(o[x-1])}for(var v=n.match(/<img.*?(?:>|\/>)/g),l=0;l<v.length;l++)n=n.replace(v[l],m[l])}if(""==i);else if(null==u);else{for(var h=[],l=0;l<u.length;l++){var b=u[l].match(d);b[1]&&h.push(b[1].substring(0,b[1].indexOf(".")));for(var w=[],k=0;k<h.length;k++)for(var x=0;x<o.length;x++)h[k]==x&&w.push(o[x-1])}for(var T=i.match(/<img.*?(?:>|\/>)/g),l=0;l<T.length;l++)i=i.replace(T[l],m[l])}var S=n.replace(/<\/div>/g,"").replace(/<br>/g,"").replace(/<div>/g,"<br>"),y=i.replace(/<\/div>/g,"").replace(/<br>/g,"").replace(/<div>/g,"<br>");s.append("content",S),s.append("devices",JSON.stringify(p)),s.append("interval",t.page4Table2timeInterval),s.append("msg",y),s.append("number",JSON.stringify(r)),s.append("random",t.daluan),s.append("mustNumber",JSON.stringify(r)),s.append("randomNumber",JSON.stringify([])),a({method:"POST",url:e.link+"/operate/sendMoments",data:s,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){200==n.code?($.Tupload.init({title:"",fileNum:9,divId:"T_upload",accept:"image/jpeg,image/x-png",onSuccess:function(e,t){},onDelete:function(e){}}),arrFile=[],$(".page4-emjoy2").html(""),$(".page4-emjoy3").html(""),t.daluan=0,$(".asjd").parent().removeClass("on"),$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;发朋友圈任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;发朋友圈任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.selected=[];var s=function(e,a){if("add"==e&&-1==t.selected.indexOf(a)&&t.selected.push(a),"remove"==e&&-1!=t.selected.indexOf(a)){var n=t.selected.indexOf(a);t.selected.splice(n,1)}};t.checkOne=function(e,a){var n=e.target.checked?"add":"remove";s(n,a),t.mustChoose1=t.selected.sort()},t.isChecked=function(e){return t.selected.indexOf(e)>=0},t.getPicBox=function(){for(var e=[],a=0;a<t.picArr1.length;a++)""==t.picArr1[a]?e.push("无图片"):e.push(a);t.picArr3=e,setTimeout(function(){for(var e=0;e<$(".page4-mmp").length;e++)"　无图片"==$(".page4-mmp")[e].innerText?(console.log($(".page4-mmp").eq(e)),$(".page4-mmp").eq(e).find("input").attr("disabled",!0)):$(".page4-mmp").eq(e).find("input").attr("disabled",!1)},100),t.picNumberBox=!0},t.picNumberBox=!1,t.cancelPicBox=function(){t.picNumberBox=!1,t.mustChoose1=[],t.unMChoose1=[]},t.operate=[],t.mustChoose1=[],t.unMChoose1=[],t.unMChoose=[],t.getSureButton=function(){t.mustChoose1=t.selected.sort();for(var e=1;e<t.picArr1.length;e++)for(var a=-1;a<t.mustChoose1.length;a++)e==t.mustChoose1[a]||e>0&&e<=t.picArr1.length&&t.unMChoose1.push(e);t.picNumberBox=!1,t.operate=t.selected.sort(),Array.prototype.unique3=function(){for(var e=[],t={},a=0;a<this.length;a++)t[this[a]]||(e.push(this[a]),t[this[a]]=1);return e},t.mustChoose=t.mustChoose1.unique3(),t.unMChoose=t.unMChoose1.unique3();for(var n=0;n<t.mustChoose.length;n++)for(var i=0;i<t.unMChoose.length;i++)t.unMChoose[i]==t.mustChoose[n]&&t.unMChoose.splice(i,1)},$.Tupload1.init1({title1:"",fileNum1:9,divId1:"T_upload1",accept1:"image/jpeg,image/x-png",onSuccess1:function(e,t){},onDelete1:function(e){}}),arrFile1=[],t.picArr=arrFile,t.picArr1=arrFile1,t.isClear=0,t.clear=function(e){e.target.checked?t.isClear=1:t.isClear=0},$(".page4-emjoy24").html(""),$(".page4-emjoy31").html(""),t.page4table2SendAll1=function(){for(var n=$(".page4-emjoy24").html(),i=$(".page4-emjoy31").html(),s=new FormData,r=0;r<arrFile1.length;r++)s.append("file"+(r+1),arrFile1[r]);for(var r=0,l=[];r<$(".page17-wx-input").length;r++)$(".page17-wx-input").eq(r).prop("checked")&&l.push($(".page17-wx-input").eq(r).parent().next().attr("title"));if(""==n)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请编辑朋友圈内容"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(0==l.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要进行发朋友圈的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var p=/<img.*?(?:>|\/>)/g,c=/\/([^\/]*?\.gif)/i,d=n.match(p),g=i.match(p);if(null==d);else{for(var u=[],r=0;r<d.length;r++){var h=d[r].match(c);h[1]&&u.push(h[1].substring(0,h[1].indexOf(".")));for(var f=[],m=0;m<u.length;m++)for(w=0;w<o.length;w++)u[m]==w&&f.push(o[w-1])}for(var k=n.match(/<img.*?(?:>|\/>)/g),r=0;r<k.length;r++)n=n.replace(k[r],f[r])}if(""==i);else if(null==g);else{for(var u=[],r=0;r<g.length;r++){var v=g[r].match(c);v[1]&&u.push(v[1].substring(0,v[1].indexOf(".")));for(var b=[],m=0;m<u.length;m++)for(var w=0;w<o.length;w++)u[m]==w&&b.push(o[w-1])}for(var x=i.match(/<img.*?(?:>|\/>)/g),r=0;r<x.length;r++)i=i.replace(x[r],f[r])}var T=n.replace(/<\/div>/g,"").replace(/<br>/g,"").replace(/<div>/g,"<br>"),S=i.replace(/<\/div>/g,"").replace(/<br>/g,"").replace(/<div>/g,"<br>");s.append("content",T),s.append("devices",JSON.stringify(l)),s.append("interval",t.page4Table2timeInterval),s.append("msg",S),s.append("number",JSON.stringify(t.operate)),s.append("tag",t.aTag),s.append("random",t.daluan),s.append("mustNumber",JSON.stringify(t.mustChoose1)),s.append("randomNumber",JSON.stringify(t.unMChoose)),a({method:"POST",url:e.link+"/operate/sendMoments",data:s,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){200==n.code?($.Tupload1.init1({title1:"",fileNum1:9,divId1:"T_upload1",accept1:"image/jpeg,image/x-png",onSuccess1:function(e,t){},onDelete1:function(e){}}),arrFile1=[],t.mustChoose=[],t.unMChoose=[],$(".page4-emjoy24").html(""),$(".page4-emjoy31").html(""),$(".canuserq1").parent().parent().parent().parent().find(".page4CelueB").attr("disabled","disabled").css("background","#a6a6a6"),$(".canuserq1").prop("checked",function(){return!1}).parent().removeClass("on").pro,$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;发朋友圈任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;发朋友圈任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.WriteNums=1,t.page4Table4minTime=1,t.page4Table4maxTime=10,t.page4Table4SendAll1=function(){for(var n=0,i=[];n<$(".page17-wx-input").length;n++)$(".page17-wx-input").eq(n).prop("checked")&&i.push($(".page17-wx-input").eq(n).parent().next().attr("title"));if(0==i.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要进行朋友圈点赞的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var o=new FormData;o.append("devices",JSON.stringify(i)),o.append("likeCount",t.WriteNums),a({method:"POST",url:e.link+"/operate/likeForMoment",data:o,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){console.log(t.code),200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;朋友圈点赞任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;朋友圈点赞任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.mainName="",t.mainNumber="",t.minTimeQuan=1,t.maxTimeQuan=10;var r="";$(".clickSelectQuan").change(function(){0==(r=$(this).val())?($(".page33-select-input").show(),$(".page33-select-input").html(""),$(".Quanquan").hide(),t.mainNumber=""):($(".page33-select-input").hide(),$(".page33-select-input").html(""),$(".Quanquan").show(),t.mainName="")}),$(".selectQuan").change(function(){e.sendValuePp1=void 0,t.checkPhone=$(this).val(),a.get(e.link+"/operate/getContact?devices="+t.checkPhone+"&pageNo=1&pageSize=2000").success(function(e){200==e.code&&(""==e.data.content&&($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;无法获取到好友列表，请前往好友管理进行好友刷新"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)),t.WxListbiubiu=e.data.content)})}),t.page3TableSendAll1=function(){for(var n=[],i="",o=0,s=[];o<$(".page17-wx-input").length;o++)$(".page17-wx-input").eq(o).prop("checked")&&(s.push($(".page17-wx-input").eq(o).parent().next().attr("title")),o<=4&&n.push($(".page17-wx-input").eq(o).parent().next().attr("title")));if(void 0==e.sendValuePp1)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择朋友圈所属好友"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(""==t.mainName&&""==t.mainNumber)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请提供目标朋友圈所在位置"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(0==s.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要转发朋友圈的五台设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{i=s.length>5?n:s;var r=new FormData;r.append("forwardDevices",JSON.stringify(i)),r.append("msg",t.mainName),r.append("appoint",t.mainNumber),r.append("devices",t.checkPhone),r.append("friendId",e.sendValuePp1),a({method:"POST",url:e.link+"/operate/frowardMoments",data:r,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){200==n.code?(t.sayName="",$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;转发朋友圈任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;转发朋友圈任务添加失败"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.page4table7sayName="",t.page4table7SendAll=function(){for(var n=0,i=[];n<$(".page17-wx-input").length;n++)$(".page17-wx-input").eq(n).prop("checked")&&i.push($(".page17-wx-input").eq(n).parent().next().attr("title"));if(0==i.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要进行关注公众号任务的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(""==t.page4table7sayName)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请按照固定格式正确输入公众号名称"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var o=[];o.push(t.page4table7sayName.split("，"));var s={publicnumberList:o[0],devices:i};a({method:"POST",url:e.link+"/wechatPlus/addpublicnumber",data:s,headers:{"Content-Type":void 0}}).success(function(n){200==n.code?(t.page4table7sayName="",$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;关注公众号任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;关注公众号任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}};var l=1;t.page4table10maxTime=10,t.page4table10minTime=1,t.upFile5="",$(".upText5").hide(),$(".clickSelect10").change(function(){1==(l=$(this).val())?($(".page3-qingli-Say").show(),$(".page4-emjoy10").html(""),$(".clickAddText10").hide(),t.upFile5="",$(".upText5").hide(),$(".upfiler5").val(""),$(".exselTextGray5").html("0kb"),$(".exselTextGra5").html("无文件")):($(".page3-qingli-Say").hide(),$(".clickAddText10").show(),$(".page4-emjoy10").html(""))}),t.deleteContent5=function(){t.upFile5="",$(".upfiler5").val(""),$(".exselTextGray5").html("0kb"),$(".exselTextGra5").html("无文件")},t.page4Table10SendAll1=function(){for(var n=$(".page4-emjoy10").html(),i=0,s=[];i<$(".page17-wx-input").length;i++)$(".page17-wx-input").eq(i).prop("checked")&&s.push($(".page17-wx-input").eq(i).parent().next().attr("title"));if(0==s.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要进行清理僵尸粉任务的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(0==n.length&&"string"==typeof t.upFile)alert("请输入打招呼用语或选择话术文件！"),$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请输入打招呼用语或选择话术文件"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var r=/<img.*?(?:>|\/>)/g,l=/\/([^\/]*?\.gif)/i,p=n.match(r);if(null==p);else{for(var c=[],i=0;i<p.length;i++){var d=p[i].match(l);d[1]&&c.push(d[1].substring(0,d[1].indexOf(".")));for(var g=[],u=0;u<c.length;u++)for(var h=0;h<o.length;h++)c[u]==h&&g.push(o[h-1])}for(var f=n.match(/<img.*?(?:>|\/>)/g),i=0;i<f.length;i++)n=n.replace(f[i],g[i])}var m=n.replace(/<\/div>/g,"").replace(/<br>/g,"").replace(/<div>/g,"<br>"),k=new FormData;k.append("msg",m),k.append("devices",JSON.stringify(s)),k.append("file",t.upFile5),k.append("maxInterval",t.page4table10maxTime),k.append("minInterval",t.page4table10minTime),a({method:"POST",url:e.link+"/operate/clearZombieFan",data:k,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;清理僵尸粉任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;清理僵尸粉任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.page4table11maxTime=10,t.page4table11minTime=1,t.page4Table11SendAll1=function(){for(var n=0,i=[];n<$(".page17-wx-input").length;n++)$(".page17-wx-input").eq(n).prop("checked")&&i.push($(".page17-wx-input").eq(n).parent().next().attr("title"));if(0==i.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要进行操作的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var o=new FormData;o.append("devices",JSON.stringify(i)),o.append("maxInterval",t.page4table11maxTime),o.append("minInterval",t.page4table11minTime),a({method:"POST",url:e.link+"/wechatPlus/receiveRequest",data:o,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;好友管理请求任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;好友管理请求任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.page4Table12SendAll1=function(){t.sendObj=new FormData,t.sendObj.append("file",arrFile3[0]);for(var n=0,i=[];n<$(".page17-wx-input").length;n++)$(".page17-wx-input").eq(n).prop("checked")&&i.push($(".page17-wx-input").eq(n).parent().next().attr("title"));if(0==i)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要进行扫码进群的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(arrFile3==[])$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择进群二维码"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var o={devices:i};t.sendObj.append("json",JSON.stringify(o)),a({method:"POST",url:e.link+"/wechatPlus/addgroupfrompicture",data:t.sendObj,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?($.Tupload2.init2({title2:"",fileNum2:1,divId2:"T_upload2",accept2:"image/jpeg,image/x-png",onSuccess2:function(e,t){},onDelete2:function(e){}}),arrFile3=[],$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;扫码进群任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;扫码进群任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}}}]),app.controller("page38C",["$rootScope","$scope","$http",function(e,t,a){e.getAllFalse(),e.initOver=!0,e.activeThirtyEight=!0,e.navPartThree=!0,e.isScreenPage=!1,t.renwu1=!0,t.renwu2=!1,t.renwu3=!1,t.renwu4=!1,t.renwu5=!1,t.ShowDatas1=!1,t.ShowDatas2=!1,t.ShowDatas3=!1,t.ShowDatasza1=!1,t.ShowDatasza2=!1,t.ShowDatasza3=!1,t.sweepBoxOneTwo1=!1,a.get(e.link+"/group/getGroupDataByStatus").success(function(e){if(200==e.code){t.hhalk=[];for(var a=0;a<e.data.length;a++)if(0==e.data[a].deviceVos.length);else for(var n=0;n<e.data[a].deviceVos.length;n++)t.hhalk.push(e.data[a].deviceVos[n].device);t.hhalk1=t.hhalk.length}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),t.logout=function(){a.get(e.link+"/logout").success(function(e){200==e.code?window.location.href="http://"+window.location.host+"/wgcs/#/login":($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;注销登录失败"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},t.couldSave=function(e,t){return-1==t?"ccsss":3!=t?"ccsss":void 0},t.couldSavev1=function(e,t){return-1==t||(3!=t||void 0)},t.couldSave1=function(e,t){return-1==t||3==t?"ccsss":"微信进群自动加好友"!=e&&"微信添加附近的人"!=e&&"微信通讯录加人"!=e&&"微信精准加人"!=e?"ccsss":void 0},t.couldSave1v2=function(e,t){return-1==t||3==t||("微信进群自动加好友"!=e&&"微信添加附近的人"!=e&&"微信通讯录加人"!=e&&"微信精准加人"!=e||void 0)},t.couldSave1v3=function(e){return-1==e},t.couldSave1v4=function(e){if(-1==e)return"ccsss"},t.TaskAllList=[],t.zhixing=[],t.dengdai=[],t.wancheng=[],t.shibai=[],$(".page2-title-button-but1").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),t.tableSwitch=function(n){1==n?($(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on"),t.renwu1=!0,t.renwu2=!1,t.renwu3=!1,t.renwu4=!1,t.renwu5=!1,$(".page2-title-button-but1").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,0,1,2,3])+"&pageNo=1&pageSize=13").success(function(n){t.TaskAllList=n.data.content,t.page1InitDataLength=n.data.totalElements,$(".page1-table-page").pagination({isHide:!0,totalData:t.page1InitDataLength,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,0,1,2,3])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.TaskAllList=e.data.content,t.page1InitDataLength=e.data.totalElements)})}})})):2==n?($(".page3-div-checkbox2").attr("checked",!1).parent().removeClass("on"),t.renwu1=!1,t.renwu2=!0,t.renwu3=!1,t.renwu4=!1,t.renwu5=!1,$(".page2-title-button-but2").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([1])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?(t.zhixing=n.data.content,0==n.data.content.length?($(".page1-table-page1").css("display","none"),t.zhixing1=0):(t.zhixing1=n.data.totalElements,$(".page1-table-page1").css("display","block")),$(".page1-table-page1").pagination({isHide:!0,totalData:t.zhixing1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([1])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.zhixing=e.data.content,t.zhixing1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):3==n?($(".page3-div-checkbox3").attr("checked",!1).parent().removeClass("on"),t.renwu1=!1,t.renwu2=!1,t.renwu3=!0,t.renwu4=!1,t.renwu5=!1,$(".page2-title-button-but3").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([0])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?(0==n.data.content.length?(t.dengdai1=0,$(".page1-table-page2").css("display","none")):(t.dengdai1=n.data.totalElements,$(".page1-table-page2").css("display","block")),t.dengdai=n.data.content,$(".page1-table-page2").pagination({isHide:!0,totalData:t.dengdai1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([0])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.dengdai=e.data.content,t.dengdai1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):4==n?($(".page3-div-checkbox4").attr("checked",!1).parent().removeClass("on"),t.renwu1=!1,t.renwu2=!1,t.renwu3=!1,t.renwu4=!0,t.renwu5=!1,$(".page2-title-button-but4").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([2])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?(0==n.data.length?(t.wancheng1=0,$(".page1-table-page3").css("display","none")):(t.wancheng1=n.data.totalElements,$(".page1-table-page3").css("display","block")),t.wancheng=n.data.content,$(".page1-table-page3").pagination({isHide:!0,totalData:t.wancheng1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([2])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.wancheng=e.data.content,t.wancheng1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):($(".page3-div-checkbox5").attr("checked",!1).parent().removeClass("on"),t.renwu1=!1,t.renwu2=!1,t.renwu3=!1,t.renwu4=!1,t.renwu5=!0,$(".page2-title-button-but5").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,3])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?(0==n.data.content.length?(t.shibai1=0,$(".page1-table-page4").css("display","none")):(t.shibai1=n.data.totalElements,$(".page1-table-page4").css("display","block")),t.shibai=n.data.content,$(".page1-table-page4").pagination({isHide:!0,totalData:t.shibai1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,3])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.shibai=e.data.content,t.shibai1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}))},t.removeTask=function(n,i){a.get(e.link+"/task/delTask?id="+n).success(function(n){200==n.code?($(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on"),1==i?a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,0,1,2,3])+"&pageNo=1&pageSize=13").success(function(n){t.TaskAllList=n.data.content,t.page1InitDataLength=n.data.totalElements,$(".page1-table-page").pagination({isHide:!0,totalData:t.page1InitDataLength,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,0,1,2,3])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.TaskAllList=e.data.content,t.page1InitDataLength=e.data.totalElements)})}})}):2==i?a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([1])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?(t.zhixing=n.data.content,0==n.data.content.length?($(".page1-table-page1").css("display","none"),t.zhixing1=0):(t.zhixing1=n.data.totalElements,$(".page1-table-page1").css("display","block")),$(".page1-table-page1").pagination({isHide:!0,totalData:t.zhixing1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([1])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.zhixing=e.data.content,t.zhixing1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):3==i?a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([0])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?(0==n.data.content.length?(t.dengdai1=0,$(".page1-table-page2").css("display","none")):(t.dengdai1=n.data.totalElements,$(".page1-table-page2").css("display","block")),t.dengdai=n.data.content,$(".page1-table-page2").pagination({isHide:!0,totalData:t.dengdai1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([0])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.dengdai=e.data.content,t.dengdai1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):4==i?a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([2])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?(0==n.data.length?(t.wancheng1=0,$(".page1-table-page3").css("display","none")):(t.wancheng1=n.data.totalElements,$(".page1-table-page3").css("display","block")),t.wancheng=n.data.content,$(".page1-table-page3").pagination({isHide:!0,totalData:t.wancheng1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([2])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.wancheng=e.data.content,t.wancheng1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,3])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?(0==n.data.length?(t.shibai1=0,$(".page1-table-page4").css("display","none")):(t.shibai1=n.data.totalElements,$(".page1-table-page4").css("display","block")),t.shibai=n.data.content,$(".page1-table-page4").pagination({isHide:!0,totalData:t.shibai1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,3])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.shibai=e.data.content,t.shibai1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;删除任务成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3)):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;删除任务失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})},t.sweepBoxOneTwo3=function(){t.sweepBoxOneTwo1=!1},t.sweepBoxOneTwo2=function(){for(var n=[],i=0,o=[];i<$(".page1-onChecked1").length;i++)$(".page1-onChecked1").eq(i).prop("checked")&&o.push($(".page1-onChecked1").eq(i).attr("title"));for(var i=0,s=[];i<$(".page1-onChecked2").length;i++)$(".page1-onChecked2").eq(i).prop("checked")&&s.push($(".page1-onChecked2").eq(i).attr("title"));for(var i=0,r=[];i<$(".page1-onChecked3").length;i++)$(".page1-onChecked3").eq(i).prop("checked")&&r.push($(".page1-onChecked3").eq(i).attr("title"));if(1==t.qurenRemove?n=o:2==t.qurenRemove?n=s:3==t.qurenRemove&&(n=r),0==n.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要删除的任务"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var l=new FormData;l.append("idList",JSON.stringify(n)),a({method:"POST",url:e.link+"/task/delTasks",data:l,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){200==n.code?(t.sweepBoxOneTwo1=!1,$(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on"),1==t.qurenRemove?a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,0,1,2,3])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?($(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on"),t.TaskAllList=n.data.content,t.page1InitDataLength=n.data.totalElements,$(".page1-table-page").pagination({isHide:!0,totalData:t.page1InitDataLength,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,0,1,2,3])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.TaskAllList=e.data.content,t.page1InitDataLength=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):2==t.qurenRemove?a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([1])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?($(".page3-div-checkbox2").attr("checked",!1).parent().removeClass("on"),t.zhixing=n.data.content,0==n.data.content.length?($(".page1-table-page1").css("display","none"),t.zhixing1=0):(t.zhixing1=n.data.totalElements,$(".page1-table-page1").css("display","block")),$(".page1-table-page1").pagination({isHide:!0,totalData:t.zhixing1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([1])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.zhixing=e.data.content,t.zhixing1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):3==t.qurenRemove&&a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([0])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?($(".page3-div-checkbox3").attr("checked",!1).parent().removeClass("on"),0==n.data.content.length?(t.dengdai1=0,$(".page1-table-page2").css("display","none")):(t.dengdai1=n.data.totalElements,$(".page1-table-page2").css("display","block")),t.dengdai=n.data.content,$(".page1-table-page2").pagination({isHide:!0,totalData:t.dengdai1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([0])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.dengdai=e.data.content,t.dengdai1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;批量删除任务成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3)):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;批量删除任务失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.removeAllTask1=function(n){var i=[];if(4==n){for(var o=0,s=[];o<$(".page1-onChecked4").length;o++)$(".page1-onChecked4").eq(o).prop("checked")&&s.push($(".page1-onChecked4").eq(o).attr("title"));i=s}else{for(var o=0,r=[];o<$(".page1-onChecked5").length;o++)$(".page1-onChecked5").eq(o).prop("checked")&&r.push($(".page1-onChecked5").eq(o).attr("title"));i=r}if(0==i.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要删除的任务"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{1==n?i=s:2==n&&(i=r);var l=new FormData;l.append("idList",JSON.stringify(i)),a({method:"POST",url:e.link+"/task/delTasks",data:l,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(i){200==i.code?(t.sweepBoxOneTwo1=!1,$(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on"),4==n?a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([2])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?($(".page3-div-checkbox4").attr("checked",!1).parent().removeClass("on"),0==n.data.length?(t.wancheng1=0,$(".page1-table-page3").css("display","none")):(t.wancheng1=n.data.totalElements,$(".page1-table-page3").css("display","block")),t.wancheng=n.data.content,$(".page1-table-page3").pagination({isHide:!0,totalData:t.wancheng1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([2])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.wancheng=e.data.content,t.wancheng1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):5==n&&a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,3])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?($(".page3-div-checkbox5").attr("checked",!1).parent().removeClass("on"),0==n.data.length?(t.shibai1=0,$(".page1-table-page4").css("display","none")):(t.shibai1=n.data.totalElements,$(".page1-table-page4").css("display","block")),t.shibai=n.data.content,$(".page1-table-page4").pagination({isHide:!0,totalData:t.shibai1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,3])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.shibai=e.data.content,t.shibai1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;批量删除任务成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3)):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;批量删除任务失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.removeAllTask=function(n){t.qurenRemove=n;for(var i=0,o=[];i<$(".page1-onChecked").length;i++)$(".page1-onChecked").eq(i).prop("checked")&&o.push($(".page1-onChecked").eq(i).attr("title"));0==o.length?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要删除的任务"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):a.get(e.link+"/task/checkTaskStatus?idList="+JSON.stringify(o)).success(function(n){if(200==n.code)if(0==n.data)t.sweepBoxOneTwo1=!0;else{for(var i=0,o=[];i<$(".page1-onChecked1").length;i++)$(".page1-onChecked1").eq(i).prop("checked")&&o.push($(".page1-onChecked1").eq(i).attr("title"));for(var i=0,s=[];i<$(".page1-onChecked2").length;i++)$(".page1-onChecked2").eq(i).prop("checked")&&s.push($(".page1-onChecked2").eq(i).attr("title"));for(var i=0,r=[];i<$(".page1-onChecked3").length;i++)$(".page1-onChecked3").eq(i).prop("checked")&&r.push($(".page1-onChecked3").eq(i).attr("title"));1==t.qurenRemove?o:2==t.qurenRemove?s:3==t.qurenRemove&&r,$(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on");var l=new FormData;1==t.qurenRemove?l.append("idList",JSON.stringify(o)):2==t.qurenRemove?l.append("idList",JSON.stringify(s)):3==t.qurenRemove&&l.append("idList",JSON.stringify(r)),a({method:"POST",url:e.link+"/task/delTasks",data:l,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){200==n.code?(t.sweepBoxOneTwo1=!1,1==t.qurenRemove?a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,0,1,2,3])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?($(".page3-div-checkbox1").attr("checked",!1).parent().removeClass("on"),t.TaskAllList=n.data.content,t.page1InitDataLength=n.data.totalElements,$(".page1-table-page").pagination({isHide:!0,totalData:t.page1InitDataLength,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,0,1,2,3])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.TaskAllList=e.data.content,t.page1InitDataLength=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):2==t.qurenRemove?a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([1])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?($(".page3-div-checkbox2").attr("checked",!1).parent().removeClass("on"),t.zhixing=n.data.content,0==n.data.content.length?($(".page1-table-page1").css("display","none"),t.zhixing1=0):(t.zhixing1=n.data.totalElements,$(".page1-table-page1").css("display","block")),$(".page1-table-page1").pagination({isHide:!0,totalData:t.zhixing1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([1])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.zhixing=e.data.content,t.zhixing1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):3==t.qurenRemove&&a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([0])+"&pageNo=1&pageSize=13").success(function(n){200==n.code?($(".page3-div-checkbox3").attr("checked",!1).parent().removeClass("on"),0==n.data.content.length?(t.dengdai1=0,$(".page1-table-page2").css("display","none")):(t.dengdai1=n.data.totalElements,$(".page1-table-page2").css("display","block")),t.dengdai=n.data.content,$(".page1-table-page2").pagination({isHide:!0,totalData:t.dengdai1,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([0])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.dengdai=e.data.content,t.dengdai1=e.data.totalElements)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),$(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;批量删除任务成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3)):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;批量删除任务失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)})},t.tongjiSsow=function(n,i){"微信精准加人"==n?(t.ShowDatasza2=!0,t.ShowDatasza1=!1,a.get(e.link+"/task/getTaskStatistics?taskId="+i).success(function(e){200==e.code&&(t.moreError=e.data.successMsg,t.moreErrorShow=e.data.status)})):(t.ShowDatasza1=!0,t.ShowDatasza2=!1,a.get(e.link+"/task/getTaskStatistics?taskId="+i).success(function(e){200==e.code&&(t.page5mmp=e.data.scriptChName,t.moreError=e.data.successMsg,t.moreErrorShow=e.data.status)}))},t.page5Close=function(){t.ShowDatasza1=!1},t.page5Close2=function(){t.ShowDatasza2=!1},t.page5Close3=function(e){t.ShowDatasza3=!1},t.seeDatas=function(n){a.get(e.link+"/task/getErrorTask?taskId="+n).success(function(e){200==e.code?(t.ShowDatasza3=!0,t.TaskAllList3=e.data):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})},t.pagelength=0,a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,0,1,2,3])+"&pageNo=1&pageSize=13").success(function(n){t.TaskAllList=n.data.content,t.page1InitDataLength=n.data.totalElements,a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([1])+"&pageNo=1&pageSize=13").success(function(e){200==e.code?(t.zhixing1=e.data.totalElements,t.zhixing=e.data.content):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([0])+"&pageNo=1&pageSize=13").success(function(e){200==e.code?(t.dengdai1=e.data.totalElements,t.dengdai=e.data.content):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([2])+"&pageNo=1&pageSize=13").success(function(e){200==e.code?(t.wancheng1=e.data.totalElements,t.wancheng=e.data.content):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,3])+"&pageNo=1&pageSize=13").success(function(e){200==e.code?(t.shibai1=e.data.totalElements,t.shibai=e.data.content):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),$(".page1-table-page").pagination({isHide:!0,totalData:t.page1InitDataLength,showData:15,coping:!0,count:1,callback:function(n){var i={page:n.getCurrent()};a.get(e.link+"/task/getGroupTaskInit?status="+JSON.stringify([-1,0,1,2,3])+"&pageNo="+i.page+"&pageSize=13").success(function(e){200==e.code&&(t.TaskAllList=e.data.content,t.page1InitDataLength=e.data.totalElements)})}})}),t.isShow=function(e){if(3==e)return!0},t.taskOut=!1,t.checkWrong=function(n){a.get(e.link+"/task/getErrorTask?taskId="+n).success(function(e){200==e.code?(t.taskOut=!0,t.taskList=e.data):alert(e.msg)})},t.getTaskBack=function(){t.taskOut=!1}}]),app.controller("page39C",["$rootScope","$scope","$http","$timeout",function(e,t,a,n){e.getAllFalse(),e.initOver=!0,e.activeThirtyNine=!0,e.navPartThree=!0,e.isScreenPage=!1,t.outSideBox1=!0,t.outSideBox3=!1,t.outSideBox2=!1,t.maxTime=10,t.addPeopleCount=1,t.minTime=1,t.upFile="",t.clearll=0,t.okState=[],t.okOver=[],t.noState=[],t.hhalk1=0,t.fvcMe=function(e){$(".list_dd").stop(),$(".list_dt").eq(e).parent().siblings("new-wx-group-list-li").removeAttr("id"),"open"==$(".list_dt").eq(e).parent().attr("id")?$(".list_dt").eq(e).parent().removeAttr("id").find("i").css("background",' url("images/offChecked.png")center no-repeat'):$(".list_dt").eq(e).parent().attr("id","open").find("i").css("background",' url("images/openChecked.png")center no-repeat')},a.get(e.link+"/group/getGroupDataByStatus").success(function(e){if(200==e.code){t.hhalk=[];for(var a=0;a<e.data.length;a++)if(0==e.data[a].deviceVos.length);else for(var n=0;n<e.data[a].deviceVos.length;n++)t.hhalk.push(e.data[a].deviceVos[n].device);t.hhalk1=t.hhalk.length}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),t.logout=function(){a.get(e.link+"/logout").success(function(e){200==e.code?window.location.href="http://"+window.location.host+"/wgcs/#/login":($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;注销登录失败"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})};var i="";$(".page2-emjoy1").html(""),a.get(e.link+"/remote/getTask?pageNo=1&pageSize=1000").success(function(n){if(200==n.code){t.dataAll=n.data.content;for(var o=0;o<t.dataAll.length;o++)0==t.dataAll[o].state&&($(".page4-back-button").show(),i=setInterval(function(){a.get(e.link+"/remote/checkRemoteTaskStatus?state=0").success(function(e){0==e.data.length&&($(".page1-alert-success1").show(300).find(".page1-alert-success-con").html("&nbsp;&nbsp;远程任务执行成功"),setTimeout(function(){$(".page1-alert-success").hide(300)},2e3),setTimeout(function(){window.location.reload()},2e3))})},1e3)),1==t.dataAll[o].status?t.okState.push(t.dataAll[o]):0==t.dataAll[o].status?t.noState.push(t.dataAll[o]):10==t.dataAll[o].status&&t.okOver.push(t.dataAll[o])}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),$(function(){setTimeout(function(){for(var t=$(".clickMe"),a=0;a<t.length;a++)0==t[a].attributes[1].value&&(e.page29Id=t[a].attributes[4].value,$(".clickMe").eq(a).parent().addClass("on"),$(".page29-open").html("任务正在执行").css("background-color","#DCDCDC").prop("disabled","disabled"),$(".clickMe").eq(a).parents().parents().parents().parents().siblings().find(".page2-table3-group").css("background-color","#7A7A7A").find("input").prop("disabled","disabled"))},500)}),$("#btn1").click(function(){$(".emoji_container").html("").css({border:"none","background-color":"transparent","box-shadow":"none"}),$("#editor1").emoji({button:"#btn1",showTab:!1,animation:"none",icons:[{name:"QQ表情",path:"images/qq/",maxNum:91,excludeNums:[41,45,54],file:".gif"}]})}),t.tableSwitch=function(e){1==e?($(".page2-title-button-but1").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),t.outSideBox1=!0,t.outSideBox3=!1,t.outSideBox2=!1):2==e?($(".page2-title-button-but2").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),t.outSideBox1=!1,t.outSideBox3=!1,t.outSideBox2=!0):($(".page2-title-button-but3").css({"background-color":"#2ABF9E",color:"#fff"}).siblings().css({"background-color":"#fff",color:"#2ABF9E"}),t.outSideBox1=!1,t.outSideBox3=!0,t.outSideBox2=!1)},$(".upText").hide();var o=1;$(".clickSelect").change(function(){1==(o=$(this).val())?($(".page3-Addpeople-Say").show(),$(".page2-emjoy1").html(""),$(".clickAddText").hide(),t.upFile="",$(".upText").hide(),$(".upfiler").val(""),$(".exselTextGray").html("0kb"),$(".exselTextGra").html("无文件")):($(".page3-Addpeople-Say").hide(),$(".clickAddText").show(),$(".page2-emjoy1").html(""))}),t.deleteContent=function(){t.upFile="",$(".upfiler").val(""),$(".exselTextGray").html("0kb"),$(".exselTextGra").html("无文件")},t.MeType=1;var s=["[微笑]","[撇嘴]","[色]","[发呆]","[得意]","[流泪]","[害羞]","[闭嘴]","[睡]","[大哭]","[尴尬]","[发怒]","[调皮]","[呲牙]","[惊讶]","[难过]","[酷]","[冷汗]","[抓狂]","[吐]","[偷笑]","[愉快]","[白眼]","[傲慢]","[饥饿]","[困]","[惊恐]","[流汗]","[憨笑]","[悠闲]","[奋斗]","[咒骂]","[疑问]","[嘘]","[晕]","[疯了]","[衰]","[骷髅]","[敲打]","[再见]","[]","[抠鼻]","[鼓掌]","[糗大了]","[]","[左哼哼]","[右哼哼]","[哈欠]","[鄙视]","[委屈]","[快哭了]","[阴险]","[亲亲]","[]","[可怜]","[菜刀]","[啤酒]","[咖啡]","[饭]","[猪头]","[玫瑰]","[凋谢]","[嘴唇]","[爱心]","[心碎]","[蛋糕]","[闪电]","[炸弹]","[刀]","[足球]","[瓢虫]","[便便]","[拥抱]","[强]","[弱]","[握手]","[胜利]","[抱拳]","[勾引]","[拳头]","[差劲]","[爱你]","[NO]","[OK]","[跳跳]","[发抖]","[怄火]","[磕头]","[激动]","[献吻]"];t.sendAll1=function(){for(var n=$(".page2-emjoy1").html(),i=0,o=[];i<$(".page17-wx-input").length;i++)$(".page17-wx-input").eq(i).prop("checked")&&o.push($(".page17-wx-input").eq(i).parent().next().attr("title"));if(0==o.length)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要进行远程任务的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(""==e.page29Id||void 0==e.page29Id)$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择开启的服务"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else if(15*o.length<t.addPeopleCount)alert(),$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;由于微信规则限制最大加人数量为"+15*o.length+"人"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3);else{var r=/<img.*?(?:>|\/>)/g,l=/\/([^\/]*?\.gif)/i,p=n.match(r);if(null==p);else{for(var c=[],i=0;i<p.length;i++){var d=p[i].match(l);d[1]&&c.push(d[1].substring(0,d[1].indexOf(".")));for(var g=[],u=0;u<c.length;u++)for(var h=0;h<s.length;h++)c[u]==h&&g.push(s[h-1])}for(var f=n.match(/<img.*?(?:>|\/>)/g),i=0;i<f.length;i++)n=n.replace(f[i],g[i])}var m=n.replace(/<\/div>/g,"").replace(/<br>/g,"").replace(/<div>/g,"<br>");t.sendObj=new FormData,t.sendObj.append("file",t.upFile),t.sendObj.append("tid",e.page29Id),t.sendObj.append("devices",JSON.stringify(o)),t.sendObj.append("maxInterval",t.maxTime),t.sendObj.append("minInterval",t.minTime),t.sendObj.append("msg",m),t.sendObj.append("clear",1),t.sendObj.append("strategy",t.MeType),t.sendObj.append("count",t.addPeopleCount),t.sendObj.append("number",e.page29Number),a({method:"POST",url:e.link+"/remote/openServer",data:t.sendObj,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(e){200==e.code?($(".page1-alert-waring").show(300).find(".page1-alert-waring-con").html("&nbsp;&nbsp;远程任务添加成功"),setTimeout(function(){$(".page1-alert-waring").hide(300)},2e3),window.location.reload()):($(".page1-alert-danger").show(300).find(".page1-alert-danger-con").html("&nbsp;&nbsp;远程任务添加失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-danger").hide(300)},2e3))})}},t.closeServer=function(){""==e.page29Id||void 0==e.page29Id?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要关闭的服务"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):(t.sendObj1=new FormData,t.sendObj1.append("tid",e.page29Id),a({method:"POST",url:e.link+"/remote/stopServer",data:t.sendObj1,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(e){200==e.code?($(".clickMe").parents().parents().parents().find(".page11-div-checkbox").removeClass("on"),$(".clickMe").parents().parents().parents().find(".page11-div-checkbox").css("background-color","white").find("input").prop("disabled",function(){return!1}),$(".page4-back-button").hide(),$(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;远程任务关闭成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3),window.location.reload()):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}))}}]),app.controller("page3C",["$rootScope","$scope","$http",function(e,t,a){e.getAllFalse(),e.activeThree=!0,e.navPartOne=!0,e.isScreenPage=!1,t.changeModel=!1,t.getLoad=function(e){return 1==e?"已安装":"未安装"},t.Status=function(e){return 0==e?"离线":"在线"},t.getDisabled=function(e){return 0==e},t.checked=[],t.selectAll=function(){t.checkAll?(t.checked=[],angular.forEach(t.DataList,function(e){1==e.status&&(e.checked=!0,t.checked.push(e.device))})):angular.forEach(t.DataList,function(e){1==e.status&&(e.checked=!1,t.checked=[])})},t.selectOne=function(){t.isAll=[],angular.forEach(t.DataList,function(e){var a=t.checked.indexOf(e.device);e.checked&&-1===a?t.checked.push(e.device):e.checked||-1==a||t.checked.splice(a,1),1==e.status&&t.isAll.push(e.device)}),t.isAll.length===t.checked.length?t.checkAll=!0:t.checkAll=!1},a.get(e.link+"/device/getAllDeviceByStatus?pageNo=1&pageSize=15").success(function(n){200==n.code?(t.DataList=n.data.content,$("#pages3").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){a.get(e.link+"/device/getAllDeviceByStatus?pageNo="+n+"&pageSize=15").success(function(e){t.DataList=e.data.content})}})):alert(n.msg)}),t.openAll=function(n){if(0==t.checked.length)alert("请勾选需要操作的设备!");else{var i=new FormData;i.append("devices",JSON.stringify(t.checked)),i.append("taskId",n),a({method:"POST",url:e.link+"/device/open",data:i,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("添加任务栏成功！"),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}},t.closeAll=function(n){if(0==t.checked.length)alert("请勾选需要操作的设备!");else{var i=new FormData;i.append("devices",JSON.stringify(t.checked)),i.append("taskId",n),a({method:"POST",url:e.link+"/device/close",data:i,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("添加任务栏成功！"),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}},t.backHome=function(){0==t.checked.length?alert("请勾选需要操作的设备！"):a.get(e.link+"/device/backHome?devices="+JSON.stringify(t.checked)).success(function(t){200==t.code?(alert("添加任务成功！"),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})},t.changePhone=function(){a.get(e.link+"/operate/getPhoneBrand").success(function(e){200==e.code?t.phoneBrand=e.data:alert(e.msg)}),t.changeModel=!0},t.notChange=function(){t.changeModel=!1},t.changeOne=function(n,i){t.firstBrand=$("#nonon").val();var o=new FormData;o.append("brand",t.firstBrand),a({method:"POST",url:e.link+"/operate/getAllPhoneModelByBrand",data:o,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(e){200==e.code?t.SecondBrand=e.data:alert(e.msg)})},t.changeTwo=function(){t.sreeBrand=$("#non option:selected").val()},t.upChange=function(){if(0!=t.checked.length)if(void 0!=t.firstBrand)if(void 0!=t.sreeBrand){var n=new FormData;n.append("devices",JSON.stringify(t.checked)),n.append("modelId",t.sreeBrand),a({method:"POST",url:e.link+"/operate/modifyPhoneName",data:n,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){200==n.code?(t.changeModel=!1,alert("添加任务栏成功！"),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(n.msg)})}else alert("请选择手机型号");else alert("请选择手机品牌");else alert("请勾选需要操作的设备!")}}]),app.controller("page4C",["$rootScope","$scope","$http","$timeout",function(e,t,a,n){e.getAllFalse(),e.activeFour=!0,e.navPartThree=!0,e.isScreenPage=!1,t.outSideBox=!0,t.insideBox=!1,t.assBack=!1,t.resetSelect=!0,t.getInside=function(n){t.outSideBox=!1,t.insideBox=!0,t.assMoveTo=!1,t.assBack=!0,t.resetSelect=!1,t.assDevice=n,a.get(e.link+"/wechat/getWechatByDevice?device="+n).success(function(e){t.assList=e.data})},t.getAssBack=function(){t.outSideBox=!0,t.insideBox=!1,t.resetSelect=!0,t.assBack=!1,t.assMoveTo=!0;for(var n=[],i=0;i<$(".new-wx-equip-input4").length;i++)$(".new-wx-equip-input4").eq(i).prop("checked")&&n.push($(".new-wx-equip-input4").eq(i).parent().next().attr("title"));a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(n)+"&pageNo=1&pageSize=17").success(function(i){200==i.code?(t.checkAllFour=!1,$(".page4-floor-one-list").find("span").eq(0).removeClass("on"),$("#pages4").Page({totalPages:i.data.totalPages,liNums:5,activeClass:"activP",callBack:function(t){a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(n)+"&pageNo="+t+"&pageSize=17").success(function(e){})}})):alert(i.msg)})},n(function(){a.get(e.link+"/device/getAllDeviceByStatus?pageNo=1&pageSize=15").success(function(t){200==t.code?$("#pages4").Page({totalPages:t.data.totalPages,liNums:5,activeClass:"activP",callBack:function(t){a.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(e.moArray)+"&pageNo="+t+"&pageSize=17").success(function(t){e.equipList4=t.data.content})}}):alert(t.msg)})},0),t.isRankOne=function(e){return 1==e?"on":""},t.rankDisabled=function(e){return 1==e},t.moveUp=function(n){a.get(e.link+"/wechat/up?rank="+n+"&device="+t.assDevice).success(function(n){200==n.code?(alert("移动成功!"),a.get(e.link+"/wechat/getWechatByDevice?device="+t.assDevice).success(function(e){t.assList=e.data})):alert(n.msg)})},t.isRankLast=function(e){return 20==e?"on":""},t.rankDisabledLast=function(e){return 20==e},t.moveDown=function(n){a.get(e.link+"/wechat/down?rank="+n+"&device="+t.assDevice).success(function(n){200==n.code?(alert("移动成功!"),a.get(e.link+"/wechat/getWechatByDevice?device="+t.assDevice).success(function(e){t.assList=e.data})):alert(n.msg)})},t.assMoveTo=!0,t.checked=[],t.selectAll=function(){t.checkAllFour?(t.checked=[],angular.forEach(e.equipList4,function(e){e.checked=!0,t.checked.push(e.device)})):angular.forEach(e.equipList4,function(e){e.checked=!1,t.checked=[]})},t.selectOne=function(){angular.forEach(e.equipList4,function(e){var a=t.checked.indexOf(e.device);e.checked&&-1===a?t.checked.push(e.device):e.checked||-1==a||t.checked.splice(a,1)}),e.equipList4.length===t.checked.length?t.checkAll=!0:t.checkAll=!1},t.resetNumber="1",t.resetButton=function(){for(var n=0,i=[];n<$(".new-wx-equip-input4").length;n++)$(".new-wx-equip-input4").eq(n).prop("checked")&&i.push($(".new-wx-equip-input4").eq(n).parent().next().attr("title"));0==i.length?alert("请勾选需要切换的设备！"):a.get(e.link+"/group/switchWechat?devices="+JSON.stringify(i)+"&rank="+parseInt(t.resetNumber)).success(function(t){if(200==t.code){alert("添加任务成功！");for(var n=[],i=0;i<$(".new-wx-equip-input4").length;i++)$(".new-wx-equip-input4").eq(i).prop("checked")&&n.push($(".new-wx-equip-input4").eq(i).parent().next().attr("title"));a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})}else alert(t.msg)})}}]),app.controller("page5C",["$rootScope","$scope","$http","$timeout",function(e,t,a,n){e.getAllFalse(),e.activeFive=!0,e.isScreenPage=!1,t.chooseedEquip=100,t.unChooseedEquip=0;var i=function(t,a){if("add"==t&&-1==e.allEquipIds.indexOf(a)&&e.allEquipIds.push(a),"remove"==t&&-1!=e.allEquipIds.indexOf(a)){var n=e.allEquipIds.indexOf(a);e.allEquipIds.splice(n,1)}};t.checkOne=function(n,o){var s=n.target.checked?"add":"remove";i(s,o),a.get(e.link+"/operate/getWechatsByGroup?groupIds="+JSON.stringify(e.allEquipIds)+"&pageNo=1&pageSize=17").success(function(n){t.MemberList=n.data.content,$("#pages5").Page({totalPages:9,liNums:5,activeClass:"activP",callBack:function(n){a.get(e.link+"/operate/getWechatsByGroup?groupIds="+JSON.stringify(e.allEquipIds)+"&pageNo="+n+"&pageSize=17").success(function(e){200==e.code?t.MemberList=e.data.content:alert(e.msg)})}})})},t.isChecked=function(t){return e.allEquipIds.indexOf(t)>=0},t.isOnline=function(e){return 0==e?"离线":"在线"},n(function(){a.get(e.link+"/operate/getWechatsByGroup?groupIds="+JSON.stringify(e.allEquipIds)+"&pageNo=1&pageSize=17").success(function(n){t.MemberList=n.data.content,$("#pages5").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){a.get(e.link+"/operate/getWechatsByGroup?groupIds="+JSON.stringify(e.allEquipIds)+"&pageNo="+n+"&pageSize=17").success(function(e){200==e.code?t.MemberList=e.data.content:alert(e.msg)})}})})},100),t.numberLogin=function(){for(var t=[],n=0;n<$(".page5-div-checkbox").length;n++)$(".page5-div-checkbox").eq(n).find("input").prop("checked")&&t.push($(".page5-div-checkbox").eq(n).attr("member_id"));0==t.length?alert("请勾选需要操作微信！"):a.get(e.link+"/wechat/login?devices="+JSON.stringify(t)).success(function(t){200==t.code?(alert("添加任务成功!"),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code&&(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0)})):alert(t.msg)})},t.numberLogout=function(){for(var t=[],n=0;n<$(".page5-div-checkbox").length;n++)$(".page5-div-checkbox").eq(n).find("input").prop("checked")&&t.push($(".page5-div-checkbox").eq(n).attr("member_id"));0==t.length?alert("请勾选需要操作微信！"):a.get(e.link+"/wechat/logout?devices="+JSON.stringify(t)).success(function(t){200==t.code?(alert("添加任务成功!"),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})},t.switchBox=!1,t.numberSwitch=function(){t.switchBox=!0},t.switchCancel=function(){t.switchBox=!1},t.switchSure=function(){for(var n=$(".switch-list").find("input"),i=0,o=0;i<n.length;i++)n.eq(i).prop("checked")&&(o=n.eq(i).attr("ass_rank"));0==o?alert("请选择微信序号！"):a.get(e.link+"/group/switchWechat?groupIds="+JSON.stringify(e.allEquipIds)+"&rank="+o).success(function(n){200==n.code?(alert("切换成功！"),a.get(e.link+"/operate/getWechatsByGroup?groupIds="+JSON.stringify(e.allEquipIds)+"&pageNo=1&pageSize=17").success(function(n){t.switchBox=!1,t.MemberList=n.data.content,$("#pages5").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){a.get(e.link+"/operate/getWechatsByGroup?groupIds="+JSON.stringify(e.allEquipIds)+"&pageNo="+n+"&pageSize=17").success(function(e){200==e.code?t.MemberList=e.data.content:alert(e.msg)})}})})):alert(n.msg)})}}]),app.controller("page6C",["$rootScope","$scope","$http","$location","$anchorScroll",function(e,t,a,n,i){function o(e){var t,a,n=$("#FontAndEmjoy6")[0];if($(n).hasClass("flag1"))if(window.getSelection){if((t=window.getSelection()).getRangeAt&&t.rangeCount){(a=t.getRangeAt(0)).deleteContents();var i=document.createElement("div");i.innerHTML=e;for(var o,s,r=document.createDocumentFragment();o=i.firstChild;)s=r.appendChild(o);a.insertNode(r),s&&((a=a.cloneRange()).setStartAfter(s),a.collapse(!0),t.removeAllRanges(),t.addRange(a))}}else document.selection&&"Control"!=document.selection.type&&($(n).focus(),ierange=document.selection.createRange(),ierange.pasteHTML(e),$(n).focus());else $(n).html(n.innerHTML+e)}e.getAllFalse(),e.activeSix=!0,e.navPartThree=!0,e.isScreenPage=!1,t.sendAllButton=!0,t.maxTime=10,t.addPeopleCount=1,t.minTime=1,t.reoples=5,t.isClear=0,t.upFile="",t.clear=function(e){e.target.checked?t.isClear=1:t.isClear=0};var s=1;$(".clickSelect").change(function(){1==(s=$(this).val())?($(".page9-say-hello").show(),$(".emjoyOpen-page6").show(),$(".page9-say-hello").html(""),$(".clickAddText").hide(),t.upFile=""):($(".page9-say-hello").hide(),$(".emjoyOpen-page6").hide(),$(".clickAddText").show(),$(".page9-say-hello").html(""))}),$(".emjoyDiv-page6").mouseover(function(){$(".emjoyList-page6").css("display","block")}),$(".emjoyDiv-page6").mouseout(function(){$(".emjoyList-page6").css("display","none")});var r=0;$(function(){$("#FontAndEmjoy6").focus(function(){$(this).removeClass("flag1")}),$("#FontAndEmjoy6").blur(function(){$(this).addClass("flag1")})}),$(".emjoyList-page6").on("click","img",function(){if(1==r){var e=$(this).attr("alt");o("<img src='"+$(this).attr("src")+"'alt='"+e+"'>")}});var l=[],p=-1;$(window).click(function(e){if(p++,window.getSelection){var t=e.srcElement?e.srcElement:e.target;l.push(t.id),-1!=$.inArray("FontAndEmjoy6",l)&&("FontAndEmjoy6"!=t.id?($("#FontAndEmjoy6").addClass("flag1"),r=0,"gg"==t.className?(r=1,$("#FontAndEmjoy6").removeClass("flag1"),"FontAndEmjoy6"==l[p-1]&&(r=1,$("#FontAndEmjoy6").removeClass("flag1"),l[p-1]==t.id&&(r=1,$("#FontAndEmjoy6").removeClass("flag1")))):(r=0,$("#FontAndEmjoy6").addClass("flag1"))):(r=1,$("#FontAndEmjoy6").removeClass("flag1")))}}),t.sendAll=function(){for(var o=$(".FontAndEmjoy6").html(),s=0,r=[];s<$(".new-wx-equip-input").length;s++)$(".new-wx-equip-input").eq(s).prop("checked")&&r.push($(".new-wx-equip-input").eq(s).parent().next().attr("title"));if(0==r.length)alert("请勾选需要操作的设备！");else{var l=/<img.*?(?:>|\/>)/g,p=/alt=[\'\"]?([^\'\"]*)[\'\"]?/i,c=o.match(l);if(null==c);else{var d=[];console.log(c);for(s=0;s<c.length;s++){var g=c[s].match(p);g[1]&&d.push(g[1])}for(var u=o.match(/<img.*?(?:>|\/>)/g),s=0;s<u.length;s++)o=o.replace(u[s],d[s])}var h=new FormData;h.append("devices",JSON.stringify(r)),h.append("maxInterval",t.maxTime),h.append("minInterval",t.minTime),h.append("addNum",t.addPeopleCount),h.append("file",t.upFile),h.append("msg",o),a({method:"POST",url:e.link+"/wechatPlus/addFriendsFromContact",data:h,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),n.hash("page-top6"),i(),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}},t.assRadioChoose=!1,t.addPeople=1,t.getAssHide=function(){t.assRadioChoose=!1,t.addPeople=1},t.getAssShow=function(){t.assRadioChoose=!0,t.addPeople=0}}]),app.controller("page7C",["$rootScope","$scope","$location","$anchorScroll","$http",function(e,t,a,n,i){function o(e){var t,a,n=$("#FontAndEmjoy7")[0];if($(n).hasClass("flag1"))if(window.getSelection){if((t=window.getSelection()).getRangeAt&&t.rangeCount){(a=t.getRangeAt(0)).deleteContents();var i=document.createElement("div");i.innerHTML=e;for(var o,s,r=document.createDocumentFragment();o=i.firstChild;)s=r.appendChild(o);a.insertNode(r),s&&((a=a.cloneRange()).setStartAfter(s),a.collapse(!0),t.removeAllRanges(),t.addRange(a))}}else document.selection&&"Control"!=document.selection.type&&($(n).focus(),ierange=document.selection.createRange(),ierange.pasteHTML(e),$(n).focus());else $(n).html(n.innerHTML+e)}e.getAllFalse(),e.activeSeven=!0,e.navPartThree=!0,e.isScreenPage=!1,t.upFile="",t.sayHello="您好！很高兴认识您！",t.sendAllButton=!1,t.addPeople=1,t.addPeopleCount=1,t.maxTime=10,t.minTime=1,t.addPeopleOne=function(){t.addPeople=1,t.assRadioChoose=!1},t.addPeopleTwo=function(){t.addPeople=0,t.assRadioChoose=!0};var s=1;$(".clickSelect").change(function(){1==(s=$(this).val())?($(".page9-say-hello").html(""),$(".page9-say-hello").show(),$(".clickAddText").hide(),$(".emjoyOpen-page7").show(),t.upFile=""):($(".page9-say-hello").hide(),$(".page9-say-hello").html(""),$(".clickAddText").show(),$(".emjoyOpen-page7").hide())}),t.clickAddText=function(){$(".page7-select").css("display","block")},$(".emjoyDiv-page7").mouseover(function(){$(".emjoyList-page7").css("display","block")}),$(".emjoyDiv-page7").mouseout(function(){$(".emjoyList-page7").css("display","none")});var r=0;$(function(){$("#FontAndEmjoy7").focus(function(){$(this).removeClass("flag1")}),$("#FontAndEmjoy7").blur(function(){$(this).addClass("flag1")})}),$(".emjoyList-page7").on("click","img",function(){if(1==r){var e=$(this).attr("alt");o("<img src='"+$(this).attr("src")+"'alt='"+e+"'>")}});var l=[],p=-1;$(window).click(function(e){if(p++,window.getSelection){var t=e.srcElement?e.srcElement:e.target;l.push(t.id),-1!=$.inArray("FontAndEmjoy7",l)&&("FontAndEmjoy7"!=t.id?($("#FontAndEmjoy7").addClass("flag1"),r=0,"gg"==t.className?(r=1,$("#FontAndEmjoy7").removeClass("flag1"),"FontAndEmjoy7"==l[p-1]&&(r=1,$("#FontAndEmjoy7").removeClass("flag1"),l[p-1]==t.id&&(r=1,$("#FontAndEmjoy7").removeClass("flag1")))):(r=0,$("#FontAndEmjoy7").addClass("flag1"))):(r=1,$("#FontAndEmjoy7").removeClass("flag1")))}}),$(".FontAndEmjoy7").html(""),t.sendAll=function(){for(var o=$(".FontAndEmjoy7").html(),s=0,r=[];s<$(".new-wx-equip-input7").length;s++)$(".new-wx-equip-input7").eq(s).prop("checked")&&r.push($(".new-wx-equip-input7").eq(s).parent().next().attr("title"));if(0==r.length)alert("请勾选需要操作的设备！");else if(0==o.length&&"string"==typeof t.upFile)alert("请输入打招呼用语或选择话术文件！");else{var l=/<img.*?(?:>|\/>)/g,p=/alt=[\'\"]?([^\'\"]*)[\'\"]?/i,c=o.match(l);if(null==c);else{var d=[];console.log(c);for(s=0;s<c.length;s++){var g=c[s].match(p);g[1]&&d.push(g[1])}for(var u=o.match(/<img.*?(?:>|\/>)/g),s=0;s<u.length;s++)o=o.replace(u[s],d[s])}var h=new FormData;h.append("devices",JSON.stringify(r)),h.append("file",t.upFile),h.append("msg",o),h.append("strategy",t.addPeople),h.append("count",t.addPeopleCount),h.append("contactList",JSON.stringify(t.assList1)),h.append("contactList2",JSON.stringify(t.assList2)),h.append("maxInterval",t.maxTime),h.append("minInterval",t.minTime),i({method:"POST",url:e.link+"/wechatPlus/addFriendDirect",data:h,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top7"),n(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}}}]),app.controller("page8C",["$rootScope","$scope","$location","$anchorScroll","$http",function(e,t,a,n,i){function o(e){return document.getElementById(e)}function s(){r.clearOverlays();var e=new BMap.LocalSearch(r,{onSearchComplete:function(){var a=e.getResults().getPoi(0).point;r.centerAndZoom(a,18),r.addOverlay(new BMap.Marker(a)),t.mapPointLng=a.lng,t.mapPointLat=a.lat}});e.search(p)}e.getAllFalse(),e.activeEight=!0,e.navPartThree=!0,e.isScreenPage=!1,t.mapRang="2000米",t.sayHello="您好！很高兴认识您！",t.upFile="",t.mapLocation="",t.addPeopleNumber=10,t.addSex="全部",t.maxTime=10,t.minTime=1;var r=new BMap.Map("page8-map");r.centerAndZoom("北京",12),r.enableScrollWheelZoom(!0),r.addEventListener("click",function(e){$.ajax({type:"GET",url:"http://api.map.baidu.com/geocoder/v2/?ak=HbUVYMUg6PwbOnXkztdgSQlQ&callback=renderReverse&location="+e.point.lat+","+e.point.lng+"&output=json&pois=1",dataType:"JSONP",success:function(e){t.mapLocation=e.result.formatted_address,t.$apply()}})});var l=new BMap.Autocomplete({input:"suggestId",location:r});l.addEventListener("onhighlight",function(e){var t="",a=e.fromitem.value,n="";e.fromitem.index>-1&&(n=a.province+a.city+a.district+a.street+a.business),t="FromItem<br />index = "+e.fromitem.index+"<br />value = "+n,n="",e.toitem.index>-1&&(n=(a=e.toitem.value).province+a.city+a.district+a.street+a.business),t+="<br />ToItem<br />index = "+e.toitem.index+"<br />value = "+n,o("searchResultPanel").innerHTML=t});var p;l.addEventListener("onconfirm",function(e){var t=e.item.value;p=t.province+t.city+t.district+t.street+t.business,o("searchResultPanel").innerHTML="onconfirm<br />index = "+e.item.index+"<br />myValue = "+p,s()});var c=1;$(".clickSelect").change(function(){1==(c=$(this).val())?($(".page9-say-hello").show(),$(".clickAddText").hide(),t.sayHello="您好！很高兴认识您！",t.upFile=""):($(".page9-say-hello").hide(),$(".clickAddText").show(),t.sayHello="")}),t.clickAddText=function(){$(".page7-select").css("display","block")},t.sendAll=function(){for(var o=0,s=[];o<$(".new-wx-equip-input8").length;o++)$(".new-wx-equip-input8").eq(o).prop("checked")&&s.push($(".new-wx-equip-input8").eq(o).parent().next().attr("title"));var r=0;if("全部"==t.addSex?r=0:"男"==t.addSex?r=1:"女"==t.addSex&&(r=2),0==s.length)alert("请勾选需要操作的设备！");else if(""==t.mapRang)alert("请选择粒子算法的范围！");else if(""==t.timeInterval)alert("请填写时间间隔！");else if(""==t.mapLocation)alert("请输入定位的地址！");else if(""==t.addPeopleNumber)alert("请输入加人的数量!");else{var l=new FormData;l.append("devices",JSON.stringify(s)),l.append("file",t.upFile),l.append("maxInterval",t.maxTime),l.append("minInterval",t.minTime),l.append("msg",t.sayHello),l.append("longitude",t.mapPointLng),l.append("latitude",t.mapPointLat),l.append("num",t.addPeopleNumber),l.append("sex",r),i({method:"POST",url:e.link+"/wechatPlus/sayHello",data:l,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top8"),n(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}}}]),app.controller("page9C",["$rootScope","$scope","$location","$anchorScroll","$http","$timeout",function(e,t,a,n,i,o){function s(e){var t,a,n=$("#FontAndEmjoy9")[0];if($(n).hasClass("flag1"))if(window.getSelection){if((t=window.getSelection()).getRangeAt&&t.rangeCount){(a=t.getRangeAt(0)).deleteContents();var i=document.createElement("div");i.innerHTML=e;for(var o,s,r=document.createDocumentFragment();o=i.firstChild;)s=r.appendChild(o);a.insertNode(r),s&&((a=a.cloneRange()).setStartAfter(s),a.collapse(!0),t.removeAllRanges(),t.addRange(a))}}else document.selection&&"Control"!=document.selection.type&&($(n).focus(),ierange=document.selection.createRange(),ierange.pasteHTML(e),$(n).focus());else $(n).html(n.innerHTML+e)}e.getAllFalse(),e.activeNine=!0,e.navPartThree=!0,e.isScreenPage=!1,o(function(){i.get(e.link+"/wechat/getWechatsByDevice?devices="+JSON.stringify(e.moArray)+"&pageNo=1&pageSize=6").success(function(t){200==t.code?(e.MemberList9=t.data.content,$("#pages9").Page({totalPages:t.data.totalPages,liNums:5,activeClass:"activP",callBack:function(t){i.get(e.link+"/wechat/getWechatsByDevice?devices="+JSON.stringify(e.moArray)+"&pageNo="+t+"&pageSize=6").success(function(t){e.MemberList9=t.data.content})}})):alert(t.msg)})},500),t.countNumber=5,t.timeInterval=5,t.maxTime=10,t.minTime=1,t.upFile="",t.allGroup=0,t.topGroup=0,t.groupNum=5,t.allNum=0,t.panduan=0;var r=1,l=0;$(".clickSelect").change(function(){1==(r=$(this).val())?($(".page9-say-hello").html(""),$(".page9-say-hello").show(),$(".clickAddText").hide(),$(".emjoyOpen-page9").show(),t.upFile=""):($(".page9-say-hello").hide(),$(".page9-say-hello").html(""),$(".clickAddText").show(),$(".emjoyOpen-page9").hide())}),$(".come-type").change(function(){1==(l=$(this).val())?($(".writeNum").hide(),t.allGroup=1,t.topGroup=0,t.groupNum=0,t.noTopGroup=0,t.panduan=1,t.allNum=0):0==l?($(".writeNum").hide(),t.allGroup=0,t.topGroup=0,t.groupNum=0,t.panduan=0,t.noTopGroup=0,t.allNum=0):2==l?($(".writeNum").hide(),t.panduan=1,t.allGroup=0,t.topGroup=1,t.groupNum=0,t.noTopGroup=0,t.allNum=0):3==l?(t.allGroup=0,t.panduan=1,t.topGroup=0,t.groupNum=5,t.noTopGroup=0,t.allNum=1,$(".writeNum").show()):4==l&&($(".writeNum").hide(),t.allGroup=0,t.topGroup=2,t.groupNum=0,t.panduan=1,t.allNum=0)}),$(".emjoyDiv-page9").mouseover(function(){$(".emjoyList-page9").css("display","block")}),$(".emjoyDiv-page9").mouseout(function(){$(".emjoyList-page9").css("display","none")});var p=0;$(function(){$("#FontAndEmjoy9").focus(function(){$(this).removeClass("flag1")}),$("#FontAndEmjoy9").blur(function(){$(this).addClass("flag1")})}),$(".emjoyList-page9").on("click","img",function(){if(1==p){var e=$(this).attr("alt");s("<img src='"+$(this).attr("src")+"'alt='"+e+"'>")}});var c=[],d=-1;$(window).click(function(e){if(d++,window.getSelection){var t=e.srcElement?e.srcElement:e.target;c.push(t.id),-1!=$.inArray("FontAndEmjoy9",c)&&("FontAndEmjoy9"!=t.id?($("#FontAndEmjoy9").addClass("flag1"),p=0,"gg"==t.className?(p=1,$("#FontAndEmjoy9").removeClass("flag1"),"FontAndEmjoy9"==c[d-1]&&(p=1,$("#FontAndEmjoy9").removeClass("flag1"),c[d-1]==t.id&&(p=1,$("#FontAndEmjoy9").removeClass("flag1")))):(p=0,$("#FontAndEmjoy9").addClass("flag1"))):(p=1,$("#FontAndEmjoy9").removeClass("flag1")))}}),$(".FontAndEmjoy9").html(""),t.sendAll=function(){for(var o=$(".FontAndEmjoy9").html(),s=0,r=[];s<$(".new-wx-equip-input9").length;s++)$(".new-wx-equip-input9").eq(s).prop("checked")&&r.push($(".new-wx-equip-input9").eq(s).parent().next().attr("title"));if(0==r.length)alert("请勾选需要操作的微信群组!");else if(""==t.countNumber)alert("请填写添加的数量!");else if(""==t.timeInterval)alert("请填写时间间隔!");else if(0==o.length&&"string"==typeof t.upFile)alert("请输入打招呼用语或选择话术文件！");else if(0==t.panduan)alert("请选择加好友方式");else{var l=/<img.*?(?:>|\/>)/g,p=/alt=[\'\"]?([^\'\"]*)[\'\"]?/i,c=o.match(l);if(null==c);else{for(var d=[],s=0;s<c.length;s++){var g=c[s].match(p);g[1]&&d.push(g[1])}for(var u=o.match(/<img.*?(?:>|\/>)/g),s=0;s<u.length;s++)o=o.replace(u[s],d[s])}var h=new FormData;h.append("file",t.upFile),h.append("msg",o),h.append("addNum",t.countNumber),h.append("maxInterval",t.maxTime),h.append("minInterval",t.minTime),h.append("devices",JSON.stringify(r)),h.append("allGroup",t.allGroup),h.append("topGroup",t.topGroup),h.append("groupNum",t.groupNum),h.append("allNum",t.allNum),i({method:"POST",url:e.link+"/wechatPlus/addFriendInClub",data:h,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top9"),n(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(t.msg)})}}}]),app.controller("page31C",["$rootScope","$scope","$location","$anchorScroll","$http",function(e,t,a,n,i){e.getAllFalse(),e.activeThirtyOne=!0,e.navPartThree=!0,e.isScreenPage=!0,t.getNav=function(){a.hash("nav-bottom13"),n()},t.sendObj=new FormData,t.sendObj.append("file",""),t.picArr=[],t.sendAll=function(){for(var o=0,s=[];o<$(".new-wx-equip-input13").length;o++)$(".new-wx-equip-input13").eq(o).prop("checked")&&s.push($(".new-wx-equip-input13").eq(o).parent().next().attr("title"));if(0==s)alert("请勾选需要操作的设备！");else{var r={devices:s};t.sendObj.append("json",JSON.stringify(r)),i({method:"POST",url:e.link+"/wechatPlus/addgroupfrompicture",data:t.sendObj,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top13"),n(),location.reload(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):(alert(t.msg),location.reload())})}}}]),app.controller("page32C",["$rootScope","$scope","$location","$anchorScroll","$http",function(e,t,a,n,i){e.getAllFalse(),e.activeThirtyTwo=!0,e.navPartThree=!0,e.isScreenPage=!1,t.mmp=!1,t.sendObj=new FormData,t.sendObj.append("file1",""),t.picArr=[],t.sendAll=function(){for(var o=0,s=[];o<$(".new-wx-equip-input7").length;o++)$(".new-wx-equip-input7").eq(o).prop("checked")&&s.push($(".new-wx-equip-input7").eq(o).parent().next().attr("title"));0==s?alert("请勾选需要操作的设备！"):0==t.mmp?alert("请选择公众号二维码图片！"):(t.sendObj.append("devices",JSON.stringify(s)),i({method:"POST",url:e.link+"/operate/sendMoments",data:t.sendObj,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(t){200==t.code?(alert("任务添加成功!"),a.hash("page-top13"),n(),location.reload(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):(alert(t.msg),location.reload())}))},t.sayName="",t.sendAll1=function(){for(var o=0,s=[];o<$(".new-wx-equip-input7").length;o++)$(".new-wx-equip-input7").eq(o).prop("checked")&&s.push($(".new-wx-equip-input7").eq(o).parent().next().attr("title"));if(0==s.length)alert("请勾选需要操作的设备！");else if(""==t.sayName)alert("请输入公众号名称！");else{var r=[];r.push(t.sayName.split("，"));var l={publicnumberList:r[0],devices:s};i({method:"POST",url:e.link+"/wechatPlus/addpublicnumber",data:l,headers:{"Content-Type":void 0}}).success(function(o){200==o.code?(t.sayName="",alert("任务添加成功!"),a.hash("page-top7"),n(),i.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(o.msg)})}}}]),app.controller("page33C",["$rootScope","$scope","$http","$timeout",function(e,t,a,n){e.getAllFalse(),e.activeThirtySree=!0,e.navPartThree=!0,e.isScreenPage=!1,t.maxTime=10,t.minTime=1,t.mainName="",t.mainNumber="",t.allPhon="";var i="";t.checkPhone="",n(function(){a.get(e.link+"/device/getAllDeviceByStatus?pageNo=1&pageSize=10000").success(function(e){200==e.code?t.allPhon=e.data.content:alert(e.msg)})},0),$(".page4-select").change(function(){e.sendValuePp=void 0,t.checkPhone=$(this).val(),a.get(e.link+"/device/getDeviceByDevice?devices="+t.checkPhone+"&pageNo=1&pageSize=17").success(function(n){200==n.code?(t.haoYou=n.data.content[0].wechatVo.id,a.get(e.link+"/operate/getContact?wechatId="+t.haoYou+"&pageNo=1&pageSize=2000").success(function(e){200==e.code?(t.outSideBox=!1,t.inSideBox=!0,""==e.data.content&&alert("无法获取到好友列表，请前往微信好友管理进行好友列表刷新"),t.WxList=e.data.content,t.assPage=1):alert(e.msg)})):alert(n.msg)})}),$(".page33-select-type").change(function(){0==(i=$(this).val())?($(".page33-select-input").show(),$(".page33-select-input").html(""),$(".page33-select-number").hide(),t.mainNumber=""):($(".page33-select-input").hide(),$(".page33-select-input").html(""),$(".page33-select-number").show(),t.mainName="")}),t.sendAll=function(){for(var n=[],i="",o=0,s=[];o<$(".new-wx-equip-input4").length;o++)$(".new-wx-equip-input4").eq(o).prop("checked")&&(s.push($(".new-wx-equip-input4").eq(o).parent().next().attr("title")),o<=4&&n.push($(".new-wx-equip-input4").eq(o).parent().next().attr("title")));if(void 0==e.sendValuePp)alert("请选择朋友圈所属好友");else if(""==t.mainName&&""==t.mainNumber)alert("请提供目标朋友圈所在位置");else if(0==s.length)alert("请勾选需要转发到的5台设备！");else{i=s.length>5?n:s;var r=new FormData;r.append("forwardDevices, ",JSON.stringify(i)),r.append("msg",t.mainName),r.append("appoint",t.mainNumber),r.append("devices",t.checkPhone),r.append("friendId",e.sendValuePp),a({method:"POST",url:e.link+"/operate/frowardMoments",data:r,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(n){200==n.code?(t.sayName="",alert("任务添加成功!"),$location.hash("page-top7"),$anchorScroll(),a.get(e.link+"/task/getGroupTaskInit?status=-1").success(function(t){200==t.code?(e.taskList=t.data,e.taskAll=!0,e.taskDoing=!1,e.taskWait=!1,e.taskDown=!1,e.newBell=!0):alert(t.msg)})):alert(n.msg)})}}}]),app.config(["$routeProvider",function(e){e.when("/page2",{templateUrl:"view/page2.html",controller:"page2C"}).when("/page3",{templateUrl:"view/page3.html",controller:"page3C"}).when("/page4",{templateUrl:"view/page4.html",controller:"page4C"}).when("/page6",{templateUrl:"view/page6.html",controller:"page6C"}).when("/page7",{templateUrl:"view/page7.html",controller:"page7C"}).when("/page8",{templateUrl:"view/page8.html",controller:"page8C"}).when("/page9",{templateUrl:"view/page9.html",controller:"page9C"}).when("/page10",{templateUrl:"view/page10.html",controller:"page10C"}).when("/page11",{templateUrl:"view/page11.html",controller:"page11C"}).when("/page12",{templateUrl:"view/page12.html",controller:"page12C"}).when("/page13",{templateUrl:"view/page13.html",controller:"page13C"}).when("/page14",{templateUrl:"view/page14.html",controller:"page14C"}).when("/page15",{templateUrl:"view/page15.html",controller:"page15C"}).when("/page16",{templateUrl:"view/page16.html",controller:"page16C"}).when("/page17",{templateUrl:"view/page17.html",controller:"page17C"}).when("/page18",{templateUrl:"view/page18.html",controller:"page18C"}).when("/page19",{templateUrl:"view/page19.html",controller:"page19C"}).when("/page20",{templateUrl:"view/page20.html",controller:"page20C"}).when("/page21",{templateUrl:"view/page21.html",controller:"page21C"}).when("/page22",{templateUrl:"view/page22.html",controller:"page22C"}).when("/page23",{templateUrl:"view/page23.html",controller:"page23C"}).when("/page24",{templateUrl:"view/page24.html",controller:"page24C"}).when("/page25",{templateUrl:"view/page25.html",controller:"page25C"}).when("/page26",{templateUrl:"view/page26.html",controller:"page26C"}).when("/page27",{templateUrl:"view/page27.html",controller:"page27C"}).when("/page28",{templateUrl:"view/page28.html",controller:"page28C"}).when("/page29",{templateUrl:"view/page29.html",controller:"page29C"}).when("/page30",{templateUrl:"view/page30.html",controller:"page30C"}).when("/page31",{templateUrl:"view/page31.html",controller:"page31C"}).when("/page32",{templateUrl:"view/page32.html",controller:"page32C"}).when("/page33",{templateUrl:"view/page33.html",controller:"page33C"}).when("/page34",{templateUrl:"view/page34.html",controller:"page34C"}).when("/page35",{templateUrl:"view/page35.html",controller:"page35C"}).when("/page36",{templateUrl:"view/page36.html",controller:"page36C"}).when("/page37",{templateUrl:"view/page37.html",controller:"page37C"}).when("/page38",{templateUrl:"view/page38.html",controller:"page38C"}).when("/page39",{templateUrl:"view/page39.html",controller:"page39C"}).when("/login",{templateUrl:"view/login.html",controller:"loginC"}).otherwise({redirectTo:"/page34"})}]),app.directive("assAllThree",["$rootScope",function(e){return{link:function(e,t){t.click(function(){if(e.checkAll)for(var a=t.parents(".page3-fucking-list").find("input"),n=0;n<a.length;n++)a.eq(n).attr("disabled")||(a[n].checked=!0,a.eq(n).parent().addClass("on"));else for(var i=t.parents(".page3-fucking-list").find("input"),o=0;o<i.length;o++)i.eq(o).attr("disabled")||(i[o].checked=!1,i.eq(o).parent().removeClass("on"))})}}}]),app.directive("assOneThree",["$rootScope",function(e){return{link:function(e,t){t.click(function(){t.prop("checked")?t.parent().addClass("on"):t.parent().removeClass("on")})}}}]),app.directive("canUser",["$timeout",function(e){return{link:function(t,a){e(function(){a.prop("checked")?a.parent().parent().parent().parent().find(".page4CelueB").removeAttr("disabled").css("background","#2abf9e"):a.parent().parent().parent().parent().find(".page4CelueB").attr("disabled","disabled").css("background","#a6a6a6")},0),a.click(function(){a.prop("checked")?a.parent().parent().parent().parent().find(".page4CelueB").removeAttr("disabled").css("background","#2abf9e"):a.parent().parent().parent().parent().find(".page4CelueB").attr("disabled","disabled").css("background","#a6a6a6")})}}}]),app.directive("checkedAssFour",["$rootScope",function(e){return{link:function(t,a){a.click(function(){a.prop("checked")?a.parent().addClass("on"):a.parent().removeClass("on"),t.checked.length===e.equipList4.length?a.parents(".page4-floor-one-list").find("span").eq(0).addClass("on"):a.parents(".page4-floor-one-list").find("span").eq(0).removeClass("on")})}}}]),app.directive("endService",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){var a=n.attr("t_id");t.get(e.link+"/remote/close?tid="+a).success(function(e){200==e.code?($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;终止成功成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3),n.prev().prev().attr("disabled","disabled").css("background","#ccc"),n.prev().attr("disabled","disabled").css("background","#ccc"),n.attr("disabled","disabled").css("background","#ccc"),n.parent().parent().prev().prev().text("执行完成")):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;终止失败，请检查设备连接并重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})})}}}]),app.directive("gFour",["$timeout",function(e){return{link:function(t,a){e(function(){a.prop("checked")?a.parent().addClass("on"):a.parent().removeClass("on")},0),a.click(function(){a.prop("checked")?a.parent().addClass("on"):a.parent().removeClass("on")})}}}]),app.directive("getAss",["$http","$rootScope",function(e,t){return{link:function(n,i){i.on("change",function(){a=!1;var i=new FormData,o=document.querySelector("#ass-input1").files[0];i.append("file",o),e({method:"POST",url:t.link+"/account/addWeChatNumber",data:i,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(a){200==a.code&&(n.MemberList=a.data,e.get(t.link+"/group/getGroupData").success(function(e){t.groupNames=e.data,t.groupNumbers=e.data.length}))})})}}}]),app.directive("getAssSeven",["$http","$rootScope",function(e,t){return{link:function(a,n){n.on("change",function(){var n=new FormData,i=document.querySelector("#ass-input7").files[0];n.append("files",i),e({method:"POST",url:t.link+"/wechatPlus/resolveDirectFiles",data:n,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(e){a.WxMemberList1=e.data;for(var t=0,n=[];t<e.data.length;t++){var i={};"null"==e.data[t].msg&&(e.data[t].msg="无"),i.name=e.data[t].name,i.number=e.data[t].number,i.msg=e.data[t].msg,void 0==e.data[t].name&&(e.data[t].name=e.data[t].number),n.push(i)}for(var o=0,s=[];o<e.data.length;o++){var r=[];r=e.data[o].number,s.push(r)}for(var o=0,l=[];o<e.data.length;o++){var p=[];p=e.data[o].msg,l.push(p)}a.assList=n,a.assList1=s,a.assList2=l,a.sendAllButton=!0}).error(function(){$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;用户解析失败，请重试并检查模板格式"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)})})}}}]),app.directive("getAssSix",["$http","$rootScope",function(e,t){return{link:function(a,n){n.on("change",function(){$(".jijijiji").html("重新上传");var n=new FormData,i=document.querySelector("#ass-input6").files[0];n.append("files",i),e({method:"POST",url:t.link+"/wechatPlus/resolveFiles",data:n,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(e){a.WxMemberList=e.data;for(var t=0,n=[];t<e.data.length;t++){var i={};i.name=e.data[t].name,i.number=e.data[t].number,void 0==e.data[t].name&&(e.data[t].name=e.data[t].number,i.name=e.data[t].number),n.push(i)}a.assList=n,a.sendAllButton=!0}).error(function(){$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;用户解析失败，请重试并检查模板格式"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)})})}}}]),app.directive("getAssThirtyTwo",["$http","$rootScope","$scope",function(e,t,a){return{link:function(a,n){n.on("change",function(){var n=new FormData,i=document.querySelector("#ass-input32").files[0];n.append("files",i),e({method:"POST",url:t.link+"/wechatPlus/resolveDirectFiles",data:n,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(e){a.TurnCome=!0,a.WxMemberList=e.data;for(var t=0,n=[];t<e.data.length;t++){var i={};i.name=e.data[t].name,n.push(i)}a.assList=n,a.sendAllButton=!0}).error(function(){$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;用户解析失败，请重试并检查模板格式"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)})})}}}]),app.directive("getEdit",function(){return{link:function(e,t){t.click(function(){t.hide(),t.prev().show(),t.parent().parent().find("input").removeClass("on").removeAttr("readonly")})}}}),app.directive("getEdit2",function(){return{link:function(e,t){t.click(function(){t.hide(),t.prev().show(),t.parent().parent().find("input").removeClass("on").removeAttr("readonly")})}}}),app.directive("getSave",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){var a=n.attr("mess_id"),i=n.parent().parent().find(".page4-wx-number").val(),o=n.parent().parent().find(".page4-wx-password").val()||"",s=n.parent().parent().find(".page4-wx-nickname").val()||"",r=n.parent().parent().find(".page4-wx-tag").val()||"";n.attr("wn");""==i?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请填写需要保存的帐号"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):t.get(e.link+"/wechat/updateWechat?id="+a+"&number="+i+"&password="+o+"&nickname="+s+"&tag="+r).success(function(e){200==e.code?($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;保存成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3),n.hide(),n.next().show(),n.parent().parent().find("input").addClass("on").attr("readonly","readonly")):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;保存失败"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})})}}}]),app.directive("getSave2",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){var a=n.attr("mess_id"),i=n.parent().parent().find(".page4-wx-number").val(),o=n.parent().parent().find(".page4-wx-password").val()||"",s=n.parent().parent().find(".page4-wx-nickname").val()||"",r=n.parent().parent().find(".page4-wx-tag").val()||"";n.attr("wn");""==i?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请填写需要保存的帐号"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):t.get(e.link+"/momo/updateMomo?id="+a+"&number="+i+"&password="+o+"&nickname="+s+"&tag="+r).success(function(e){200==e.code?($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;保存成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3),n.hide(),n.next().show(),n.parent().parent().find("input").addClass("on").attr("readonly","readonly")):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;保存失败"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})})}}}]),app.directive("groupAllCheckedEl",["$rootScope",function(e){return{link:function(t,a){a.click(function(){a.prop("checked")?(e.upMsg=1,a.parent().addClass("on"),a.parents(".page11-floor-two-list").find(".page11-div-checkbox").addClass("on").find("input").prop("checked","checked")):(e.upMsg=0,a.parent().removeClass("on"),a.parents(".page11-floor-two-list").find(".page11-div-checkbox").removeClass("on").find("input").prop("checked",function(){return!1}))})}}}]),app.directive("groupAllCheckedFive",function(){return{link:function(e,t){t.click(function(){t.prop("checked")?(t.parent().removeClass("on"),t.parents(".page5-floor-one-list").find(".page5-div-checkbox").removeClass("on").find("input").prop("checked","checked")):(t.parent().addClass("on"),t.parents(".page5-floor-one-list").find(".page5-div-checkbox").addClass("on").find("input").prop("checked",function(){return!1}))})}}}),app.directive("groupAllCheckedFour",function(){return{link:function(e,t){t.click(function(){t.prop("checked")?t.parents(".page4-floor-one-list").find("span").addClass("on"):t.parents(".page4-floor-one-list").find("span").removeClass("on")})}}}),app.directive("groupAllCheckedTw",function(){return{link:function(e,t){t.click(function(){t.prop("checked")?(t.parent().addClass("on"),t.parents(".page11-floor-two-list").find(".page11-div-checkbox").addClass("on").find("input").prop("checked","checked")):(t.parent().removeClass("on"),t.parents(".page11-floor-two-list").find(".page11-div-checkbox").removeClass("on").find("input").prop("checked",function(){return!1}))})}}}),app.directive("groupAllCheckedNine",function(){return{link:function(e,t){t.click(function(){t.prop("checked")?(t.parent().addClass("on"),t.parents(".page9-one-list").find(".page9-checked").addClass("on").find("input").prop("checked","checked")):(t.parent().removeClass("on"),t.parents(".page9-one-list").find(".page9-checked").removeClass("on").find("input").prop("checked",function(){return!1}))})}}}),app.directive("groupAllCheckedTw",function(){return{link:function(e,t){t.click(function(){t.prop("checked")?(t.parent().addClass("on"),t.parents(".page12-floor-two-list").find(".page12-div-checkbox").addClass("on").find("input").prop("checked","checked")):(t.parent().removeClass("on"),t.parents(".page12-floor-two-list").find(".page12-div-checkbox").removeClass("on").find("input").prop("checked",function(){return!1}))})}}}),app.directive("groupCheckAll",function(){return{link:function(e,t){t.click(function(){if(t.prop("checked")){t.parent().addClass("on"),t.parent().parent().next().find("p").addClass("on").find("input").prop("checked",function(){return!0});for(var e=t.parent().parent().parent().parent().find("input"),a=!0,n=0;n<e.length;n++)0==e.eq(n).prop("checked")&&(a=!1);a?t.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):t.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1})}else t.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),t.parent().removeClass("on"),t.parent().parent().next().find("p").removeClass("on").find("input").prop("checked",function(){return!1})})}}}),app.directive("groupCheckAll24",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){if(n.prop("checked")){n.parent().addClass("on"),n.parent().parent().next().find("p").addClass("on").find("input").prop("checked",function(){return!0});for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1})}else n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),n.parent().removeClass("on"),n.parent().parent().next().find("p").removeClass("on").find("input").prop("checked",function(){return!1});a.fuckArr=[];for(s=0;s<$(".new-wx-equip-input9").length;s++)$(".new-wx-equip-input9").eq(s).prop("checked")&&a.fuckArr.push($(".new-wx-equip-input9").eq(s).parent().next().attr("title"));t.get(e.link+"/momo/getMomosByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=6").success(function(n){200==n.code?(e.MemberList9=n.data.content,$("#pages9").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){t.get(e.link+"/momo/getMomosByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+n+"&pageSize=6").success(function(t){e.MemberList9=t.data.content})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})})}}}]),app.directive("groupCheckAllEightteen",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){n.prop("checked")?(n.parent().addClass("on"),n.parent().parent().next().find("p").addClass("on").find("input").prop("checked",function(){return!0})):(n.parent().removeClass("on"),n.parent().parent().next().find("p").removeClass("on").find("input").prop("checked",function(){return!1})),a.fuckArr=[];for(var i=0;i<$(".new-wx-equip-input18").length;i++)$(".new-wx-equip-input18").eq(i).prop("checked")&&a.fuckArr.push($(".new-wx-equip-input18").eq(i).parent().next().attr("title"));e.socketArr=[],sessionStorage.setItem("devices",a.fuckArr);var o=function(a,n,i,o,s,r){var l,p,c,d,g=document.getElementById(a),u=g.getContext("2d"),h=[];g.addEventListener("mousedown",function(e){e.layerX||0==e.layerX?(l=e.layerX,p=e.layerY):(e.offsetX||0==e.offsetX)&&(l=e.offsetX,p=e.offsetY);for(var e=0;e<$(".canvas-ul li input").length;e++)$(".canvas-ul li input").eq(e).prop("checked")&&h.push($(".canvas-ul li input").eq(e).attr("mess_id"));h.push(i)},!1),g.addEventListener("mouseup",function(a){a.layerX||0==a.layerX?(c=a.layerX,d=a.layerY):(a.offsetX||0==a.offsetX)&&(c=a.offsetX,d=a.offsetY),Math.abs(c-l)<10&&Math.abs(d-p)<10?t.get(e.link+"/device/touchDeviceScreen?devices="+JSON.stringify(h)+"&touchPort="+o+"&x="+parseInt(l*(s/228))+"&y="+parseInt(p*(r/400))).success(function(e){}):t.get(e.link+"/device/slideDeviceScreen?devices="+JSON.stringify(h)+"&touchPort="+o+"&xs="+parseInt(l*(s/228))+"&ys="+parseInt(p*(r/400))+"&xe="+parseInt(c*(s/228))+"&ye="+parseInt(d*(r/400))).success(function(){})},!1);var f=new WebSocket("ws://"+n);e.socketArr.push(f),f.binaryType="blob",f.onclose=function(){console.log("onclose",arguments)},f.onerror=function(){console.log("onerror",arguments)},f.onmessage=function(t){var a=new Blob([t.data],{type:"image/jpeg"}),n=window.URL||window.webkitURL,i=new Image;i.onload=function(){g.width=i.width,g.height=i.height,u.drawImage(i,0,0),i.onload=null,i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",i=null,o=null,a=null,e.isScreenPage||(f.close(),$(".canvas-ul").empty())};var o=n.createObjectURL(a);i.src=o},f.onopen=function(){console.log("onopen",arguments),f.send("1920x1080/0")}};a.fuckArr.length>0?($(".page18-empty").hide(),t.get(e.link+"/device/showDeviceScreen?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=10").success(function(a){$(".canvas-ul").empty();for(var n=0;n<a.data.length;n++){var i='<li class="canvas-li"><h2>'+a.data[n].rank+'</h2><h5></h5><canvas id="canvas'+n+'"></canvas><div><span></span><h6></h6><p><input type="checkbox" mess_id="'+a.data[n].device+'"></p></div></li>';$(".canvas-ul").append(i);var s=a.data[n].device,r=a.data[n].touchStart,l="canvas"+n,p=a.data[n].ip+":8080/wgcs/ws/"+a.data[n].inputStart+"/"+a.data[n].device,c=a.data[n].wmSize.split("x")[0],d=a.data[n].wmSize.split("x")[1];o(l,p,s,r,c,d)}$(".canvas-ul li span").click(function(){for(var a=[],n=0;n<$(".canvas-ul li input").length;n++)$(".canvas-ul li input").eq(n).prop("checked")&&a.push($(".canvas-ul li input").eq(n).attr("mess_id"));var i=$(this).next().next().find("input").attr("mess_id");a.push(i),t.get(e.link+"/device/returnBack?devices="+JSON.stringify(a)).success(function(){})}),$(".canvas-ul li h6").click(function(){for(var a=[],n=0;n<$(".canvas-ul li input").length;n++)$(".canvas-ul li input").eq(n).prop("checked")&&a.push($(".canvas-ul li input").eq(n).attr("mess_id"));var i=$(this).next().find("input").attr("mess_id");a.push(i),t.get(e.link+"/device/returnHome?devices="+JSON.stringify(a)).success(function(){})}),$(".canvas-ul li h5").click(function(){var a=$(this).next().next().find("input").attr("mess_id");t.get(e.link+"/device/clear?device="+a).success(function(){})}),$(".canvas-ul li input").click(function(){if($(this).prop("checked")){$(this).parent().addClass("on");for(var e=0,t=!0;e<$(".canvas-ul li input").length;e++)$(".canvas-ul li input").eq(e).prop("checked")||(t=!1);t?$(".page18-new-add h3 span").addClass("on").find("input").prop("checked",function(){return!0}):$(".page18-new-add h3 span").removeClass("on").find("input").prop("checked",function(){return!1})}else $(this).parent().removeClass("on"),$(".page18-new-add h3 span").removeClass("on").find("input").prop("checked",function(){return!1})});var g,u=$(".page18-floor-one").width();u<1200&&u>=960?g=(u-970)/8:u<960&&u>=720?g=(u-730)/6:u>=1200&&(g=(u-1210)/10),$(".page18-floor-one").find(".canvas-li").css("margin","0 "+g+"px 8px")})):($(".page18-empty").show(),$(".canvas-ul").empty())})}}}]);var ii=0;app.directive("groupCheckAllEl",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){if(n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!1}),n.prop("checked")){n.parent().addClass("on"),n.parent().parent().next().find("p").addClass("on").find("input").prop("checked",function(){return!0});for(var i=n.parent().parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)o=0!=i.eq(s).prop("checked");1==o?n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1})}else n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),n.parent().removeClass("on"),n.parent().parent().next().find("p").removeClass("on").find("input").prop("checked",function(){return!1});a.fuckArr=[];for(s=0;s<$(".new-wx-equip-input11").length;s++)$(".new-wx-equip-input11").eq(s).prop("checked")&&a.fuckArr.push($(".new-wx-equip-input11").eq(s).parent().next().attr("title"));t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=16").success(function(n){200==n.code?(e.MemberList11=n.data.content,$("#pages11").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+n+"&pageSize=16").success(function(t){e.MemberList11=t.data.content})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})})}}}]),app.directive("groupCheckAllFif",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){if(n.prop("checked")){n.parent().addClass("on"),n.parent().parent().next().find("p").addClass("on").find("input").prop("checked",function(){return!0});for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1})}else n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),n.parent().removeClass("on"),n.parent().parent().next().find("p").removeClass("on").find("input").prop("checked",function(){return!1});a.fuckArr=[];for(s=0;s<$(".new-wx-equip-input15").length;s++)$(".new-wx-equip-input15").eq(s).prop("checked")&&a.fuckArr.push($(".new-wx-equip-input15").eq(s).parent().next().attr("title"));t.get(e.link+"/operate/getZombieFan?devices="+JSON.stringify(a.fuckArr)).success(function(t){200==t.code?e.zombieList=t.data:($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})})}}}]),app.directive("groupCheckAllFour",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){if(n.prop("checked")){n.parent().addClass("on"),n.parent().parent().next().find("p").addClass("on").find("input").prop("checked",function(){return!0}),n.parent().parent().next().next().find("p").addClass("on").find("input").prop("checked",function(){return!0});for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1})}else n.parent().parent().parent().parent().prev().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),n.parent().removeClass("on"),n.parent().parent().next().next().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),n.parent().parent().next().find("p").removeClass("on").find("input").prop("checked",function(){return!1});a.fuckArr=[];for(s=0;s<$(".page17-wx-input").length;s++)$(".page17-wx-input").eq(s).prop("checked")&&a.fuckArr.push($(".page17-wx-input").eq(s).parent().next().attr("title"));e.table2AllChecks=a.fuckArr.length,1==e.page4getMoreData?t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(n){200==n.code?(e.equipList4=n.data.content,e.page1InitDataLength1=n.data.content.length,$(".lalaldemaxiya").css("display","block"),$(".page2-table1-page").pagination({totalData:e.page1InitDataLength1,showData:15,pageCount:1,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+i.page+"&pageSize=15").success(function(t){200==t.code&&(e.page1InitDataLength1=t.data.content.length,e.equipList4=t.data.content,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"))})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):2==e.page4getMoreData?a.fuckArr.length>0?t.get(e.link+"/operate/getContact?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(n){200==n.code?(e.WxList=n.data.content,e.page1InitDataLength=n.data.totalElements,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"),$(".page2-table2-page").pagination({totalData:e.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};0==a.fuckArr.length?(e.WxList=[],e.page1InitDataLength=0,$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择相关设备查看对应好友"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):t.get(e.link+"/operate/getContact?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+i.page+"&pageSize=15").success(function(t){e.WxList=t.data.content,e.page1InitDataLength=t.data.totalElements,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on")})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):(a.fuckArr=[],a.page1InitDataLength=0,t.get(e.link+"/operate/getContact?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(n){e.WxList=[],e.page1InitDataLength=0,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"),$(".page2-table2-page").pagination({totalData:e.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){n.getCurrent();t.get(e.link+"/operate/getContact?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(t){e.WxList=[],e.page1InitDataLength=0,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on")})}})})):a.fuckArr.length>0?($(".page2-table3-page").css("display","block"),t.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(n){200==n.code?(e.WxList1=n.data.content,e.page1InitDataLength2=n.data.totalElements,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on"),$(".page2-table3-page").pagination({totalData:e.page1InitDataLength2,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};0==a.fuckArr.length?(e.WxList1=[],e.page1InitDataLength2=0,$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择相关设备查看对应好友"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):t.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+i.page+"&pageSize=15").success(function(t){e.WxList1=t.data.content,e.page1InitDataLength2=t.data.totalElements,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on")})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):(a.fuckArr=[],e.page1InitDataLength2=0,t.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(n){e.WxList1=[],e.page1InitDataLength2=0,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on"),$(".page2-table3-page").pagination({totalData:e.page1InitDataLength2,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){n.getCurrent();t.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(t){e.WxList1=[],e.page1InitDataLength2=0,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on")})}})}))})}}}]),app.directive("groupCheckAllFour1",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){if(n.prop("checked")){n.parent().addClass("on"),n.parent().parent().next().find("p").addClass("on").find("input").prop("checked",function(){return!0}),n.parent().parent().next().next().find("p").addClass("on").find("input").prop("checked",function(){return!0});for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1})}else n.parent().parent().parent().parent().prev().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),n.parent().removeClass("on"),n.parent().parent().next().next().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),n.parent().parent().next().find("p").removeClass("on").find("input").prop("checked",function(){return!1});a.fuckArr=[];for(s=0;s<$(".page17-wx-input").length;s++)$(".page17-wx-input").eq(s).prop("checked")&&a.fuckArr.push($(".page17-wx-input").eq(s).parent().next().attr("title"));e.table2AllChecks=a.fuckArr.length,1==e.page5getMoreData?t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(n){200==n.code?(e.equipList4=n.data.content,a.page1InitDataLength=n.data.content.length,$(".page2-table1-page").pagination({totalData:a.page1InitDataLength,showData:15,pageCount:1,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+i.page+"&pageSize=15").success(function(t){200==t.code&&(a.page1InitDataLength=t.data.content.length,e.equipList4=t.data.content)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):2==e.page5getMoreData?t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(n){200==n.code?(e.equipList4=n.data.content,a.page1InitDataLength=n.data.content.length,$(".page2-table1-page").pagination({totalData:a.page1InitDataLength,showData:15,pageCount:1,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+i.page+"&pageSize=15").success(function(t){200==t.code&&(a.page1InitDataLength=t.data.content.length,e.equipList4=t.data.content)})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):10==e.page5getMoreData&&t.get(e.link+"/wechat/getWechatsByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=1000").success(function(t){200==t.code?e.page3Data4AllData=t.data.content:($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})})}}}]),app.directive("groupCheckAllNine",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){if(n.prop("checked")){n.parent().addClass("on"),n.parent().parent().next().find("p").addClass("on").find("input").prop("checked",function(){return!0});for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1})}else n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),n.parent().removeClass("on"),n.parent().parent().next().find("p").removeClass("on").find("input").prop("checked",function(){return!1});a.fuckArr=[];for(s=0;s<$(".new-wx-equip-input9").length;s++)$(".new-wx-equip-input9").eq(s).prop("checked")&&a.fuckArr.push($(".new-wx-equip-input9").eq(s).parent().next().attr("title"));t.get(e.link+"/wechat/getWechatsByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=6").success(function(n){200==n.code?(e.MemberList9=n.data.content,$("#pages9").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){t.get(e.link+"/wechat/getWechatsByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+n+"&pageSize=6").success(function(t){e.MemberList9=t.data.content})}})):alert(n.msg)})})}}}]),app.directive("groupCheckAllSeventeen",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){if(n.prop("checked")){n.parent().addClass("on"),n.parent().parent().next().find("p").addClass("on").find("input").prop("checked",function(){return!0}),n.parent().parent().next().next().find("p").addClass("on").find("input").prop("checked",function(){return!0});for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1})}else n.parent().parent().parent().parent().prev().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),n.parent().removeClass("on"),n.parent().parent().next().next().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),n.parent().parent().next().find("p").removeClass("on").find("input").prop("checked",function(){return!1});a.fuckArr=[];for(s=0;s<$(".page17-wx-input").length;s++)$(".page17-wx-input").eq(s).prop("checked")&&a.fuckArr.push($(".page17-wx-input").eq(s).parent().next().attr("title"));t.get(e.link+"/device/getDeviceByDevice/?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=17").success(function(n){e.fuckList=n.data.content,$("#pages17").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){t.get(e.link+"/device/getDeviceByDevice/?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+n+"&pageSize=17").success(function(t){e.fuckList=t.data.content})}})})})}}}]),app.directive("groupCheckAllTw",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){n.prop("checked")?(n.parent().addClass("on"),n.parent().parent().next().find("p").addClass("on").find("input").prop("checked",function(){return!0}),n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0})):(n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),n.parent().removeClass("on"),n.parent().parent().next().find("p").removeClass("on").find("input").prop("checked",function(){return!1})),a.fuckArr=[];for(var i=0;i<$(".new-wx-equip-input12").length;i++)$(".new-wx-equip-input12").eq(i).prop("checked")&&a.fuckArr.push($(".new-wx-equip-input12").eq(i).parent().next().attr("title"));t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=16").success(function(n){200==n.code?(e.MemberList12=n.data.content,$("#pages12").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+n+"&pageSize=16").success(function(t){e.MemberList12=t.data.content})}})):alert(n.msg)})})}}}]),app.directive("groupCheckOne",function(){return{link:function(e,t){t.click(function(){t.prop("checked")?t.parent().addClass("on"):t.parent().removeClass("on");for(var e=t.parent().parent().parent().parent().find("input"),a=!0,n=0;n<e.length;n++)0==e.eq(n).prop("checked")&&(a=!1);a?t.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):t.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1});for(var i=t.parent().parent().parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?t.parent().parent().parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):t.parent().parent().parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1})})}}}),app.directive("groupCheckOne24",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){n.prop("checked")?n.parent().addClass("on"):n.parent().removeClass("on");for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1});for(var r=n.parent().parent().parent().parent().parent().parent().find("input"),l=!0,p=0;p<r.length;p++)0==r.eq(p).prop("checked")&&(l=!1);l?n.parent().parent().parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),a.fuckArr=[];for(s=0;s<$(".new-wx-equip-input9").length;s++)$(".new-wx-equip-input9").eq(s).prop("checked")&&a.fuckArr.push($(".new-wx-equip-input9").eq(s).parent().next().attr("title"));t.get(e.link+"/momo/getMomosByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=6").success(function(n){200==n.code?(e.MemberList9=n.data.content,$("#pages9").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){t.get(e.link+"/momo/getMomosByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+n+"&pageSize=6").success(function(t){e.MemberList9=t.data.content})}})):alert(n.msg)})})}}}]),app.directive("groupCheckOneEightteen",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){n.prop("checked")?n.parent().addClass("on"):n.parent().removeClass("on");for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),a.fuckArr=[];for(s=0;s<$(".new-wx-equip-input18").length;s++)$(".new-wx-equip-input18").eq(s).prop("checked")&&a.fuckArr.push($(".new-wx-equip-input18").eq(s).parent().next().attr("title"));e.socketArr=[],sessionStorage.setItem("devices",a.fuckArr);var r=function(a,n,i,o,s,r){var l,p,c,d,g=document.getElementById(a),u=g.getContext("2d"),h=[];g.addEventListener("mousedown",function(e){e.layerX||0==e.layerX?(l=e.layerX,p=e.layerY):(e.offsetX||0==e.offsetX)&&(l=e.offsetX,p=e.offsetY);for(var e=0;e<$(".canvas-ul li input").length;e++)$(".canvas-ul li input").eq(e).prop("checked")&&h.push($(".canvas-ul li input").eq(e).attr("mess_id"));h.push(i)},!1),g.addEventListener("mouseup",function(a){a.layerX||0==a.layerX?(c=a.layerX,d=a.layerY):(a.offsetX||0==a.offsetX)&&(c=a.offsetX,d=a.offsetY),Math.abs(c-l)<10&&Math.abs(d-p)<10?t.get(e.link+"/device/touchDeviceScreen?devices="+JSON.stringify(h)+"&touchPort="+o+"&x="+parseInt(l*(s/228))+"&y="+parseInt(p*(r/400))).success(function(e){}):t.get(e.link+"/device/slideDeviceScreen?devices="+JSON.stringify(h)+"&touchPort="+o+"&xs="+parseInt(l*(s/228))+"&ys="+parseInt(p*(r/400))+"&xe="+parseInt(c*(s/228))+"&ye="+parseInt(d*(r/400))).success(function(){})},!1);var f=new WebSocket("ws://"+n);e.socketArr.push(f),f.binaryType="blob",f.onclose=function(){console.log("onclose",arguments)},f.onerror=function(){console.log("onerror",arguments)},f.onmessage=function(t){var a=new Blob([t.data],{type:"image/jpeg"}),n=window.URL||window.webkitURL,i=new Image;i.onload=function(){g.width=i.width,g.height=i.height,u.drawImage(i,0,0),i.onload=null,i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",i=null,o=null,a=null,e.isScreenPage||(console.log(123),f.close(),$(".canvas-ul").empty())};var o=n.createObjectURL(a);i.src=o},f.onopen=function(){console.log("onopen",arguments),f.send("1920x1080/0")}};a.fuckArr.length>0?($(".page18-empty").hide(),t.get(e.link+"/device/showDeviceScreen?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=10").success(function(n){$(".canvas-ul").empty();for(var i=0;i<n.data.content.length;i++){var o='<li class="canvas-li"><h2>'+n.data.content[i].rank+'</h2><h5></h5><canvas id="canvas'+i+'"></canvas><div><span></span><h6></h6><p><input type="checkbox" mess_id="'+n.data.content[i].device+'"></p></div></li>';$(".canvas-ul").append(o);var s=n.data.content[i].device,l=n.data.content[i].touchStart,p="canvas"+i,c=n.data.content[i].ip+":8080/wgcs/ws/"+n.data.content[i].inputStart+"/"+n.data.content[i].device,d=n.data.content[i].wmSize.split("x")[0],g=n.data.content[i].wmSize.split("x")[1];r(p,c,s,l,d,g)}$(".canvas-ul li span").click(function(){for(var a=[],n=0;n<$(".canvas-ul li input").length;n++)$(".canvas-ul li input").eq(n).prop("checked")&&a.push($(".canvas-ul li input").eq(n).attr("mess_id"));var i=$(this).next().next().find("input").attr("mess_id");a.push(i),t.get(e.link+"/device/returnBack?devices="+JSON.stringify(a)).success(function(){})}),$(".canvas-ul li h6").click(function(){for(var a=[],n=0;n<$(".canvas-ul li input").length;n++)$(".canvas-ul li input").eq(n).prop("checked")&&a.push($(".canvas-ul li input").eq(n).attr("mess_id"));var i=$(this).next().find("input").attr("mess_id");a.push(i),t.get(e.link+"/device/returnHome?devices="+JSON.stringify(a)).success(function(){})}),$(".canvas-ul li h5").click(function(){var a=$(this).next().next().find("input").attr("mess_id");t.get(e.link+"/device/clear?device="+a).success(function(){})}),$(".canvas-ul li input").click(function(){if($(this).prop("checked")){$(this).parent().addClass("on");for(var e=0,t=!0;e<$(".canvas-ul li input").length;e++)$(".canvas-ul li input").eq(e).prop("checked")||(t=!1);t?$(".page18-new-add h3 span").addClass("on").find("input").prop("checked",function(){return!0}):$(".page18-new-add h3 span").removeClass("on").find("input").prop("checked",function(){return!1})}else $(this).parent().removeClass("on"),$(".page18-new-add h3 span").removeClass("on").find("input").prop("checked",function(){return!1})});var u,h=$(".page18-floor-one").width();h<1200&&h>=960?u=(h-970)/8:h<960&&h>=720?u=(h-730)/6:h>=1200&&(u=(h-1210)/10),$(".page18-floor-one").find(".canvas-li").css("margin","0 "+u+"px 5px"),$("#pages18").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){t.get(e.link+"/device/showDeviceScreen?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+n+"&pageSize=10").success(function(a){$(".canvas-ul").empty();for(var n=0;n<a.data.content.length;n++){var i='<li class="canvas-li"><h2>'+a.data.content[n].rank+'</h2><h5></h5><canvas id="canvas'+n+'"></canvas><div><span></span><h6></h6><p><input type="checkbox" mess_id="'+a.data.content[n].device+'"></p></div></li>';$(".canvas-ul").append(i);var o=a.data.content[n].device,s=a.data.content[n].touchStart,l="canvas"+n,p=a.data.content[n].ip+":8080/wgcs/ws/"+a.data.content[n].inputStart+"/"+a.data.content[n].device,c=a.data.content[n].wmSize.split("x")[0],d=a.data.content[n].wmSize.split("x")[1];r(l,p,o,s,c,d)}$(".canvas-ul li span").click(function(){for(var a=[],n=0;n<$(".canvas-ul li input").length;n++)$(".canvas-ul li input").eq(n).prop("checked")&&a.push($(".canvas-ul li input").eq(n).attr("mess_id"));var i=$(this).next().next().find("input").attr("mess_id");a.push(i),t.get(e.link+"/device/returnBack?devices="+JSON.stringify(a)).success(function(){})}),$(".canvas-ul li h6").click(function(){for(var a=[],n=0;n<$(".canvas-ul li input").length;n++)$(".canvas-ul li input").eq(n).prop("checked")&&a.push($(".canvas-ul li input").eq(n).attr("mess_id"));var i=$(this).next().find("input").attr("mess_id");a.push(i),t.get(e.link+"/device/returnHome?devices="+JSON.stringify(a)).success(function(){})}),$(".canvas-ul li h5").click(function(){var a=$(this).next().next().find("input").attr("mess_id");t.get(e.link+"/device/clear?device="+a).success(function(){})}),$(".canvas-ul li input").click(function(){if($(this).prop("checked")){$(this).parent().addClass("on");for(var e=0,t=!0;e<$(".canvas-ul li input").length;e++)$(".canvas-ul li input").eq(e).prop("checked")||(t=!1);t?$(".page18-new-add h3 span").addClass("on").find("input").prop("checked",function(){return!0}):$(".page18-new-add h3 span").removeClass("on").find("input").prop("checked",function(){return!1})}else $(this).parent().removeClass("on"),$(".page18-new-add h3 span").removeClass("on").find("input").prop("checked",function(){return!1})});var g,u=$(".page18-floor-one").width();u<1200&&u>=960?g=(u-970)/8:u<960&&u>=720?g=(u-730)/6:u>=1200&&(g=(u-1210)/10),$(".page18-floor-one").find(".canvas-li").css("margin","0 "+g+"px 5px")})}})})):($(".page18-empty").show(),$(".canvas-ul").empty())})}}}]),app.directive("groupCheckOneEl",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){n.prop("checked")?n.parent().addClass("on"):n.parent().removeClass("on");for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1});for(var r=n.parent().parent().parent().parent().parent().parent().find("input"),l=!0,p=0;p<r.length;p++)0==r.eq(p).prop("checked")&&(l=!1);l?n.parent().parent().parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),a.fuckArr=[];for(s=0;s<$(".new-wx-equip-input11").length;s++)$(".new-wx-equip-input11").eq(s).prop("checked")&&a.fuckArr.push($(".new-wx-equip-input11").eq(s).parent().next().attr("title"));t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=16").success(function(n){200==n.code?(e.MemberList11=n.data.content,$("#pages11").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+n+"&pageSize=16").success(function(t){e.MemberList11=t.data.content})}})):alert(n.msg)})})}}}]),app.directive("groupCheckOneFif",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){n.prop("checked")?n.parent().addClass("on"):n.parent().removeClass("on");for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1});for(var r=n.parent().parent().parent().parent().parent().parent().find("input"),l=!0,p=0;p<r.length;p++)0==r.eq(p).prop("checked")&&(l=!1);l?n.parent().parent().parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),a.fuckArr=[];for(s=0;s<$(".new-wx-equip-input15").length;s++)$(".new-wx-equip-input15").eq(s).prop("checked")&&a.fuckArr.push($(".new-wx-equip-input15").eq(s).parent().next().attr("title"));t.get(e.link+"/operate/getZombieFan?devices="+JSON.stringify(a.fuckArr)).success(function(t){200==t.code?e.zombieList=t.data:alert(t.msg)})})}}}]),app.directive("groupCheckOneFour",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){n.prop("checked")?n.parent().addClass("on"):n.parent().removeClass("on");for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1});for(var r=n.parent().parent().parent().parent().parent().parent().find("input"),l=!0,p=0;p<r.length;p++)0==r.eq(p).prop("checked")&&(l=!1);l?n.parent().parent().parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),a.fuckArr=[];for(s=0;s<$(".page17-wx-input").length;s++)$(".page17-wx-input").eq(s).prop("checked")&&a.fuckArr.push($(".page17-wx-input").eq(s).parent().next().attr("title"));e.table2AllChecks=a.fuckArr.length,1==e.page4getMoreData?t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(n){200==n.code?(e.equipList4=n.data.content,e.page1InitDataLength1=n.data.content.length,$(".lalaldemaxiya").css("display","block"),$(".page2-table1-page").pagination({totalData:e.page1InitDataLength1,showData:15,pageCount:1,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+i.page+"&pageSize=15").success(function(t){200==t.code&&(e.page1InitDataLength1=t.data.content.length,e.equipList4=t.data.content,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"))})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):2==e.page4getMoreData?a.fuckArr.length>0?t.get(e.link+"/operate/getContact?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(n){200==n.code?(e.WxList=n.data.content,e.page1InitDataLength=n.data.totalElements,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"),$(".page2-table2-page").pagination({totalData:e.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};0==a.fuckArr.length?(e.WxList=[],e.page1InitDataLength=0,$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择相关设备查看对应好友"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):t.get(e.link+"/operate/getContact?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+i.page+"&pageSize=15").success(function(t){e.WxList=t.data.content,e.page1InitDataLength=t.data.totalElements,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on")})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):(a.fuckArr=[],a.page1InitDataLength=0,t.get(e.link+"/operate/getContact?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(n){e.WxList=[],e.page1InitDataLength=0,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on"),$(".page2-table2-page").pagination({totalData:e.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){n.getCurrent();t.get(e.link+"/operate/getContact?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(t){e.WxList=[],e.page1InitDataLength=0,$(".page3-div-checkbox-friends").attr("checked",!1).parent().removeClass("on")})}})})):a.fuckArr.length>0?($(".page2-table3-page").css("display","block"),t.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(n){200==n.code?(e.WxList1=n.data.content,e.page1InitDataLength2=n.data.totalElements,$(".page2-table3-page").pagination({isHide:!0,totalData:e.page1InitDataLength2,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};0==a.fuckArr.length?(e.WxList1=[],e.page1InitDataLength2=0,$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择相关设备查看对应好友"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):t.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+i.page+"&pageSize=15").success(function(t){e.WxList1=t.data.content,e.page1InitDataLength2=t.data.totalElements})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})):(a.fuckArr=[],$(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请勾选相关设备以便对其操作"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3),e.page1InitDataLength2=0,t.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(n){e.WxList1=[],$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on"),$(".page2-table3-page").pagination({totalData:e.page1InitDataLength2,pageCount:1,showData:15,coping:!0,isHide:!0,count:2,callback:function(n){n.getCurrent();t.get(e.link+"/operate/getClubByWechatNumber?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(t){e.WxList1=[],e.page1InitDataLength2=0,$(".page3-div-checkbox-Groups").attr("checked",!1).parent().removeClass("on")})}})}))})}}}]),app.directive("groupCheckOneFour1",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){n.prop("checked")?n.parent().addClass("on"):n.parent().removeClass("on");for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1});for(var r=n.parent().parent().parent().parent().parent().parent().find("input"),l=!0,p=0;p<r.length;p++)0==r.eq(p).prop("checked")&&(l=!1);l?n.parent().parent().parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),a.fuckArr=[];for(s=0;s<$(".page17-wx-input").length;s++)$(".page17-wx-input").eq(s).prop("checked")&&a.fuckArr.push($(".page17-wx-input").eq(s).parent().next().attr("title"));e.table2AllChecks=a.fuckArr.length,10==e.page5getMoreData?t.get(e.link+"/wechat/getWechatsByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=1000").success(function(t){200==t.code?e.page3Data4AllData=t.data.content:($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}):t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=15").success(function(n){200==n.code?(a.page1InitDataLength=n.data.content.length,$(".page2-table1-page").pagination({totalData:a.page1InitDataLength,pageCount:1,showData:15,coping:!0,count:2,callback:function(n){var i={page:n.getCurrent()};t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+i.page+"&pageSize=15").success(function(t){e.equipList4=t.data.content,a.page1InitDataLength=t.data.content.length})}}),e.equipList4=n.data.content):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})})}}}]),app.directive("groupCheckOneNine",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){n.prop("checked")?n.parent().addClass("on"):n.parent().removeClass("on");for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1});for(var r=n.parent().parent().parent().parent().parent().parent().find("input"),l=!0,p=0;p<r.length;p++)0==r.eq(p).prop("checked")&&(l=!1);l?n.parent().parent().parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),a.fuckArr=[];for(s=0;s<$(".new-wx-equip-input9").length;s++)$(".new-wx-equip-input9").eq(s).prop("checked")&&a.fuckArr.push($(".new-wx-equip-input9").eq(s).parent().next().attr("title"));t.get(e.link+"/wechat/getWechatsByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=6").success(function(n){200==n.code?(e.MemberList9=n.data.content,$("#pages9").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){t.get(e.link+"/wechat/getWechatsByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+n+"&pageSize=6").success(function(t){e.MemberList9=t.data.content})}})):alert(n.msg)})})}}}]),app.directive("groupCheckOneSeventeen",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){n.prop("checked")?n.parent().addClass("on"):n.parent().removeClass("on");for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1});for(var r=n.parent().parent().parent().parent().parent().parent().find("input"),l=!0,p=0;p<r.length;p++)0==r.eq(p).prop("checked")&&(l=!1);l?n.parent().parent().parent().parent().parent().parent().prev().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().parent().parent().prev().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),a.fuckArr=[];for(s=0;s<$(".page17-wx-input").length;s++)$(".page17-wx-input").eq(s).prop("checked")&&a.fuckArr.push($(".page17-wx-input").eq(s).parent().next().attr("title"));t.get(e.link+"/device/getDeviceByDevice/?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=17").success(function(n){e.fuckList=n.data.content,$("#pages17").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){t.get(e.link+"/device/getDeviceByDevice/?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+n+"&pageSize=17").success(function(t){e.fuckList=t.data.content})}})})})}}}]),app.directive("groupCheckOneTw",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){n.prop("checked")?n.parent().addClass("on"):n.parent().removeClass("on");for(var i=n.parent().parent().parent().parent().find("input"),o=!0,s=0;s<i.length;s++)0==i.eq(s).prop("checked")&&(o=!1);o?n.parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1});for(var r=n.parent().parent().parent().parent().parent().parent().find("input"),l=!0,p=0;p<r.length;p++)0==r.eq(p).prop("checked")&&(l=!1);l?n.parent().parent().parent().parent().parent().parent().prev().find("p").addClass("on").find("input").prop("checked",function(){return!0}):n.parent().parent().parent().parent().parent().parent().prev().find("p").removeClass("on").find("input").prop("checked",function(){return!1}),a.fuckArr=[];for(s=0;s<$(".new-wx-equip-input12").length;s++)$(".new-wx-equip-input12").eq(s).prop("checked")&&a.fuckArr.push($(".new-wx-equip-input12").eq(s).parent().next().attr("title"));t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo=1&pageSize=16").success(function(n){200==n.code?(e.MemberList12=n.data.content,$("#pages12").Page({totalPages:n.data.totalPages,liNums:5,activeClass:"activP",callBack:function(n){t.get(e.link+"/device/getDeviceByDevice?devices="+JSON.stringify(a.fuckArr)+"&pageNo="+n+"&pageSize=16").success(function(t){e.MemberList12=t.data.content})}})):alert(n.msg)})})}}}]),app.directive("groupChecked",["$timeout",function(e){return{link:function(t,a){e(function(){a.prop("checked")?a.parent().addClass("on"):a.parent().removeClass("on")},0),a.click(function(){a.prop("checked")?(t.daluan=1,a.parent().addClass("on")):(t.daluan=0,a.parent().removeClass("on"))})}}}]),app.directive("groupCheckedEl",function(){return{link:function(e,t){t.click(function(){t.prop("checked")?t.parent().addClass("on"):t.parent().removeClass("on")})}}}),app.directive("groupCheckedFive",function(){return{link:function(e,t){t.click(function(){if(t.prop("checked")){t.parent().removeClass("on");for(var e=t.parents(".page5-floor-one-list").find(".page5-div-checkbox"),a=0,n=!0;a<e.length;a++)e.eq(a).find("input").prop("checked")||(n=!1);n&&t.parents(".page5-floor-one-list").find(".page5-checkAll-div").removeClass("on").find("input").prop("checked","checked")}else t.parent().addClass("on"),t.parents(".page5-floor-one-list").find(".page5-checkAll-div").addClass("on").find("input").prop("checked",function(){return!1})})}}}),app.directive("groupCheckedTw",function(){return{link:function(e,t){t.click(function(){if(t.prop("checked")){t.parent().addClass("on");for(var e=t.parents(".page11-floor-two-list").find(".page11-div-checkbox"),a=0,n=!0;a<e.length;a++)e.eq(a).find("input").prop("checked")||(n=!1);n&&t.parents(".page11-floor-two-list").find(".page11-checkAll-div").addClass("on").find("input").prop("checked","checked")}else t.parent().removeClass("on"),t.parents(".page11-floor-two-list").find(".page11-checkAll-div").removeClass("on").find("input").prop("checked",function(){return!1})})}}}),app.directive("groupCheckedNine",function(){return{link:function(e,t){t.click(function(){if(t.prop("checked")){t.parent().addClass("on");for(var e=t.parents(".page9-one-list").find(".page9-checked"),a=0,n=!0;a<e.length;a++)e.eq(a).find("input").prop("checked")||(n=!1);n&&t.parents(".page9-one-list").find(".page9-checked-all").addClass("on").find("input").prop("checked","checked")}else t.parent().removeClass("on"),t.parents(".page9-one-list").find(".page9-checked-all").removeClass("on").find("input").prop("checked",function(){return!1})})}}}),app.directive("groupCheckedSs",["$rootScope",function(e){return{link:function(t,a){a.click(function(){if(a.prop("checked")){var t=a.parents(".page3-table-up-telephone").find(".page3-div-checkbox");if(1==t.length)a.parent().addClass("on"),"精准加人"==a.attr("data")?e.farGo=!1:e.farGo=!0,e.sendValuePp=a[0].value,e.page29Wnum=a.attr("data2"),e.page29Number=a.attr("data3"),e.page29Id=a.attr("data4"),e.page29Type=a.attr("data5");else{for(var n=0,i=!0;n<t.length;n++)t.eq(n).find("input").prop("checked")||(i=!1);i?(a.parents().parents().parents().parents().find(".page2-table3-group").css("background-color","white").find("input").prop("disabled",function(){return!1}),e.page29Id="",e.sendValuePp=void 0):(a.parent().addClass("on"),"精准加人"==a.attr("data")?e.farGo=!1:e.farGo=!0,a.parents().parents().parents().parents().siblings().find(".page2-table3-group").css("background-color","#7A7A7A").find("input").prop("disabled","disabled"),e.sendValuePp=a[0].value,e.page29Wnum=a.attr("data2"),e.page29Number=a.attr("data3"),e.page29Id=a.attr("data4"),e.page29Type=a.attr("data5"))}}else a.parents().parents().parents().parents().find(".page2-table3-group").removeClass("on"),a.parents().parents().parents().parents().find(".page2-table3-group").css("background-color","white").find("input").prop("disabled",function(){return!1}),e.page29Id="",e.sendValuePp=void 0})}}}]),app.directive("groupCheckedSs1",["$rootScope",function(e){return{link:function(t,a){a.click(function(){a.prop("checked")?(console.log(a),a.parent().addClass("on"),e.sendValuePp1=a[0].attributes[1].value,a.prop("disabled",function(){return!1}),a.parent().parent().parent().parent().siblings().find(".page11-div-checkbox").css("background-color","#7A7A7A").removeClass("on").find("input").prop("disabled","disabled")):a.parent().parent().parent().parent().parent().find(".page11-div-checkbox").css("background-color","white").removeClass("on").find("input").prop("disabled",function(){return!1})})}}}]),app.directive("groupCheckedTw",function(){return{link:function(e,t){t.click(function(){if(t.prop("checked")){t.parent().addClass("on");for(var e=t.parents(".page12-floor-two-list").find(".page12-div-checkbox"),a=0,n=!0;a<e.length;a++)e.eq(a).find("input").prop("checked")||(n=!1);n&&t.parents(".page12-floor-two-list").find(".page12-checkAll-div").addClass("on").find("input").prop("checked","checked")}else t.parent().removeClass("on"),t.parents(".page12-floor-two-list").find(".page12-checkAll-div").removeClass("on").find("input").prop("checked",function(){return!1})})}}}),app.directive("mChecked",["$timeout",function(e){return{link:function(t,a){a.parent().addClass("on").show(),e(function(){1!=a.attr("mess_id")&&a.parent().parent().next().find("li").length>0&&(a.prop("checked",function(){return!0}),a.parent().addClass("on").show(),a.parent().parent().next().show(),a.parent().parent().next().find("p").addClass("on").find("input").prop("checked",function(){return!0}))},0)}}}]),app.directive("navClick",function(){return{link:function(e,t){t.click(function(){t.parent().parent().find(".nav-floor-ul").hide(),t.parent().parent().find(".line").hide(),t.parent().find(".nav-floor-ul").show(),t.parent().find(".line").show()})}}}),app.directive("newListShow",function(){return{link:function(e,t){t.click(function(){t.parent().next().toggle(),!t.parent().next().is(":hidden")&&t.parent().next().find("li").length>0?t.parent().next().find("p").show():t.parent().next().find("p").hide()})}}}),app.directive("radioChecked",function(){return{link:function(e,t){t.click(function(){t.prop("checked")&&(t.parents(".page13-floor-classify").find(".page13-classify-radio").removeClass("on"),t.parent().addClass("on"))})}}}),app.directive("radioCheckedFive",function(){return{link:function(e,t){t.click(function(){t.prop("checked")&&(t.parents(".switch-list").find("span").removeClass("on"),t.parent().addClass("on"))})}}}),app.directive("radioCheckedFt",function(){return{link:function(e,t){t.click(function(){t.prop("checked")&&(t.parents(".page14-floor-one-list").find("span").removeClass("on"),t.parent().addClass("on"))})}}}),app.directive("radioCheckedSix",function(){return{link:function(e,t){t.prop("checked")&&t.parent().addClass("on"),t.click(function(){t.prop("checked")&&(t.parents(".page6-third-li").find("div").removeClass("on"),t.parent().addClass("on"))})}}}),app.directive("radioCheckedSixteen",function(){return{link:function(e,t){t.click(function(){t.prop("checked")&&(t.parents(".page16-third-li").find("div").removeClass("on"),t.parent().addClass("on"))})}}}),app.directive("radioCheckedTen",function(){return{link:function(e,t){t.click(function(){t.prop("checked")&&(t.parents(".page10-one-list").find(".page10-one-radio").removeClass("on"),t.parent().addClass("on"))})}}}),app.directive("reload",function(){return{link:function(e,t){t.click(function(){location.reload()})}}}),app.directive("screenCheckedAll",function(){return{link:function(e,t){t.click(function(){t.prop("checked")?(t.parent().addClass("on"),t.parent().parent().parent().parent().parent().next().find(".canvas-ul").find("p").addClass("on").find("input").prop("checked",function(){return!0})):(t.parent().removeClass("on"),t.parent().parent().parent().parent().parent().next().find(".canvas-ul").find("p").removeClass("on").find("input").prop("checked",function(){return!1}))})}}}),app.directive("startService",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){for(var a=0,i=[];a<$(".new-wx-equip-input20").length;a++)$(".new-wx-equip-input20").eq(a).prop("checked")&&i.push($(".new-wx-equip-input20").eq(a).parent().next().attr("title"));var o=n.attr("t_id"),s=n.parent().parent().prev().find(".page20-b-list-two").find("input").val(),r=n.parent().parent().prev().find(".page20-b-list-three").eq(0).find("input").val(),l=n.parent().parent().prev().find(".page20-b-list-three").eq(1).find("input").val(),p=n.parent().parent().prev().find(".page20-b-list-three").eq(2).find("input").val(),c=0;n.parent().parent().prev().find(".page20-b-list-one").find("input").prop("checked")&&(c=1);var d=n.parent().parent().prev().find(".page20-b-list-four").find("input:checked").val()||3;0==i.length?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择并勾选需要进行操作的设备"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):""==s?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请填写打招呼用语"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):""==r?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请填写时间间隔"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):""==l?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请填写每天加人的数量"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):3==d?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请选择加人策略"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):""==p?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请填写任务执行时间间隔"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):t.get(e.link+"/remote/openServer?tid="+o+"&devices="+JSON.stringify(i)+"&interval="+r+"&msg="+s+"&clear="+c+"&strategy="+d+"&count="+l+"&number="+p).success(function(e){0==e.code?($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;开启成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3),n.next().removeAttr("disabled").css("background","#2abf9e"),n.next().next().removeAttr("disabled").css("background","#2abf9e"),n.attr("disabled","disabled").css("background","#ccc"),n.parent().parent().prev().prev().text("正在执行")):100==e.code?($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;任务已完成"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3)):101==e.code&&($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;任务已就绪"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3))})})}}}]),app.directive("stopService",["$rootScope","$http",function(e,t){return{link:function(a,n){n.click(function(){var a=n.attr("t_id");t.get(e.link+"/remote/stopServer?tid="+a).success(function(e){200==e.code&&(alert("暂停成功！"),n.attr("disabled","disabled").css("background","#ccc"),n.next().attr("disabled","disabled").css("background","#ccc"),n.prev().removeAttr("disabled").css("background","#2abf9e"),n.parent().parent().prev().prev().text("等待执行"))})})}}}]),app.directive("tableEdit",["$rootScope",function(e){return{link:function(e,t){t.click(function(){t.parent().prev().prev().prev().prev().prev().find("input").removeClass("on").removeAttr("readonly"),t.addClass("ce"),t.prev().removeClass("cs")})}}}]),app.directive("tableSave",["$rootScope","$http","$timeout",function(e,t,a){return{link:function(a,n){n.click(function(){""==n.parent().parent().find("input").val()?($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;请填写需要保存的设备编号"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)):t.get(e.link+"/device/editRank?device="+n.attr("mess_device")+"&rank="+n.parent().prev().prev().prev().prev().prev().find("input").val()).success(function(i){200==i.code?($(".page1-alert-small-success").show(300).find(".page1-alert-small-success-con").html("&nbsp;&nbsp;设备编号保存成功"),setTimeout(function(){$(".page1-alert-small-success").hide(300)},2e3),t.get(e.link+"/group/getGroupData").success(function(t){e.groupNames=t.data,e.groupNumbers=t.data.length,e.pageZhe=!0,e.AssGroupNames=[],e.allEquipIds=[],e.equipCounts=0;for(var a=0;a<t.data.length;a++)e.AssGroupNames.push(t.data[a].group.name),e.allEquipIds.push(t.data[a].group.id),e.equipCounts+=t.data[a].count;for(var n=0;n<t.data.length;n++)if(0!=t.data[n].count){e.pageZhe=!1;break}}),t.get(e.link+"/group/getGroupDataByStatus").success(function(t){if(200==t.code){e.onlineGroupNames=t.data,e.moArray=[];for(var a=0;a<t.data[0].deviceVos.length;a++)e.moArray.push(t.data[0].deviceVos[a].device)}else $(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3)}),t.get(e.link+"/device/getAllDevice?pageNo=1&pageSize=15").success(function(n){200==n.code?(0==n.data.content.length?a.sweepBox=!0:e.DataList=n.data.content,$(".M-box1").pagination({totalData:n.data.content.length,showData:15,coping:!0,count:2,callback:function(a){t.get(e.link+"/device/getAllDevice?pageNo="+page+"&pageSize=15").success(function(t){e.DataList=t.data.content})}})):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;数据加载失败，请重试并检查设备连接"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))}),n.parent().prev().prev().prev().prev().prev().find("input").addClass("on").attr("readonly","readonly"),n.addClass("cs"),n.next().removeClass("ce")):($(".page1-alert-small-danger").show(300).find(".page1-alert-small-danger-con").html("&nbsp;&nbsp;设备编号保存失败，请查看手机编号是否重复并重试"),setTimeout(function(){$(".page1-alert-small-danger").hide(300)},2e3))})})}}}]),app.directive("uploadFile",function(){return{link:function(e,t){t.on("change",function(){e.upFile=this.files[0],e.upFile.name.length>=12?$(".exselTextGra").html(e.upFile.name.slice(0,9)+"..."):$(".exselTextGra").html(e.upFile.name),$(".exselTextGray").html((e.upFile.size/1024).toFixed(2)+"kb"),$(".upText").show()})}}}),app.directive("uploadFile1",function(){return{link:function(e,t){t.on("change",function(){e.upFile1=this.files[0],e.upFile1.name.length>=12?$(".exselTextGra1").html(e.upFile1.name.slice(0,9)+"..."):$(".exselTextGra1").html(e.upFile1.name),$(".exselTextGray1").html((e.upFile1.size/1024).toFixed(2)+"kb"),$(".upText1").show()})}}}),app.directive("uploadFile2",function(){return{link:function(e,t){t.on("change",function(){e.upFile2=this.files[0],e.upFile2.name.length>=12?$(".exselTextGra2").html(e.upFile2.name.slice(0,9)+"..."):$(".exselTextGra2").html(e.upFile2.name),$(".exselTextGray2").html((e.upFile2.size/1024).toFixed(2)+"kb"),$(".upText2").show()})}}}),app.directive("uploadFile3",function(){return{link:function(e,t){t.on("change",function(){e.upFile3=this.files[0],e.upFile3.name.length>=12?$(".exselTextGra3").html(e.upFile3.name.slice(0,9)+"..."):$(".exselTextGra3").html(e.upFile3.name),$(".exselTextGray3").html((e.upFile3.size/1024).toFixed(2)+"kb"),$(".upText3").show()})}}}),app.directive("uploadFile4",function(){return{link:function(e,t){t.on("change",function(){e.upFile4=this.files[0],e.upFile4.name.length>=12?$(".exselTextGra4").html(e.upFile4.name.slice(0,9)+"..."):$(".exselTextGra4").html(e.upFile4.name),$(".exselTextGray4").html((e.upFile4.size/1024).toFixed(2)+"kb"),$(".upText4").show()})}}}),app.directive("uploadFile5",function(){return{link:function(e,t){t.on("change",function(){e.upFile5=this.files[0],e.upFile5.name.length>=12?$(".exselTextGra5").html(e.upFile5.name.slice(0,9)+"..."):$(".exselTextGra5").html(e.upFile5.name),$(".exselTextGray5").html((e.upFile5.size/1024).toFixed(2)+"kb"),$(".upText5").show()})}}}),app.directive("uploadFile6",function(){return{link:function(e,t){t.on("change",function(){var a=this.files[0];if(!/image\/\w+/.test(a.type))return alert("文件必须为图片！"),!1;var n=new FileReader;n.readAsDataURL(a),n.onload=function(e){t.parent().css({backgroundImage:"url("+this.result+")",backgroundSize:"100%"})},e.page4Table1pic=a})}}}),app.directive("uploadImage1",function(){return{link:function(e,t){t.on("change",function(){var a=this.files[0];if(!/image\/\w+/.test(a.type))return alert("文件必须为图片！"),!1;var n=new FileReader;n.readAsDataURL(a),n.onload=function(a){t.parent().css({backgroundImage:"url("+this.result+")",backgroundSize:"100%"}),e.picArr.push(parseInt(t.prev().text())),e.mustChoose.push(parseInt(t.prev().text())),t.parent().next().show(),e.$apply()},e.sendObj.append("file1",a)})}}}),app.directive("uploadImage2",function(){return{link:function(e,t){t.on("change",function(){var a=this.files[0];if(!/image\/\w+/.test(a.type))return alert("文件必须为图片！"),!1;var n=new FileReader;n.readAsDataURL(a),n.onload=function(a){t.parent().css({backgroundImage:"url("+this.result+")",backgroundSize:"100%"}),e.picArr.push(parseInt(t.prev().text())),e.mustChoose.push(parseInt(t.prev().text())),t.parent().next().show(),e.$apply()},e.sendObj.append("file2",a)})}}}),app.directive("uploadImage3",function(){return{link:function(e,t){t.on("change",function(){var a=this.files[0];if(!/image\/\w+/.test(a.type))return alert("文件必须为图片！"),!1;var n=new FileReader;n.readAsDataURL(a),n.onload=function(a){t.parent().css({backgroundImage:"url("+this.result+")",backgroundSize:"100%"}),e.picArr.push(parseInt(t.prev().text())),e.mustChoose.push(parseInt(t.prev().text())),t.parent().next().show(),e.$apply()},e.sendObj.append("file3",a)})}}}),app.directive("uploadImage4",function(){return{link:function(e,t){t.on("change",function(){var a=this.files[0];if(!/image\/\w+/.test(a.type))return alert("文件必须为图片！"),!1;var n=new FileReader;n.readAsDataURL(a),n.onload=function(a){t.parent().css({backgroundImage:"url("+this.result+")",backgroundSize:"100%"}),e.picArr.push(parseInt(t.prev().text())),t.parent().next().show(),e.mustChoose.push(parseInt(t.prev().text())),e.$apply()},e.sendObj.append("file4",a)})}}}),app.directive("uploadImage5",function(){return{link:function(e,t){t.on("change",function(){var a=this.files[0];if(!/image\/\w+/.test(a.type))return alert("文件必须为图片！"),!1;var n=new FileReader;n.readAsDataURL(a),n.onload=function(a){t.parent().css({backgroundImage:"url("+this.result+")",backgroundSize:"100%"}),e.picArr.push(parseInt(t.prev().text())),t.parent().next().show(),e.mustChoose.push(parseInt(t.prev().text())),e.$apply()},e.sendObj.append("file5",a)})}}}),app.directive("uploadImage6",function(){return{link:function(e,t){t.on("change",function(){var a=this.files[0];if(!/image\/\w+/.test(a.type))return alert("文件必须为图片！"),!1;var n=new FileReader;n.readAsDataURL(a),n.onload=function(a){t.parent().css({backgroundImage:"url("+this.result+")",backgroundSize:"100%"}),e.picArr.push(parseInt(t.prev().text())),t.parent().next().show(),e.mustChoose.push(parseInt(t.prev().text())),e.$apply()},e.sendObj.append("file6",a)})}}}),app.directive("uploadImage7",function(){return{link:function(e,t){t.on("change",function(){var a=this.files[0];if(!/image\/\w+/.test(a.type))return alert("文件必须为图片！"),!1;var n=new FileReader;n.readAsDataURL(a),n.onload=function(a){t.parent().css({backgroundImage:"url("+this.result+")",backgroundSize:"100%"}),e.picArr.push(parseInt(t.prev().text())),t.parent().next().show(),e.mustChoose.push(parseInt(t.prev().text())),e.$apply()},e.sendObj.append("file7",a)})}}}),app.directive("uploadImage8",function(){return{link:function(e,t){t.on("change",function(){var a=this.files[0];if(!/image\/\w+/.test(a.type))return alert("文件必须为图片！"),!1;var n=new FileReader;n.readAsDataURL(a),n.onload=function(a){t.parent().css({backgroundImage:"url("+this.result+")",backgroundSize:"100%"}),e.picArr.push(parseInt(t.prev().text())),t.parent().next().show(),e.mustChoose.push(parseInt(t.prev().text())),e.$apply()},e.sendObj.append("file8",a)})}}}),app.directive("uploadImage9",function(){return{link:function(e,t){t.on("change",function(){var a=this.files[0];if(!/image\/\w+/.test(a.type))return alert("文件必须为图片！"),!1;var n=new FileReader;n.readAsDataURL(a),n.onload=function(a){t.parent().css({backgroundImage:"url("+this.result+")",backgroundSize:"100%"}),e.picArr.push(parseInt(t.prev().text())),t.parent().next().show(),e.mustChoose.push(parseInt(t.prev().text())),e.$apply()},e.sendObj.append("file9",a)})}}}),app.directive("uploadImageOnly1",function(){return{link:function(e,t){t.on("change",function(){var a=this.files[0];if(!/image\/\w+/.test(a.type))return alert("文件必须为图片！"),!1;var n=new FileReader;n.readAsDataURL(a),n.onload=function(a){t.parent().css({backgroundImage:"url("+this.result+")",backgroundSize:"100%"}),e.$apply()},e.sendObj.append("file1",a),e.sendObj.append("file",a),e.mmp=!0})}}}),app.directive("uploadPic",function(){return{link:function(e,t){t.on("change",function(){var a=this.files[0];if(!/image\/\w+/.test(a.type))return alert("文件必须为图片！"),!1;var n=new FileReader;n.readAsDataURL(a),n.onload=function(e){t.parent().css({backgroundImage:"url("+this.result+")",backgroundSize:"100%"})},e.pic=a})}}}),app.directive("widthWatcher",function(){return{link:function(e,t){window.onresize=function(){var e,a=t.width();a>=924?e=(a-924)/8:a<924&&a>=736?e=(a-736)/6:1160==a&&(e=0),t.find(".canvas-li").css("margin","0 "+e+"px 5px")}}}});